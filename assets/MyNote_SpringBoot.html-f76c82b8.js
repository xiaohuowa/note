import{_ as e,r as o,o as c,c as l,a as s,b as n,d as t,e as p}from"./app-55752f72.js";const i={},u=p(`<h1 id="springboot" tabindex="-1"><a class="header-anchor" href="#springboot" aria-hidden="true">#</a> SpringBoot</h1><h2 id="ç®€ä»‹" tabindex="-1"><a class="header-anchor" href="#ç®€ä»‹" aria-hidden="true">#</a> ç®€ä»‹</h2><p>SpringBootæ˜¯Springä¸­çš„ä¸€ä¸ªæˆå‘˜ï¼Œ å¯ä»¥ç®€åŒ–Springï¼ŒSpringMVCçš„ä½¿ç”¨ã€‚ ä»–çš„æ ¸å¿ƒè¿˜æ˜¯IOCå®¹å™¨ã€‚</p><h3 id="ç‰¹ç‚¹" tabindex="-1"><a class="header-anchor" href="#ç‰¹ç‚¹" aria-hidden="true">#</a> ç‰¹ç‚¹</h3><ol><li>Create stand-alone Spring applications</li></ol><ul><li>åˆ›å»ºspringåº”ç”¨</li></ul><ol start="2"><li>Embed Tomcat, Jetty or Undertow directly (no need to deploy WAR files)</li></ol><ul><li>å†…åµŒçš„tomcatï¼Œ jetty ï¼Œ Undertow</li></ul><ol start="3"><li>Provide opinionated &#39;starter&#39; dependencies to simplify your build configuration</li></ol><ul><li><p>æä¾›äº†starterèµ·æ­¥ä¾èµ–ï¼Œç®€åŒ–åº”ç”¨çš„é…ç½®ã€‚</p></li><li><p>æ¯”å¦‚ä½¿ç”¨MyBatisæ¡†æ¶ ï¼Œ éœ€è¦åœ¨Springé¡¹ç›®ä¸­ï¼Œé…ç½®MyBatisçš„å¯¹è±¡ SqlSessionFactory ï¼Œ Daoçš„ä»£ç†å¯¹è±¡</p></li><li><p>åœ¨SpringBooté¡¹ç›®ä¸­ï¼Œåœ¨pom.xmlé‡Œé¢, åŠ å…¥ä¸€ä¸ª mybatis-spring-boot-starterä¾èµ–</p></li></ul><ol start="4"><li>Automatically configure Spring and 3rd party libraries whenever possible</li></ol><p>å°½å¯èƒ½å»é…ç½®springå’Œç¬¬ä¸‰æ–¹åº“ã€‚å«åšè‡ªåŠ¨é…ç½®ï¼ˆå°±æ˜¯æŠŠspringä¸­çš„ï¼Œç¬¬ä¸‰æ–¹åº“ä¸­çš„å¯¹è±¡éƒ½åˆ›å»ºå¥½ï¼Œæ”¾åˆ°å®¹å™¨ä¸­ï¼Œ å¼€å‘äººå‘˜å¯ä»¥ç›´æ¥ä½¿ç”¨ï¼‰</p><ol start="5"><li>Provide production-ready features such as metrics, health checks, and externalized configuration</li></ol><ul><li>æä¾›äº†å¥åº·æ£€æŸ¥ï¼Œ ç»Ÿè®¡ï¼Œå¤–éƒ¨åŒ–é…ç½®</li></ul><ol start="6"><li>Absolutely no code generation and no requirement for XML configuration</li></ol><ul><li>ä¸ç”¨ç”Ÿæˆä»£ç ï¼Œ ä¸ç”¨ä½¿ç”¨xmlï¼Œåšé…ç½®</li></ul><h2 id="åˆ›å»ºspring-booté¡¹ç›®" tabindex="-1"><a class="header-anchor" href="#åˆ›å»ºspring-booté¡¹ç›®" aria-hidden="true">#</a> åˆ›å»ºSpring Booté¡¹ç›®</h2><h3 id="ä¸‰ç§æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#ä¸‰ç§æ–¹å¼" aria-hidden="true">#</a> ä¸‰ç§æ–¹å¼</h3><h4 id="ä¸€ã€ä½¿ç”¨ä½¿ç”¨springæä¾›çš„åˆå§‹åŒ–å™¨-å°±æ˜¯å‘å¯¼åˆ›å»ºspringbootåº”ç”¨" tabindex="-1"><a class="header-anchor" href="#ä¸€ã€ä½¿ç”¨ä½¿ç”¨springæä¾›çš„åˆå§‹åŒ–å™¨-å°±æ˜¯å‘å¯¼åˆ›å»ºspringbootåº”ç”¨" aria-hidden="true">#</a> ä¸€ã€ä½¿ç”¨ä½¿ç”¨Springæä¾›çš„åˆå§‹åŒ–å™¨ï¼Œ å°±æ˜¯å‘å¯¼åˆ›å»ºSpringBootåº”ç”¨</h4><p><img src="https://s2.loli.net/2023/10/17/robWR4NVup5aLfE.png" alt="image-20221021170859172"></p><h4 id="äºŒã€ä½¿ç”¨å›½å†…çš„åœ°å€" tabindex="-1"><a class="header-anchor" href="#äºŒã€ä½¿ç”¨å›½å†…çš„åœ°å€" aria-hidden="true">#</a> äºŒã€ä½¿ç”¨å›½å†…çš„åœ°å€</h4><p><code>https://start.springboot.io</code></p><p><img src="https://s2.loli.net/2023/10/17/5gLnQfR9FUbXDBw.png" alt="image-20221021170839270"></p><h2 id="springbootçš„åŸºæœ¬ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#springbootçš„åŸºæœ¬ä½¿ç”¨" aria-hidden="true">#</a> SpringBootçš„åŸºæœ¬ä½¿ç”¨</h2><h3 id="ğŸ¤springbootå¯åŠ¨ç±»æ³¨è§£-springbootapplication" tabindex="-1"><a class="header-anchor" href="#ğŸ¤springbootå¯åŠ¨ç±»æ³¨è§£-springbootapplication" aria-hidden="true">#</a> ğŸ¤SpringBootå¯åŠ¨ç±»æ³¨è§£@SpringBootApplication</h3><p><img src="https://s2.loli.net/2023/10/17/oBSPnhlpYmDuctL.png" alt="image-20221021171248109"></p><p><code>@SpringBootApplication</code>æ˜¯ä¸€ä¸ªå¤åˆæ³¨è§£ï¼Œä¸»è¦éƒ¨åˆ†ç”±ä»¥ä¸‹ä¸‰ä¸ªæ³¨è§£æ„æˆï¼š</p><ol><li><code>@SpringBootConfiguration</code><ul><li>è¿™ä¸ªæ³¨è§£çš„å…ƒæ³¨è§£æœ‰<code>@Configuration</code></li><li>æ‰€ä»¥ä½¿ç”¨äº†<code>@SpringBootConfigurationæ³¨è§£</code>æ ‡æ³¨çš„ç±»ï¼Œ<strong>å¯ä»¥ä½œä¸ºé…ç½®æ–‡ä»¶ä½¿ç”¨</strong>ï¼Œå¯ä»¥ä½¿ç”¨Beanå£°æ˜å¯¹è±¡ï¼Œæ³¨å…¥åˆ°å®¹å™¨</li></ul></li><li><code>@EnableAutoConfiguration</code><ul><li>å¯ç”¨è‡ªåŠ¨é…ç½®ï¼Œ æŠŠjavaå¯¹è±¡é…ç½®å¥½ï¼Œæ³¨å…¥åˆ°springå®¹å™¨ä¸­ã€‚ä¾‹å¦‚å¯ä»¥æŠŠmybatisçš„å¯¹è±¡åˆ›å»ºå¥½ï¼Œæ”¾å…¥åˆ°å®¹å™¨ä¸­</li></ul></li><li><code>@ComponentScan</code><ul><li>æ‰«æå™¨ï¼Œæ‰¾åˆ°æ³¨è§£ï¼Œæ ¹æ®æ³¨è§£çš„åŠŸèƒ½åˆ›å»ºå¯¹è±¡ï¼Œç»™å±æ€§èµ‹å€¼ç­‰ç­‰ã€‚</li><li><strong>é»˜è®¤æ‰«æçš„åŒ…ï¼š</strong> <code>@ComponentScan</code>æ‰€åœ¨çš„ç±»æ‰€åœ¨çš„åŒ…å’Œå­åŒ…ã€‚</li></ul></li></ol><h3 id="ğŸ¤springbootçš„é…ç½®æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#ğŸ¤springbootçš„é…ç½®æ–‡ä»¶" aria-hidden="true">#</a> ğŸ¤SpringBootçš„é…ç½®æ–‡ä»¶</h3><blockquote><p>SpringBootçš„ä¸»é…ç½®æ–‡ä»¶åå­—å›ºå®šä¸º<code>application</code></p><p>é…ç½®æ–‡ä»¶æœ‰ä¸¤ç§æ ¼å¼<code>.properties</code>å’Œ<code>.yml</code></p><p>åŒºåˆ«ï¼š</p><ol><li><p><code>.properties</code>é‡Œé¢ç”¨çš„æ˜¯<code>key=value</code></p><ul><li><div class="language-properties line-numbers-mode" data-ext="properties"><pre class="language-properties"><code><span class="token comment"># è®¾ç½®ç«¯å£</span>
<span class="token key attr-name">server.port</span><span class="token punctuation">=</span><span class="token value attr-value">8081</span>
<span class="token comment"># è®¾ç½®è®¿é—®åº”ç”¨ä¸Šä¸‹æ–‡è·¯å¾„ï¼ˆcontextpathï¼‰</span>
<span class="token key attr-name">server.servlet.context-path</span><span class="token punctuation">=</span><span class="token value attr-value">/haha</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li><p><code>.yml</code>é‡Œé¢ç”¨çš„æ˜¯<code>key: value</code>ï¼ˆæ³¨æ„ç©ºæ ¼ï¼‰</p><ul><li><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8080</span>
  <span class="token key atrule">servlet</span><span class="token punctuation">:</span>
    <span class="token key atrule">context-path</span><span class="token punctuation">:</span> /ha
<span class="token key atrule">student</span><span class="token punctuation">:</span>
  <span class="token key atrule">name</span><span class="token punctuation">:</span> å¼ ä¸‰
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li></ol></blockquote><h5 id="ä¸€ã€-å¤šç¯å¢ƒé…ç½®" tabindex="-1"><a class="header-anchor" href="#ä¸€ã€-å¤šç¯å¢ƒé…ç½®" aria-hidden="true">#</a> ä¸€ã€ å¤šç¯å¢ƒé…ç½®</h5><p>åœ¨å¼€å‘å’Œæµ‹è¯•æˆ–è€…ä¸Šçº¿çš„æ—¶å€™ï¼Œç”¨åˆ°çš„é…ç½®ä¸æ­¢ä¸€å¥—ï¼Œè¦å¿«é€Ÿåˆ‡æ¢çš„è¯å°±è¦å‡†å¤‡ä¸€ä¸‹å¤šç¯å¢ƒçš„é…ç½®æ–‡ä»¶</p><h6 id="ä¸åŒç¯å¢ƒé…ç½®æ–‡ä»¶å‘½å" tabindex="-1"><a class="header-anchor" href="#ä¸åŒç¯å¢ƒé…ç½®æ–‡ä»¶å‘½å" aria-hidden="true">#</a> ä¸åŒç¯å¢ƒé…ç½®æ–‡ä»¶å‘½å</h6><blockquote><p><code>application-XXX.yml</code>æˆ–è€…<code>application-XXX.properties</code></p></blockquote><h6 id="åœ¨ä¸»é…ç½®ä¸­å¯ç”¨æŸä¸ªç¯å¢ƒé…ç½®æ–‡ä»¶" tabindex="-1"><a class="header-anchor" href="#åœ¨ä¸»é…ç½®ä¸­å¯ç”¨æŸä¸ªç¯å¢ƒé…ç½®æ–‡ä»¶" aria-hidden="true">#</a> åœ¨ä¸»é…ç½®ä¸­å¯ç”¨æŸä¸ªç¯å¢ƒé…ç½®æ–‡ä»¶</h6><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token comment"># ç¯å¢ƒé…ç½®æ–‡ä»¶åä¸º application-dev.yml</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">profiles</span><span class="token punctuation">:</span>
    <span class="token key atrule">active</span><span class="token punctuation">:</span> dev
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="äºŒã€å°†é…ç½®æ–‡ä»¶æ•°æ®æ˜ å°„ä¸ºjavaå¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#äºŒã€å°†é…ç½®æ–‡ä»¶æ•°æ®æ˜ å°„ä¸ºjavaå¯¹è±¡" aria-hidden="true">#</a> äºŒã€å°†é…ç½®æ–‡ä»¶æ•°æ®æ˜ å°„ä¸ºJavaå¯¹è±¡</h5><blockquote><p>é€šè¿‡åœ¨POJOç±»ä¸ŠåŠ å…¥<code>@ConfigurationProperties</code>å°±èƒ½æŠŠé…ç½®æ–‡ä»¶çš„æ•°æ®æ˜ å°„ä¸ºjavaå¯¹è±¡ã€‚</p><p><code>@ConfigurationProperties</code>å±æ€§ï¼š<code>prefix</code>ï¼Œç”¨äºé…ç½®æ–‡ä»¶ä¸­çš„æŸäº›keyçš„å¼€å¤´çš„å†…å®¹ã€‚</p></blockquote><h6 id="ä¾‹å­" tabindex="-1"><a class="header-anchor" href="#ä¾‹å­" aria-hidden="true">#</a> ä¾‹å­</h6><p>pojoç±»</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Component</span>
<span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">&quot;school&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SchoolInfo</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> name<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> website<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">String</span> address<span class="token punctuation">;</span>

	<span class="token comment">// getter &amp; setter</span>
    <span class="token comment">// toString</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>application.properties</p><div class="language-properties line-numbers-mode" data-ext="properties"><pre class="language-properties"><code><span class="token comment"># è‡ªå®šä¹‰key=value</span>
<span class="token key attr-name">school.name</span><span class="token punctuation">=</span><span class="token value attr-value">ç¦å»ºå¹¼å„¿å›­</span>
<span class="token key attr-name">school.website</span><span class="token punctuation">=</span><span class="token value attr-value">www.baidu.com</span>
<span class="token key attr-name">school.address</span><span class="token punctuation">=</span><span class="token value attr-value">ç¦å»º</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="ä¸‰ã€-value-æ³¨è§£" tabindex="-1"><a class="header-anchor" href="#ä¸‰ã€-value-æ³¨è§£" aria-hidden="true">#</a> ä¸‰ã€<strong>@Value æ³¨è§£</strong></h4><p>é€šè¿‡<code>@Value æ³¨è§£</code>å¯ä»¥å°†é…ç½®æ–‡ä»¶çš„ä¿¡æ¯è·å–å‡ºæ¥</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;\${school.name}&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> <span class="token class-name">String</span> schoolName<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><blockquote><p>æ³¨æ„ï¼šé€šè¿‡<code>@Resource</code>å¯ä»¥è·å–åˆ°é…ç½®æ–‡ä»¶æ˜ å°„åçš„Javaå¯¹è±¡</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Resource</span>
<span class="token keyword">private</span> <span class="token class-name">SchoolInfo</span> schoolInfo<span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><h4 id="å››ã€ä½¿ç”¨jsp" tabindex="-1"><a class="header-anchor" href="#å››ã€ä½¿ç”¨jsp" aria-hidden="true">#</a> å››ã€ä½¿ç”¨jsp</h4><blockquote><p>SpringBootä¸æ¨èä½¿ç”¨jsp ï¼Œè€Œæ˜¯ä½¿ç”¨æ¨¡æ¿æŠ€æœ¯ä»£æ›¿jsp</p></blockquote><p>ä½¿ç”¨jspéœ€è¦é…ç½®ï¼š</p><ol><li><p>åŠ å…¥ä¸€ä¸ªå¤„ç†jspçš„ä¾èµ–ã€‚ è´Ÿè´£ç¼–è¯‘jspæ–‡ä»¶</p><ul><li><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.tomcat.embed<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>tomcat-embed-jasper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li><p>å¦‚æœéœ€è¦ä½¿ç”¨servletï¼Œ jspï¼Œjstlçš„åŠŸèƒ½</p><ul><li><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>javax.servlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jstl<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>javax.servlet<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>javax.servlet-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>javax.servlet.jsp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>javax.servlet.jsp-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.3.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li><p>åˆ›å»ºä¸€ä¸ªå­˜æ”¾jspçš„ç›®å½•ï¼Œä¸€èˆ¬å«åšwebapp</p></li><li><p>éœ€è¦åœ¨pom.xmlæŒ‡å®šjspæ–‡ä»¶ç¼–è¯‘åçš„å­˜æ”¾ç›®å½•ã€‚</p><ul><li><p>META-INF/resources</p></li><li><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>&lt;!â€”
 SpringBoot è¦æ±‚ jsp æ–‡ä»¶å¿…é¡»ç¼–è¯‘åˆ°æŒ‡å®šçš„
META-INF/resources ç›®å½•ä¸‹æ‰èƒ½è®¿é—®ï¼Œå¦åˆ™è®¿é—®ä¸åˆ°ã€‚
 å…¶å®ƒå®˜æ–¹å·²ç»å»ºè®®ä½¿ç”¨æ¨¡ç‰ˆæŠ€æœ¯ï¼ˆåé¢ä¼šè¯¾ç¨‹ä¼šå•ç‹¬è®²è§£æ¨¡ç‰ˆæŠ€
æœ¯ï¼‰
æ³¨æ„è¿™éƒ¨åˆ†è¦æ”¾<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span>é‡Œ
--&gt;
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resources</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resource</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--æºæ–‡ä»¶ä½ç½®--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>directory</span><span class="token punctuation">&gt;</span></span>src/main/webapp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>directory</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--æŒ‡å®šç¼–è¯‘åˆ°META-INF/resourceï¼Œè¯¥ç›®å½•ä¸èƒ½éšä¾¿å†™--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>targetPath</span><span class="token punctuation">&gt;</span></span>META-INF/resources<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>targetPath</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--æŒ‡å®šè¦æŠŠå“ªäº›æ–‡ä»¶ç¼–è¯‘è¿›å»ï¼Œ**è¡¨ç¤º webapp ç›®å½•åŠå­
ç›®å½•ï¼Œ*.*è¡¨ç¤ºæ‰€æœ‰æ–‡ä»¶--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>includes</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span><span class="token punctuation">&gt;</span></span>**/*.*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>includes</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resource</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resources</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li><p>åˆ›å»ºControllerï¼Œ è®¿é—®jsp</p></li><li><p>åœ¨application.propertisæ–‡ä»¶ä¸­é…ç½®è§†å›¾è§£æå™¨</p><ul><li><p>ç›¸å½“äº Spring MVC çš„é…ç½®</p></li><li><div class="language-properties line-numbers-mode" data-ext="properties"><pre class="language-properties"><code><span class="token comment">#é…ç½® SpringMVC çš„è§†å›¾è§£æå™¨</span>
<span class="token comment">#å…¶ä¸­ï¼š&#39;/&#39;ç›¸å½“äº src/main/webapp ç›®å½•</span>
<span class="token key attr-name">spring.mvc.view.prefix</span><span class="token punctuation">=</span><span class="token value attr-value">/</span>
<span class="token key attr-name">spring.mvc.view.suffix</span><span class="token punctuation">=</span><span class="token value attr-value">.jsp</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li></li></ul></li></ol><h3 id="ğŸ¤ä½¿ç”¨applicationcontextå®¹å™¨" tabindex="-1"><a class="header-anchor" href="#ğŸ¤ä½¿ç”¨applicationcontextå®¹å™¨" aria-hidden="true">#</a> ğŸ¤ä½¿ç”¨ApplicationContextå®¹å™¨</h3><blockquote><p>åœ¨<code>Applicationå¯åŠ¨ç±»</code>ä¸­ï¼Œ<code>runæ–¹æ³•</code>çš„è¿”å›å€¼æ˜¯<code>ConfigurableApplicationContext</code>ï¼Œè€Œ<code>ConfigurableApplicationContext</code>æ˜¯<code>ApplicationContext</code>çš„å­æ¥å£</p><p>æ‰€ä»¥é€šè¿‡runæ–¹æ³•å¯ä»¥<strong>ç›´æ¥æ‹¿åˆ°å®¹å™¨å¯¹è±¡</strong></p><p>ä¹Ÿå¯ä»¥ä»å®¹å™¨ä¸­è·å–å¯¹è±¡</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>xiaohuowa</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>xiaohuowa<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">UserService</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">SpringApplication</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span></span><span class="token class-name">SpringBootApplication</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span></span><span class="token class-name">ConfigurableApplicationContext</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Application</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// æ‹¿åˆ°å®¹å™¨</span>
        <span class="token class-name">ConfigurableApplicationContext</span> applicationContext <span class="token operator">=</span> <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">Application</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è·å–å¯¹è±¡</span>
        <span class="token class-name">UserService</span> userService <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">UserService</span><span class="token punctuation">)</span> applicationContext<span class="token punctuation">.</span><span class="token function">getBean</span><span class="token punctuation">(</span><span class="token string">&quot;userService&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// æ‰§è¡Œä¸€äº›æ“ä½œ</span>
        userService<span class="token punctuation">.</span><span class="token function">doSome</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ğŸ¤springbootè‡ªåŠ¨è£…é…" tabindex="-1"><a class="header-anchor" href="#ğŸ¤springbootè‡ªåŠ¨è£…é…" aria-hidden="true">#</a> ğŸ¤SpringBootè‡ªåŠ¨è£…é…</h3><h4 id="æŸ¥çœ‹å®¹å™¨é‡Œé¢çš„ç»„ä»¶" tabindex="-1"><a class="header-anchor" href="#æŸ¥çœ‹å®¹å™¨é‡Œé¢çš„ç»„ä»¶" aria-hidden="true">#</a> æŸ¥çœ‹å®¹å™¨é‡Œé¢çš„ç»„ä»¶</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">ConfigurableApplicationContext</span> run <span class="token operator">=</span> <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">UserBootApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// æŸ¥çœ‹å®¹å™¨é‡Œé¢çš„ç»„ä»¶</span>
    <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> beanDefinitionNames <span class="token operator">=</span> run<span class="token punctuation">.</span><span class="token function">getBeanDefinitionNames</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">String</span> beanDefinitionName <span class="token operator">:</span> beanDefinitionNames<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>beanDefinitionName<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="bean" tabindex="-1"><a class="header-anchor" href="#bean" aria-hidden="true">#</a> @Bean</h4><p><code>@Bean</code></p><ol><li>æ‰€åœ¨çš„æ–¹æ³•åå³ä¸ºæ³¨å†Œç»„ä»¶çš„IDï¼ˆä¹Ÿå¯ä»¥åœ¨@Beanåé¢åŠ ä¸Šå‚æ•°ï¼ŒæŒ‡å®šç»„ä»¶çš„IDï¼‰</li><li>è¿”ç±»å‹å°±æ˜¯ç»„ä»¶çš„ç±»å‹</li><li>è¿”å›çš„å€¼å°±æ˜¯å®¹å™¨ä¸­çš„å®ä¾‹ã€‚</li></ol><h4 id="configurationæ ‡æ³¨çš„é…ç½®ç±»" tabindex="-1"><a class="header-anchor" href="#configurationæ ‡æ³¨çš„é…ç½®ç±»" aria-hidden="true">#</a> @Configurationæ ‡æ³¨çš„é…ç½®ç±»</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * 1ã€é…ç½®ç±»é‡Œé¢ä½¿ç”¨@Beanæ ‡æ³¨åœ¨æ–¹æ³•ä¸Šç»™å®¹å™¨æ³¨å†Œç»„ä»¶ï¼Œé»˜è®¤ä¹Ÿæ˜¯å•å®ä¾‹çš„
 * 2ã€é…ç½®ç±»æœ¬èº«ä¹Ÿæ˜¯ç»„ä»¶
 * 3ã€proxyBeanMethodsï¼šä»£ç†beançš„æ–¹æ³•
 *      Full(proxyBeanMethods = true)ã€ã€ä¿è¯æ¯ä¸ª@Beanæ–¹æ³•è¢«è°ƒç”¨å¤šå°‘æ¬¡è¿”å›çš„ç»„ä»¶éƒ½æ˜¯å•å®ä¾‹çš„ã€‘
 *      Lite(proxyBeanMethods = false)ã€æ¯ä¸ª@Beanæ–¹æ³•è¢«è°ƒç”¨å¤šå°‘æ¬¡è¿”å›çš„ç»„ä»¶éƒ½æ˜¯æ–°åˆ›å»ºçš„ã€‘
 *      ç»„ä»¶ä¾èµ–å¿…é¡»ä½¿ç”¨Fullæ¨¡å¼é»˜è®¤ã€‚å…¶ä»–é»˜è®¤æ˜¯å¦Liteæ¨¡å¼
 *
 * 4ã€@Import(<span class="token punctuation">{</span>User.class, DBHelper.class<span class="token punctuation">}</span>)
 *      ç»™å®¹å™¨ä¸­è‡ªåŠ¨åˆ›å»ºå‡ºè¿™ä¸¤ä¸ªç±»å‹çš„ç»„ä»¶ã€é»˜è®¤ç»„ä»¶çš„åå­—å°±æ˜¯å…¨ç±»å
 *
 *
 * 5ã€@ImportResource(&quot;classpath:beans.xml&quot;)å¯¼å…¥Springçš„é…ç½®æ–‡ä»¶ï¼Œ
 *
 */</span>

<span class="token annotation punctuation">@Import</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token class-name">User</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token class-name">DBHelper</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@Configuration</span><span class="token punctuation">(</span>proxyBeanMethods <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token comment">//å‘Šè¯‰SpringBootè¿™æ˜¯ä¸€ä¸ªé…ç½®ç±» == é…ç½®æ–‡ä»¶</span>
<span class="token comment">//@ConditionalOnBean(name = &quot;tom&quot;)</span>
<span class="token annotation punctuation">@ConditionalOnMissingBean</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;tom&quot;</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@ImportResource</span><span class="token punctuation">(</span><span class="token string">&quot;classpath:beans.xml&quot;</span><span class="token punctuation">)</span>
<span class="token comment">//@EnableConfigurationProperties(Car.class)</span>
<span class="token comment">//1ã€å¼€å¯Caré…ç½®ç»‘å®šåŠŸèƒ½</span>
<span class="token comment">//2ã€æŠŠè¿™ä¸ªCarè¿™ä¸ªç»„ä»¶è‡ªåŠ¨æ³¨å†Œåˆ°å®¹å™¨ä¸­</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyConfig</span> <span class="token punctuation">{</span>


    <span class="token doc-comment comment">/**
     * Full:å¤–éƒ¨æ— è®ºå¯¹é…ç½®ç±»ä¸­çš„è¿™ä¸ªç»„ä»¶æ³¨å†Œæ–¹æ³•è°ƒç”¨å¤šå°‘æ¬¡è·å–çš„éƒ½æ˜¯ä¹‹å‰æ³¨å†Œå®¹å™¨ä¸­çš„å•å®ä¾‹å¯¹è±¡
     * <span class="token keyword">@return</span>
     */</span>

    <span class="token annotation punctuation">@Bean</span> <span class="token comment">//ç»™å®¹å™¨ä¸­æ·»åŠ ç»„ä»¶ã€‚ä»¥æ–¹æ³•åä½œä¸ºç»„ä»¶çš„idã€‚è¿”å›ç±»å‹å°±æ˜¯ç»„ä»¶ç±»å‹ã€‚è¿”å›çš„å€¼ï¼Œå°±æ˜¯ç»„ä»¶åœ¨å®¹å™¨ä¸­çš„å®ä¾‹</span>
    <span class="token keyword">public</span> <span class="token class-name">User</span> <span class="token function">user01</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">User</span> zhangsan <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//userç»„ä»¶ä¾èµ–äº†Petç»„ä»¶</span>
        zhangsan<span class="token punctuation">.</span><span class="token function">setPet</span><span class="token punctuation">(</span><span class="token function">tomcatPet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> zhangsan<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Bean</span><span class="token punctuation">(</span><span class="token string">&quot;tom22&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Pet</span> <span class="token function">tomcatPet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Pet</span><span class="token punctuation">(</span><span class="token string">&quot;tomcat&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token comment">//    @Bean</span>
<span class="token comment">//    public CharacterEncodingFilter filter(){</span>
<span class="token comment">//        return null;</span>
<span class="token comment">//    }</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="proxybeanmethods" tabindex="-1"><a class="header-anchor" href="#proxybeanmethods" aria-hidden="true">#</a> proxyBeanMethods</h5><blockquote><p><code>proxyBeanMethods</code>ä¸º<code>@configuration</code>çš„å‚æ•°ï¼Œç”¨äºæŒ‡å®šæ˜¯å¦ä»£ç†beançš„æ–¹æ³•ï¼Œé»˜è®¤æ˜¯true</p><ol><li><code>Full(proxyBeanMethods = true)</code>ã€ä¿è¯æ¯ä¸ª@Beanæ–¹æ³•è¢«è°ƒç”¨å¤šå°‘æ¬¡è¿”å›çš„ç»„ä»¶éƒ½æ˜¯å•å®ä¾‹çš„ã€‘</li><li><code>Lite(proxyBeanMethods = false)</code>ã€æ¯ä¸ª@Beanæ–¹æ³•è¢«è°ƒç”¨å¤šå°‘æ¬¡è¿”å›çš„ç»„ä»¶éƒ½æ˜¯æ–°åˆ›å»ºçš„ã€‘</li></ol><ul><li>å¦‚æœæœ‰ç»„ä»¶ä¾èµ–å¿…é¡»ä½¿ç”¨Fullæ¨¡å¼ï¼Œå› ä¸ºä¾èµ–çš„å¦ä¸€ä¸ªç»„ä»¶ä¼šæ˜¯å•ä¾‹çš„ï¼Œèƒ½æ„æˆä¾èµ–å…³ç³»</li><li>å…¶ä»–çš„æƒ…å†µå¯ä»¥ç”¨Liteæ¨¡å¼ï¼Œä¼˜ç‚¹æ˜¯SpringBootå¯åŠ¨é€Ÿåº¦å¿«ï¼Œå¯åŠ¨æ—¶å€™ä¸ä¼šæ£€æŸ¥å®¹å™¨ä¸­æ˜¯å¦å·²ç»æœ‰æ–¹æ³•è¿”å›å€¼æ˜¯å¦å·²ç»å­˜åœ¨åœ¨å®¹å™¨ä¸­</li></ul></blockquote><h4 id="import" tabindex="-1"><a class="header-anchor" href="#import" aria-hidden="true">#</a> @Import</h4><p><code>@Import({User.class, DBHelper.class})</code></p><p>ä»¥ä¸Šä»£ç ä½œç”¨ï¼šç»™å®¹å™¨ä¸­è‡ªåŠ¨åˆ›å»ºå‡ºè¿™ä¸¤ä¸ªç±»å‹çš„ç»„ä»¶ï¼Œé»˜è®¤ç»„ä»¶çš„åå­—å°±æ˜¯<strong>å…¨ç±»å</strong></p><h4 id="conditional" tabindex="-1"><a class="header-anchor" href="#conditional" aria-hidden="true">#</a> @Conditional</h4><blockquote><p><strong>æ¡ä»¶è£…é…</strong>ï¼šæ»¡è¶³ConditionalæŒ‡å®šçš„æ¡ä»¶ï¼Œåˆ™è¿›è¡Œç»„ä»¶æ³¨å…¥</p><ol><li>æ”¾åœ¨é…ç½®ç±»ä¸Šè¡¨ç¤ºï¼Œå½“å®¹å™¨ä¸­æ»¡è¶³æ¡ä»¶æ—¶ï¼Œé…ç½®ç±»ä¸­çš„ç»„ä»¶æ‰ç”Ÿæ•ˆï¼›</li><li>æ”¾åœ¨é…ç½®æ–¹æ³•ä¸Šçš„æ—¶å€™ï¼Œè¡¨ç¤ºçš„æ„æ€æ˜¯å½“æ»¡è¶³æ¡ä»¶çš„æ—¶å€™é…ç½®æ–¹æ³•æ‰ç”Ÿæ•ˆï¼›</li></ol></blockquote><p><code>@Conditional</code>ï¼Œä¸­æ´¾ç”Ÿäº†å¾ˆå¤šçš„å­æ³¨è§£ï¼Œå®ƒä»¬å¯ä»¥æ·»åŠ åœ¨@Beanæ³¨è§£çš„æ–¹æ³•ä¸Šä¹Ÿå¯ä»¥æ”¾åœ¨é…ç½®ç±»ä¸Š</p><p>ç¤ºä¾‹ï¼šä»¥<code>@ConditionalOnBean(name=&quot;tom&quot;)</code>ä¸ºä¾‹ï¼Œå½“ IOC å®¹å™¨ä¸­æ‹¥æœ‰idä¸º<code>tom</code>çš„ç»„ä»¶æ—¶æ‰ä¼šæ»¡è¶³æ¡ä»¶ï¼Œå¦åˆ™ä¸æ»¡è¶³æ¡ä»¶</p><p><code>@Conditional</code>å­æ³¨è§£</p><p><img src="https://s2.loli.net/2023/10/17/WCxz1ZbtXv7TKJq.png" alt="image-20230112141329609"></p><h4 id="importresourceåŸç”Ÿé…ç½®æ–‡ä»¶å¼•å…¥" tabindex="-1"><a class="header-anchor" href="#importresourceåŸç”Ÿé…ç½®æ–‡ä»¶å¼•å…¥" aria-hidden="true">#</a> @ImportResourceåŸç”Ÿé…ç½®æ–‡ä»¶å¼•å…¥</h4><blockquote><p>æœ‰äº›æ—§çš„é¡¹ç›®ç”¨xmlå†™äº†springé…ç½®æ–‡ä»¶ï¼Œå¯ä»¥é€šè¿‡åœ¨é…ç½®ç±»ä¸Šé¢åŠ ä¸Š<code> @ImportResource(classpath:xxxx)</code>å¯¼å…¥SpringBootè¿›è¡Œè§£æï¼Œå®Œæˆå¯¹åº”çš„ç»„ä»¶æ³¨å†Œ æ³¨è§£ä½ç½®ï¼šåœ¨é…ç½®ç±»çš„ä¸Šæ–¹</p></blockquote><h4 id="é…ç½®ç»‘å®š" tabindex="-1"><a class="header-anchor" href="#é…ç½®ç»‘å®š" aria-hidden="true">#</a> é…ç½®ç»‘å®š</h4><p>è¯»å–åˆ°<code>propertiesæ–‡ä»¶</code>ä¸­çš„å†…å®¹ï¼Œå¹¶ä¸”æŠŠå®ƒé…ç½®åˆ°JavaBeanä¸­ï¼Œä»¥ä¾›éšæ—¶ä½¿ç”¨</p><h5 id="ä¸¤ç§æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#ä¸¤ç§æ–¹å¼" aria-hidden="true">#</a> ä¸¤ç§æ–¹å¼</h5><ol><li><code>@Component</code> + <code>@ConfigurationProperties(prefix = &quot;é…ç½®æ–‡ä»¶ä¸­çš„å‰ç¼€&quot;)</code>å£°æ˜åœ¨è¦ç»‘å®šçš„ç±»çš„ä¸Šæ–¹ <ul><li>åªæœ‰åœ¨å®¹å™¨ä¸­çš„ç»„ä»¶ï¼Œæ‰ä¼šæ‹¥æœ‰SpringBootæä¾›çš„å¼ºå¤§åŠŸèƒ½ï¼Œæ‰€ä»¥è¦åŠ ä¸Š@Component</li></ul></li><li><code>@ConfigurationProperties(prefix = &quot;é…ç½®æ–‡ä»¶ä¸­çš„å‰ç¼€&quot;)</code>å£°æ˜åœ¨è¦ç»‘å®šçš„ç±»çš„ä¸Šæ–¹ + åœ¨é…ç½®ç±»çš„ä¸Šæ–¹å£°æ˜<code>@EnableConfigurationProperties(è¦ç»‘å®šçš„ç±».class)</code>ï¼Œå¼€å¯å¯¹åº”ç±»çš„é…ç½®ç»‘å®šåŠŸèƒ½ï¼ŒæŠŠCarè¿™ä¸ªç»„ä»¶è‡ªåŠ¨æ³¨å…¥åˆ°å®¹å™¨ä¸­ï¼› <ul><li>é€šè¿‡ <code>@EnableConfigurationProperties</code> å¯ä»¥å®ç°ï¼š <ol><li>å¼€å¯è¦ç»‘å®šçš„ç±»çš„é…ç½®ç»‘å®šåŠŸèƒ½</li><li>æŠŠè¿™ä¸ªè¦ç»‘å®šçš„ç±»è¿™ä¸ªç»„ä»¶è‡ªåŠ¨æ³¨å†Œåˆ°å®¹å™¨ä¸­</li></ol></li></ul></li></ol><h3 id="ğŸ¤commandlinerunner-æ¥å£-applicationrunneræ¥å£" tabindex="-1"><a class="header-anchor" href="#ğŸ¤commandlinerunner-æ¥å£-applicationrunneræ¥å£" aria-hidden="true">#</a> ğŸ¤CommandLineRunner æ¥å£ / ApplicationRunneræ¥å£</h3><p>ç‰¹ç‚¹ï¼š</p><ul><li>è¿™ä¸¤ä¸ªæ¥å£éƒ½æœ‰ä¸€ä¸ª<code>run()æ–¹æ³•</code>ã€‚ <ul><li>æ‰§è¡Œæ—¶é—´ï¼š<strong>åœ¨å®¹å™¨å¯¹è±¡åˆ›å»ºå¥½åï¼Œ è‡ªåŠ¨æ‰§</strong>è¡Œ<code>run()æ–¹æ³•</code>ã€‚</li><li>ä¸¤ä¸ªæ¥å£çš„runæ–¹æ³•çš„å‚æ•°ä¸åŒ</li></ul></li></ul><p>å¯ä»¥å®Œæˆè‡ªå®šä¹‰çš„åœ¨å®¹å™¨å¯¹è±¡åˆ›å»ºå¥½çš„ä¸€äº›æ“ä½œã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@FunctionalInterface</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">CommandLineRunner</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token annotation punctuation">@FunctionalInterface</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">ApplicationRunner</span> <span class="token punctuation">{</span>
    <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">ApplicationArguments</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="ç¤ºä¾‹" tabindex="-1"><a class="header-anchor" href="#ç¤ºä¾‹" aria-hidden="true">#</a> ç¤ºä¾‹</h4><blockquote><p>æ‰§è¡Œé¡ºåºå·²ç»åšäº†æ ‡å·äº†</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>xiaohuowa</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>xiaohuowa<span class="token punctuation">.</span>service<span class="token punctuation">.</span></span><span class="token class-name">UserService</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">ApplicationArguments</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">ApplicationRunner</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span></span><span class="token class-name">SpringApplication</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>autoconfigure<span class="token punctuation">.</span></span><span class="token class-name">SpringBootApplication</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Resource</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Application</span> <span class="token keyword">implements</span> <span class="token class-name">ApplicationRunner</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Resource</span>
    <span class="token keyword">private</span> <span class="token class-name">UserService</span> userService<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;1.åˆ›å»ºå®¹å™¨å‰&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">Application</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 2</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;6.åˆ›å»ºå®¹å™¨å&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">ApplicationArguments</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;3.ä¸šåŠ¡æ–¹æ³•å‡†å¤‡æ‰§è¡Œ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        userService<span class="token punctuation">.</span><span class="token function">doSome</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 4</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;5.ä¸šåŠ¡æ–¹æ³•æ‰§è¡Œå®Œæ¯•&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="webç»„ä»¶" tabindex="-1"><a class="header-anchor" href="#webç»„ä»¶" aria-hidden="true">#</a> Webç»„ä»¶</h2><h3 id="springbootæ‹¦æˆªå™¨" tabindex="-1"><a class="header-anchor" href="#springbootæ‹¦æˆªå™¨" aria-hidden="true">#</a> SpringBootæ‹¦æˆªå™¨</h3><h4 id="ä½¿ç”¨æ­¥éª¤" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨æ­¥éª¤" aria-hidden="true">#</a> ä½¿ç”¨æ­¥éª¤</h4><ol><li>åˆ›å»ºæ‹¦æˆªå™¨ç±»ï¼Œå®ç°<code>HandlerInterceptoræ¥å£</code><ul><li>çœ‹æƒ…å†µé‡å†™é‡Œé¢çš„æ–¹æ³•</li></ul></li><li>åˆ›å»ºè‡ªå®šä¹‰é…ç½®ç±»ï¼Œå®ç°<code>WebMvcConfigureræ¥å£</code><ul><li>ç”¨äºæ³¨å†Œæ‹¦æˆªå™¨</li></ul></li></ol><h4 id="æ‹¦æˆªå™¨ç±»" tabindex="-1"><a class="header-anchor" href="#æ‹¦æˆªå™¨ç±»" aria-hidden="true">#</a> æ‹¦æˆªå™¨ç±»</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>xiaohuowa<span class="token punctuation">.</span>web</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Component</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">HandlerInterceptor</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@author</span> å°ç«å¨ƒ
 * @project_name: my_projects
 * @package_name: com.xiaohuowa.web
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">LoginInterceptor</span> <span class="token keyword">implements</span> <span class="token class-name">HandlerInterceptor</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     *
     * <span class="token keyword">@param</span> <span class="token parameter">request</span> è¯·æ±‚
     * <span class="token keyword">@param</span> <span class="token parameter">response</span> å“åº”
     * <span class="token keyword">@param</span> <span class="token parameter">handler</span> è¢«æ‹¦æˆªçš„æ§åˆ¶å™¨å¯¹è±¡
     * <span class="token keyword">@return</span> boolean
     *         trueï¼šä»£è¡¨è¯·æ±‚èƒ½è¢« Controllerå¤„ç†
     *         falseï¼šä»£è¡¨è¯·æ±‚è¢«æˆªæ–­
     * <span class="token keyword">@throws</span> <span class="token reference"><span class="token class-name">Exception</span></span>
     */</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">boolean</span> <span class="token function">preHandle</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">,</span> <span class="token class-name">Object</span> handler<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ‰§è¡Œäº†ç™»å½•åˆ¤æ–­&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="é…ç½®ç±»" tabindex="-1"><a class="header-anchor" href="#é…ç½®ç±»" aria-hidden="true">#</a> é…ç½®ç±»</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>xiaohuowa<span class="token punctuation">.</span>config</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>xiaohuowa<span class="token punctuation">.</span>web<span class="token punctuation">.</span></span><span class="token class-name">LoginInterceptor</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">InterceptorRegistry</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>config<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">WebMvcConfigurer</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@author</span> å°ç«å¨ƒ
 * @project_name: my_projects
 * @package_name: com.xiaohuowa.config
 */</span>
<span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyConfig</span> <span class="token keyword">implements</span> <span class="token class-name">WebMvcConfigurer</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">addInterceptors</span><span class="token punctuation">(</span><span class="token class-name">InterceptorRegistry</span> registry<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">LoginInterceptor</span> loginInterceptor <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">LoginInterceptor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è¦æ‹¦æˆªå“ªäº›è·¯å¾„</span>
        <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> path <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;/user/**&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token comment">// ä¸æ‹¦æˆªå“ªäº›è·¯å¾„</span>
        <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> excludePath <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;/user/login&quot;</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
        <span class="token comment">// æ³¨å†Œæ‹¦æˆªå™¨</span>
        registry<span class="token punctuation">.</span><span class="token function">addInterceptor</span><span class="token punctuation">(</span>loginInterceptor<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addPathPatterns</span><span class="token punctuation">(</span>path<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">excludePathPatterns</span><span class="token punctuation">(</span>excludePath<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="æµ‹è¯•serviceç±»" tabindex="-1"><a class="header-anchor" href="#æµ‹è¯•serviceç±»" aria-hidden="true">#</a> æµ‹è¯•Serviceç±»</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>xiaohuowa<span class="token punctuation">.</span>service</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>stereotype<span class="token punctuation">.</span></span><span class="token class-name">Service</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RequestMapping</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">ResponseBody</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@author</span> å°ç«å¨ƒ
 * @project_name: my_projects
 * @package_name: com.xiaohuowa.service
 */</span>
<span class="token annotation punctuation">@Service</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/user&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">UserService</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/info&quot;</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@ResponseBody</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">getInfo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;æŸ¥çœ‹ç”¨æˆ·ä¿¡æ¯&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/login&quot;</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@ResponseBody</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">userLogin</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;ç”¨æˆ·ç™»å½•&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="ç»“æœ" tabindex="-1"><a class="header-anchor" href="#ç»“æœ" aria-hidden="true">#</a> ç»“æœ</h4><p>åœ¨è®¿é—®<code>/user/info</code>çš„æ—¶å€™ä¼šè¢«æ‹¦æˆªå™¨æ‹¦ä¸‹æ¥è¿›è¡Œåˆ¤æ–­ï¼Œè€Œè®¿é—®<code>/user/login</code>çš„æ—¶å€™ä¸ä¼šã€‚</p><h3 id="ä½¿ç”¨servlet" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨servlet" aria-hidden="true">#</a> ä½¿ç”¨Servlet</h3><p>åœ¨SpringBootæ¡†æ¶ä¸­ä½¿ç”¨Servletå¯¹è±¡ã€‚</p><p>ä½¿ç”¨æ­¥éª¤ï¼š</p><ol><li>åˆ›å»ºServletç±»ã€‚ åˆ›å»ºç±»ç»§æ‰¿HttpServlet</li><li>æ³¨å†ŒServlet ï¼Œè®©æ¡†æ¶èƒ½æ‰¾åˆ°Servlet</li></ol><h4 id="è‡ªå®šä¹‰servletç±»" tabindex="-1"><a class="header-anchor" href="#è‡ªå®šä¹‰servletç±»" aria-hidden="true">#</a> è‡ªå®šä¹‰Servletç±»</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>xiaohuowa<span class="token punctuation">.</span>web</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">PrintWriter</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@author</span> å°ç«å¨ƒ
 * @project_name: my_projects
 * @package_name: com.xiaohuowa.web
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> request<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html;charset=UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è¾“å‡ºåº”ç­”ç»“æœ</span>
        <span class="token class-name">PrintWriter</span> writer <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        writer<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;servlet running&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        writer<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        writer<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="æ³¨å†Œservlet" tabindex="-1"><a class="header-anchor" href="#æ³¨å†Œservlet" aria-hidden="true">#</a> æ³¨å†ŒServlet</h4><blockquote><p>åŒ…æ‹¬<code>ServletRegistrationBean</code>çš„æœ‰å‚å’Œæ— å‚æ„é€ æ–¹æ³•çš„ä¸¤ç§åˆ›å»ºæ–¹å¼</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>xiaohuowa<span class="token punctuation">.</span>config</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>xiaohuowa<span class="token punctuation">.</span>web<span class="token punctuation">.</span></span><span class="token class-name">MyServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletRegistrationBean</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">Servlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletRegistration</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@author</span> å°ç«å¨ƒ
 * @project_name: my_projects
 * @package_name: com.xiaohuowa.config
 */</span>
<span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WebApplicationConfig</span> <span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
     * æ³¨å†ŒServlet
     * <span class="token keyword">@return</span>
     */</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">ServletRegistrationBean</span> <span class="token function">servletRegistrationBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// public ServletRegistrationBean(T servlet, String... urlMappings)</span>
        <span class="token comment">// æœ‰å‚æ„é€ ï¼Œç¬¬ä¸€ä¸ªæ˜¯Servletï¼Œç¬¬äºŒä¸ªæ˜¯url</span>
        <span class="token comment">// ServletRegistrationBean&lt;Servlet&gt; bean = new ServletRegistrationBean&lt;&gt;(new MyServlet(), &quot;/myservlet&quot;);</span>

        <span class="token comment">// æ— å‚æ„é€ </span>
        <span class="token class-name">ServletRegistrationBean</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Servlet</span><span class="token punctuation">&gt;</span></span> bean <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ServletRegistrationBean</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        bean<span class="token punctuation">.</span><span class="token function">setServlet</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyServlet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        bean<span class="token punctuation">.</span><span class="token function">addUrlMappings</span><span class="token punctuation">(</span><span class="token string">&quot;/myservlet&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;/haha&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> bean<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="è¿‡æ»¤å™¨" tabindex="-1"><a class="header-anchor" href="#è¿‡æ»¤å™¨" aria-hidden="true">#</a> è¿‡æ»¤å™¨</h3><p>Filteræ˜¯Servletè§„èŒƒä¸­çš„è¿‡æ»¤å™¨ï¼Œå¯ä»¥å¤„ç†è¯·æ±‚ï¼Œ å¯¹è¯·æ±‚çš„å‚æ•°ï¼Œ å±æ€§è¿›è¡Œè°ƒæ•´ã€‚ å¸¸å¸¸åœ¨è¿‡æ»¤å™¨ä¸­å¤„ç†å­—ç¬¦ç¼–ç </p><p>åœ¨æ¡†æ¶ä¸­ä½¿ç”¨è¿‡æ»¤å™¨æ­¥éª¤ï¼š</p><ol><li>åˆ›å»ºè‡ªå®šä¹‰è¿‡æ»¤å™¨ç±»</li><li>æ³¨å†ŒFilterè¿‡æ»¤å™¨å¯¹è±¡</li></ol><h4 id="è‡ªå®šä¹‰è¿‡æ»¤å™¨ç±»" tabindex="-1"><a class="header-anchor" href="#è‡ªå®šä¹‰è¿‡æ»¤å™¨ç±»" aria-hidden="true">#</a> è‡ªå®šä¹‰è¿‡æ»¤å™¨ç±»</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>xiaohuowa<span class="token punctuation">.</span>web</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@author</span> å°ç«å¨ƒ
 * @project_name: my_projects
 * @package_name: com.xiaohuowa.web
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyFilter</span> <span class="token keyword">implements</span> <span class="token class-name">Filter</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">doFilter</span><span class="token punctuation">(</span><span class="token class-name">ServletRequest</span> servletRequest<span class="token punctuation">,</span> <span class="token class-name">ServletResponse</span> servletResponse<span class="token punctuation">,</span> <span class="token class-name">FilterChain</span> filterChain<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">IOException</span><span class="token punctuation">,</span> <span class="token class-name">ServletException</span> <span class="token punctuation">{</span>
        <span class="token comment">// æ‰§è¡Œä¸€äº›å¤„ç†</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Filter æ‰§è¡Œ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// æ”¾è¡Œ</span>
        filterChain<span class="token punctuation">.</span><span class="token function">doFilter</span><span class="token punctuation">(</span>servletRequest<span class="token punctuation">,</span> servletResponse<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="æ³¨å†Œfilter" tabindex="-1"><a class="header-anchor" href="#æ³¨å†Œfilter" aria-hidden="true">#</a> æ³¨å†ŒFilter</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>xiaohuowa<span class="token punctuation">.</span>config</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>xiaohuowa<span class="token punctuation">.</span>web<span class="token punctuation">.</span></span><span class="token class-name">MyFilter</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">FilterRegistrationBean</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@author</span> å°ç«å¨ƒ
 * @project_name: my_projects
 * @package_name: com.xiaohuowa.config
 */</span>
<span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyFilterConfig</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">FilterRegistrationBean</span> <span class="token function">filterRegistrationBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">FilterRegistrationBean</span> filterRegistrationBean <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FilterRegistrationBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è®¾ç½®ä½¿ç”¨å“ªä¸ªè¿‡æ»¤å™¨</span>
        filterRegistrationBean<span class="token punctuation">.</span><span class="token function">setFilter</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è¿‡æ»¤çš„url</span>
        filterRegistrationBean<span class="token punctuation">.</span><span class="token function">addUrlPatterns</span><span class="token punctuation">(</span><span class="token string">&quot;/user/info&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> filterRegistrationBean<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="å­—ç¬¦é›†è¿‡æ»¤å™¨" tabindex="-1"><a class="header-anchor" href="#å­—ç¬¦é›†è¿‡æ»¤å™¨" aria-hidden="true">#</a> å­—ç¬¦é›†è¿‡æ»¤å™¨</h3><p><code>CharacterEncodingFilter</code> : è§£å†³postè¯·æ±‚ä¸­ä¹±ç çš„é—®é¢˜</p><p>åœ¨SpringMVCæ¡†æ¶ï¼Œ åœ¨web.xml æ³¨å†Œè¿‡æ»¤å™¨ã€‚ é…ç½®ä»–çš„å±æ€§ã€‚</p><h4 id="ç¬¬ä¸€ç§æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#ç¬¬ä¸€ç§æ–¹å¼" aria-hidden="true">#</a> ç¬¬ä¸€ç§æ–¹å¼ï¼š</h4><p>ä½¿ç”¨æ­¥éª¤ï¼š</p><ol><li><p>é…ç½®å­—ç¬¦é›†è¿‡æ»¤å™¨</p><ul><li><blockquote><p><code>@Bean</code>æ‰€åœ¨çš„æ–¹æ³•åå³ä¸ºæ³¨å†Œç»„ä»¶çš„IDï¼ˆä¹Ÿå¯ä»¥åœ¨@Beanåé¢åŠ ä¸Šå‚æ•°ï¼ŒæŒ‡å®šç»„ä»¶çš„IDï¼‰ï¼Œè¿”ç±»å‹å°±æ˜¯ç»„ä»¶çš„ç±»å‹ï¼Œè¿”å›çš„å€¼å°±æ˜¯å®¹å™¨ä¸­çš„å®ä¾‹ã€‚</p></blockquote></li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>xiaohuowa<span class="token punctuation">.</span>config</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">com<span class="token punctuation">.</span>xiaohuowa<span class="token punctuation">.</span>web<span class="token punctuation">.</span></span><span class="token class-name">TestServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">FilterRegistrationBean</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>boot<span class="token punctuation">.</span>web<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletRegistrationBean</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Bean</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>context<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Configuration</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>filter<span class="token punctuation">.</span></span><span class="token class-name">CharacterEncodingFilter</span></span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">Servlet</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@author</span> å°ç«å¨ƒ
 * @project_name: my_projects
 * @package_name: com.xiaohuowa.config
 */</span>
<span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WebSystemConfig</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * æ³¨å†ŒServlet
     * <span class="token keyword">@return</span>
     */</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">ServletRegistrationBean</span> <span class="token function">servletRegistrationBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">ServletRegistrationBean</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Servlet</span><span class="token punctuation">&gt;</span></span> bean <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ServletRegistrationBean</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        bean<span class="token punctuation">.</span><span class="token function">addUrlMappings</span><span class="token punctuation">(</span><span class="token string">&quot;/test&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        bean<span class="token punctuation">.</span><span class="token function">setServlet</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">TestServlet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> bean<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token doc-comment comment">/**
     * æ³¨å†Œå­—ç¬¦é›†è¿‡æ»¤å™¨ï¼ˆä½¿ç”¨æ¡†æ¶è‡ªå¸¦çš„è¿‡æ»¤å™¨ï¼‰
     * <span class="token keyword">@return</span>
     */</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">FilterRegistrationBean</span> <span class="token function">filterRegistrationBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">FilterRegistrationBean</span> bean <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FilterRegistrationBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">CharacterEncodingFilter</span> encodingFilter <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">CharacterEncodingFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        encodingFilter<span class="token punctuation">.</span><span class="token function">setEncoding</span><span class="token punctuation">(</span><span class="token string">&quot;UTF-8&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        encodingFilter<span class="token punctuation">.</span><span class="token function">setForceEncoding</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        bean<span class="token punctuation">.</span><span class="token function">setFilter</span><span class="token punctuation">(</span>encodingFilter<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> bean<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>ä¿®æ”¹application.propertiesæ–‡ä»¶ï¼Œ è®©è‡ªå®šä¹‰çš„è¿‡æ»¤å™¨èµ·ä½œç”¨</p></li></ol><div class="language-properties line-numbers-mode" data-ext="properties"><pre class="language-properties"><code><span class="token comment">#SpringBootä¸­é»˜è®¤å·²ç»é…ç½®äº†CharacterEncodingFilterã€‚ ç¼–ç é»˜è®¤ISO-8859-1</span>
<span class="token comment">#è®¾ç½®enabled=false ä½œç”¨æ˜¯å…³é—­ç³»ç»Ÿä¸­é…ç½®å¥½çš„è¿‡æ»¤å™¨ï¼Œ ä½¿ç”¨è‡ªå®šä¹‰çš„CharacterEncodingFilter</span>
<span class="token key attr-name">server.servlet.encoding.enabled</span><span class="token punctuation">=</span><span class="token value attr-value">false</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>Servletä»£ç </p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>xiaohuowa<span class="token punctuation">.</span>web</span><span class="token punctuation">;</span>

<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span></span><span class="token class-name">ServletException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServlet</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletRequest</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">javax<span class="token punctuation">.</span>servlet<span class="token punctuation">.</span>http<span class="token punctuation">.</span></span><span class="token class-name">HttpServletResponse</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">IOException</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>io<span class="token punctuation">.</span></span><span class="token class-name">PrintWriter</span></span><span class="token punctuation">;</span>

<span class="token doc-comment comment">/**
 * <span class="token keyword">@author</span> å°ç«å¨ƒ
 * @project_name: my_projects
 * @package_name: com.xiaohuowa.web
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestServlet</span> <span class="token keyword">extends</span> <span class="token class-name">HttpServlet</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">doGet</span><span class="token punctuation">(</span><span class="token class-name">HttpServletRequest</span> req<span class="token punctuation">,</span> <span class="token class-name">HttpServletResponse</span> response<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ServletException</span><span class="token punctuation">,</span> <span class="token class-name">IOException</span> <span class="token punctuation">{</span>
        response<span class="token punctuation">.</span><span class="token function">setContentType</span><span class="token punctuation">(</span><span class="token string">&quot;text/html&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">PrintWriter</span> writer <span class="token operator">=</span> response<span class="token punctuation">.</span><span class="token function">getWriter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        writer<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;å¤§å®¶å¥½ï¼Œæµ‹è¯•ä¹±ç äº†&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        writer<span class="token punctuation">.</span><span class="token function">flush</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        writer<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="ç¬¬äºŒç§æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#ç¬¬äºŒç§æ–¹å¼" aria-hidden="true">#</a> ç¬¬äºŒç§æ–¹å¼</h4><p>ç›´æ¥ä¿®æ”¹application.propertiesæ–‡ä»¶</p><div class="language-properties line-numbers-mode" data-ext="properties"><pre class="language-properties"><code><span class="token comment"># è®©ç³»ç»Ÿçš„CharacterEncdoingFilterç”Ÿæ•ˆï¼ˆé»˜è®¤å°±æ˜¯trueäº†ï¼Œæ‰€ä»¥å¯ä»¥ä¸å†™ï¼‰</span>
<span class="token key attr-name">server.servlet.encoding.enabled</span><span class="token punctuation">=</span><span class="token value attr-value">true</span>
<span class="token comment"># æŒ‡å®šä½¿ç”¨çš„ç¼–ç æ–¹å¼</span>
<span class="token key attr-name">server.servlet.encoding.charset</span><span class="token punctuation">=</span><span class="token value attr-value">utf-8</span>
<span class="token comment"># å¼ºåˆ¶requestï¼Œresponseéƒ½ä½¿ç”¨charsetå±æ€§çš„å€¼</span>
<span class="token key attr-name">server.servlet.encoding.force</span><span class="token punctuation">=</span><span class="token value attr-value">true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="ormæ“ä½œ" tabindex="-1"><a class="header-anchor" href="#ormæ“ä½œ" aria-hidden="true">#</a> ORMæ“ä½œ</h2><p>ä½¿ç”¨MyBatisæ¡†æ¶æ“ä½œæ•°æ®ï¼Œ åœ¨SpringBootæ¡†æ¶é›†æˆMyBatis</p><p>ä½¿ç”¨æ­¥éª¤ï¼š</p><ol><li><p>mybatisèµ·æ­¥ä¾èµ– ï¼š å®Œæˆmybatiså¯¹è±¡è‡ªåŠ¨é…ç½®ï¼Œ å¯¹è±¡æ”¾åœ¨å®¹å™¨ä¸­</p><ul><li><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!--mybatisèµ·æ­¥ä¾èµ–--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.mybatis.spring.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mybatis-spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.2.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!--mysqlé©±åŠ¨--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li><p>pom.xml æŒ‡å®šæŠŠsrc/main/javaç›®å½•ä¸­çš„xmlæ–‡ä»¶åŒ…å«åˆ°classpathä¸­</p><ul><li><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resources</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resource</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>directory</span><span class="token punctuation">&gt;</span></span>src/main/java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>directory</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>includes</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span><span class="token punctuation">&gt;</span></span>**/*.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>includes</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resource</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resources</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ul></li><li><p>åˆ›å»ºå®ä½“ç±»Student</p></li><li><p>åˆ›å»ºDaoæ¥å£ StudentDao , åˆ›å»ºä¸€ä¸ªæŸ¥è¯¢å­¦ç”Ÿçš„æ–¹æ³•</p></li><li><p>åˆ›å»ºDaoæ¥å£å¯¹åº”çš„Mapperæ–‡ä»¶ï¼Œ xmlæ–‡ä»¶ï¼Œ å†™sqlè¯­å¥</p></li><li><p>åˆ›å»ºServiceå±‚å¯¹è±¡ï¼Œ åˆ›å»ºStudentServiceæ¥å£å’Œä»–çš„å®ç°ç±»ã€‚ å»daoå¯¹è±¡çš„æ–¹æ³•ã€‚å®Œæˆæ•°æ®åº“çš„æ“ä½œ</p></li><li><p>åˆ›å»ºControllerå¯¹è±¡ï¼Œè®¿é—®Serviceã€‚</p></li><li><p>å†™application.propertiesæ–‡ä»¶</p><p>é…ç½®æ•°æ®åº“çš„æ¥ä¿¡æ¯ã€‚</p><div class="language-properties line-numbers-mode" data-ext="properties"><pre class="language-properties"><code><span class="token comment"># è¿æ¥æ•°æ®åº“</span>
<span class="token key attr-name">spring.datasource.driver-class-name</span><span class="token punctuation">=</span><span class="token value attr-value">com.mysql.cj.jdbc.Driver</span>
<span class="token key attr-name">spring.datasource.url</span><span class="token punctuation">=</span><span class="token value attr-value">jdbc:mysql://localhost:3306/springboot_learning?serverTimezoneUTC&amp;characterEncoding=utf8&amp;useUnicode=true&amp;useSSL=false</span>
<span class="token key attr-name">spring.datasource.username</span><span class="token punctuation">=</span><span class="token value attr-value">root</span>
<span class="token key attr-name">spring.datasource.password</span><span class="token punctuation">=</span><span class="token value attr-value">admin</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><h3 id="ç¬¬ä¸€ç§æ–¹å¼-mapper" tabindex="-1"><a class="header-anchor" href="#ç¬¬ä¸€ç§æ–¹å¼-mapper" aria-hidden="true">#</a> ç¬¬ä¸€ç§æ–¹å¼ ï¼š @Mapper</h3><p><code>@Mapper</code>ï¼šæ”¾åœ¨daoæ¥å£çš„ä¸Šé¢ï¼Œ <strong>æ¯ä¸ªæ¥å£éƒ½éœ€è¦ä½¿ç”¨è¿™ä¸ªæ³¨è§£</strong>ã€‚</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * @Mapperï¼šå‘Šè¯‰MyBatisè¿™æ˜¯daoæ¥å£ï¼Œåˆ›å»ºæ­¤æ¥å£çš„ä»£ç†å¯¹è±¡ã€‚
 *     ä½ç½®ï¼šåœ¨ç±»çš„ä¸Šé¢
 */</span>
<span class="token annotation punctuation">@Mapper</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">StudentDao</span> <span class="token punctuation">{</span>
    <span class="token class-name">Student</span> <span class="token function">selectById</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;stuId&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ç¬¬äºŒç§æ–¹å¼-mapperscan" tabindex="-1"><a class="header-anchor" href="#ç¬¬äºŒç§æ–¹å¼-mapperscan" aria-hidden="true">#</a> ç¬¬äºŒç§æ–¹å¼ @MapperScan</h3><p>åŒ…æ‰«æçš„å½¢å¼ï¼Œå°†<code>@MapperScan</code>é…åœ¨ä¸»é…ç½®æ–‡ä»¶ä¸Š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * @MapperScan: æ‰¾åˆ°Daoæ¥å£å’ŒMapperæ–‡ä»¶
 *     basePackagesï¼šDaoæ¥å£æ‰€åœ¨çš„åŒ…å
 */</span>
<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token annotation punctuation">@MapperScan</span><span class="token punctuation">(</span>basePackages <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token string">&quot;com.bjpowernode.dao&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;com.bjpowernode.mapper&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Application</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ç¬¬ä¸‰ç§æ–¹å¼-mapperæ–‡ä»¶å’Œdaoæ¥å£åˆ†å¼€ç®¡ç†" tabindex="-1"><a class="header-anchor" href="#ç¬¬ä¸‰ç§æ–¹å¼-mapperæ–‡ä»¶å’Œdaoæ¥å£åˆ†å¼€ç®¡ç†" aria-hidden="true">#</a> ç¬¬ä¸‰ç§æ–¹å¼ï¼š Mapperæ–‡ä»¶å’ŒDaoæ¥å£åˆ†å¼€ç®¡ç†</h3><p>ç°åœ¨æŠŠMapperæ–‡ä»¶æ”¾åœ¨resourcesç›®å½•ä¸‹</p><p>1ï¼‰åœ¨resourcesç›®å½•ä¸­åˆ›å»ºå­ç›®å½• ï¼ˆè‡ªå®šä¹‰çš„ï¼‰ ï¼Œ ä¾‹å¦‚mapper</p><p>2ï¼‰æŠŠmapperæ–‡ä»¶æ”¾åˆ° mapperç›®å½•ä¸­</p><p>3ï¼‰åœ¨application.propertiesæ–‡ä»¶ä¸­ï¼ŒæŒ‡å®šmapperæ–‡ä»¶çš„ç›®å½•</p><div class="language-properties line-numbers-mode" data-ext="properties"><pre class="language-properties"><code><span class="token comment">#æŒ‡å®šmapperæ–‡ä»¶çš„ä½ç½®</span>
<span class="token key attr-name">mybatis.mapper-locations</span><span class="token punctuation">=</span><span class="token value attr-value">classpath:mapper/*.xml</span>
<span class="token comment">#æŒ‡å®šmybatisçš„æ—¥å¿—</span>
<span class="token key attr-name">mybatis.configuration.log-impl</span><span class="token punctuation">=</span><span class="token value attr-value">org.apache.ibatis.logging.stdout.StdOutImpl</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="4"><li>åœ¨pom.xmlä¸­æŒ‡å®š æŠŠresourcesç›®å½•ä¸­çš„æ–‡ä»¶ ï¼Œ ç¼–è¯‘åˆ°ç›®æ ‡ç›®å½•ä¸­</li></ol><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!--resourcesæ’ä»¶--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resources</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resource</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>directory</span><span class="token punctuation">&gt;</span></span>src/main/resources<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>directory</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>includes</span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span><span class="token punctuation">&gt;</span></span>**/*.*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>includes</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resource</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resources</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="ç¬¬å››ä¸ª-äº‹åŠ¡" tabindex="-1"><a class="header-anchor" href="#ç¬¬å››ä¸ª-äº‹åŠ¡" aria-hidden="true">#</a> ç¬¬å››ä¸ª äº‹åŠ¡</h3><h4 id="springæ¡†æ¶ä¸­çš„äº‹åŠ¡" tabindex="-1"><a class="header-anchor" href="#springæ¡†æ¶ä¸­çš„äº‹åŠ¡" aria-hidden="true">#</a> Springæ¡†æ¶ä¸­çš„äº‹åŠ¡ï¼š</h4><p>1ï¼‰ ç®¡ç†äº‹åŠ¡çš„å¯¹è±¡ï¼š äº‹åŠ¡ç®¡ç†å™¨ï¼ˆæ¥å£ï¼Œ æ¥å£æœ‰å¾ˆå¤šçš„å®ç°ç±»ï¼‰</p><p>â€‹ ä¾‹å¦‚ï¼šä½¿ç”¨Jdbcæˆ–mybatisè®¿é—®æ•°æ®åº“ï¼Œä½¿ç”¨çš„äº‹åŠ¡ç®¡ç†å™¨ï¼šDataSourceTransactionManager</p><p>2 ) å£°æ˜å¼äº‹åŠ¡ï¼š åœ¨xmlé…ç½®æ–‡ä»¶æˆ–è€…ä½¿ç”¨æ³¨è§£è¯´æ˜äº‹åŠ¡æ§åˆ¶çš„å†…å®¹</p><p>â€‹ æ§åˆ¶äº‹åŠ¡ï¼š éš”ç¦»çº§åˆ«ï¼Œä¼ æ’­è¡Œä¸ºï¼Œ è¶…æ—¶æ—¶é—´</p><p>3ï¼‰äº‹åŠ¡å¤„ç†æ–¹å¼ï¼š</p><p>â€‹ 1ï¼‰ Springæ¡†æ¶ä¸­çš„@Transactional</p><p>â€‹ 2) aspectjæ¡†æ¶å¯ä»¥åœ¨xmlé…ç½®æ–‡ä»¶ä¸­ï¼Œå£°æ˜äº‹åŠ¡æ§åˆ¶çš„å†…å®¹</p><p>â€‹</p><h4 id="springbootä¸­ä½¿ç”¨äº‹åŠ¡" tabindex="-1"><a class="header-anchor" href="#springbootä¸­ä½¿ç”¨äº‹åŠ¡" aria-hidden="true">#</a> SpringBootä¸­ä½¿ç”¨äº‹åŠ¡ï¼š</h4><blockquote><ol><li><p>Springæ¡†æ¶ä¸­çš„@Transactional</p></li><li><p>aspectjæ¡†æ¶å¯ä»¥åœ¨xmlé…ç½®æ–‡ä»¶ä¸­ï¼Œå£°æ˜äº‹åŠ¡æ§åˆ¶çš„å†…å®¹</p></li></ol><p>ä¸Šé¢çš„ä¸¤ç§æ–¹å¼éƒ½å¯ä»¥ã€‚</p></blockquote><h5 id="æ­¥éª¤" tabindex="-1"><a class="header-anchor" href="#æ­¥éª¤" aria-hidden="true">#</a> æ­¥éª¤</h5><ol><li>åœ¨ä¸šåŠ¡æ–¹æ³•çš„ä¸Šé¢åŠ å…¥<code>@Transactional</code> , åŠ å…¥æ³¨è§£åï¼Œæ–¹æ³•æœ‰äº‹åŠ¡åŠŸèƒ½äº†ã€‚</li><li>æ˜ç¡®çš„åœ¨ ä¸»å¯åŠ¨ç±»çš„ä¸Šé¢ ï¼ŒåŠ å…¥<code>@EnableTransactionManager</code></li></ol><h5 id="ä¾‹å­-1" tabindex="-1"><a class="header-anchor" href="#ä¾‹å­-1" aria-hidden="true">#</a> ä¾‹å­ï¼š</h5><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * @Transactional: è¡¨ç¤ºæ–¹æ³•çš„æœ‰äº‹åŠ¡æ”¯æŒ
 *       é»˜è®¤ï¼šä½¿ç”¨åº“çš„éš”ç¦»çº§åˆ«ï¼Œ REQUIRED ä¼ æ’­è¡Œä¸ºï¼› è¶…æ—¶æ—¶é—´  -1
 *       æŠ›å‡ºè¿è¡Œæ—¶å¼‚å¸¸ï¼Œå›æ»šäº‹åŠ¡
 */</span>
<span class="token annotation punctuation">@Transactional</span>
<span class="token annotation punctuation">@Override</span>
<span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">addStudent</span><span class="token punctuation">(</span><span class="token class-name">Student</span> student<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ä¸šåŠ¡æ–¹æ³•addStudent&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> rows  <span class="token operator">=</span>  studentDao<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>student<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;æ‰§è¡Œsqlè¯­å¥&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">//æŠ›å‡ºä¸€ä¸ªè¿è¡Œæ—¶å¼‚å¸¸ï¼Œ ç›®çš„æ˜¯å›æ»šäº‹åŠ¡</span>
    <span class="token comment">//int m   = 10 / 0 ;</span>

    <span class="token keyword">return</span> rows<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æ¥å£æ¶æ„é£æ ¼-â€”restful" tabindex="-1"><a class="header-anchor" href="#æ¥å£æ¶æ„é£æ ¼-â€”restful" aria-hidden="true">#</a> æ¥å£æ¶æ„é£æ ¼ â€”RESTful</h2>`,163),k={href:"https://baike.baidu.com/item/%E8%BD%AF%E4%BB%B6%E7%B3%BB%E7%BB%9F/224122",target:"_blank",rel:"noopener noreferrer"},r={href:"https://baike.baidu.com/item/%E5%BA%94%E7%94%A8%E7%A8%8B%E5%BA%8F",target:"_blank",rel:"noopener noreferrer"},d={href:"https://baike.baidu.com/item/%E8%BD%AF%E4%BB%B6",target:"_blank",rel:"noopener noreferrer"},v={href:"https://baike.baidu.com/item/%E4%BE%8B%E7%A8%8B/2390628",target:"_blank",rel:"noopener noreferrer"},m={href:"https://baike.baidu.com/item/%E5%B7%A5%E4%BD%9C%E6%9C%BA%E5%88%B6/9905789",target:"_blank",rel:"noopener noreferrer"},g=p(`<p>æ¥å£ï¼ˆAPIï¼‰ï¼š å¯ä»¥æŒ‡è®¿é—®servletï¼Œ controllerçš„urlï¼Œ è°ƒç”¨å…¶ä»–ç¨‹åºçš„ å‡½æ•°</p><p>æ¶æ„é£æ ¼ï¼š apiç»„ç»‡æ–¹å¼ï¼ˆæ ·å­ï¼‰</p><p>å°±æ˜¯ä¸€ä¸ªä¼ ç»Ÿçš„ï¼š http://localhost:9002/mytrans/addStudent?name=lisi&amp;age=26</p><p>â€‹ åœ¨åœ°å€ä¸Šæä¾›äº† è®¿é—®çš„èµ„æºåç§°addStudent, åœ¨å…¶åä½¿ç”¨äº†getæ–¹å¼ä¼ é€’å‚æ•°ã€‚</p><h3 id="_5-1-rest" tabindex="-1"><a class="header-anchor" href="#_5-1-rest" aria-hidden="true">#</a> 5.1 REST</h3><p>RESTfulæ¶æ„é£æ ¼</p><p>1)REST : ï¼ˆè‹±æ–‡ï¼š Representational State Transfer , ä¸­æ–‡ï¼š è¡¨ç°å±‚çŠ¶æ€è½¬ç§»)ã€‚</p><p>RESTï¼šæ˜¯ä¸€ç§æ¥å£çš„æ¶æ„é£æ ¼å’Œè®¾è®¡çš„ç†å¿µï¼Œä¸æ˜¯æ ‡å‡†ã€‚</p><p>ä¼˜ç‚¹ï¼š æ›´ç®€æ´ï¼Œæ›´æœ‰å±‚æ¬¡</p><p>è¡¨ç°å±‚çŠ¶æ€è½¬ç§»:</p><p>â€‹ è¡¨ç°å±‚å°±æ˜¯è§†å›¾å±‚ï¼Œ æ˜¾ç¤ºèµ„æºçš„ï¼Œ é€šè¿‡è§†å›¾é¡µé¢ï¼Œjspç­‰ç­‰æ˜¾ç¤ºæ“ä½œèµ„æºçš„ç»“æœã€‚</p><p>â€‹ çŠ¶æ€ï¼š èµ„æºå˜åŒ–</p><p>â€‹ è½¬ç§»ï¼š èµ„æºå¯ä»¥å˜åŒ–çš„ã€‚ èµ„æºèƒ½åˆ›å»ºï¼ŒnewçŠ¶æ€ï¼Œ èµ„æºåˆ›å»ºåå¯ä»¥æŸ¥è¯¢èµ„æºï¼Œ èƒ½çœ‹åˆ°èµ„æºçš„å†…å®¹ï¼Œ</p><p>è¿™ä¸ªèµ„æºå†…å®¹ ï¼Œå¯ä»¥è¢«ä¿®æ”¹ï¼Œ ä¿®æ”¹åèµ„æº å’Œä¹‹å‰çš„ä¸ä¸€æ ·ã€‚</p><p>2ï¼‰RESTä¸­çš„è¦ç´ ï¼š</p><p>ç”¨RESTè¡¨ç¤ºèµ„æºå’Œå¯¹èµ„æºçš„æ“ä½œã€‚ åœ¨äº’è”ç½‘ä¸­ï¼Œè¡¨ç¤ºä¸€ä¸ªèµ„æºæˆ–è€…ä¸€ä¸ªæ“ä½œã€‚</p><p>èµ„æºä½¿ç”¨urlè¡¨ç¤ºçš„ï¼Œ åœ¨äº’è”ç½‘ï¼Œ ä½¿ç”¨çš„å›¾ç‰‡ï¼Œè§†é¢‘ï¼Œ æ–‡æœ¬ï¼Œç½‘é¡µç­‰ç­‰éƒ½æ˜¯èµ„æºã€‚</p><p>èµ„æºæ˜¯ç”¨åè¯è¡¨ç¤ºã€‚</p><p>å¯¹èµ„æºï¼š</p><p>â€‹ æŸ¥è¯¢èµ„æºï¼š çœ‹ï¼Œé€šè¿‡urlæ‰¾åˆ°èµ„æºã€‚</p><p>â€‹ åˆ›å»ºèµ„æºï¼š æ·»åŠ èµ„æº</p><p>â€‹ æ›´æ–°èµ„æºï¼šæ›´æ–°èµ„æº ï¼Œç¼–è¾‘</p><p>â€‹ åˆ é™¤èµ„æºï¼š å»é™¤</p><p>â€‹</p><p>èµ„æºä½¿ç”¨urlè¡¨ç¤ºï¼Œé€šè¿‡åè¯è¡¨ç¤ºèµ„æºã€‚</p><p>â€‹ åœ¨urlä¸­ï¼Œä½¿ç”¨åè¯è¡¨ç¤ºèµ„æºï¼Œ ä»¥åŠè®¿é—®èµ„æºçš„ä¿¡æ¯, åœ¨urlä¸­ï¼Œä½¿ç”¨â€œ / &quot; åˆ†éš”å¯¹èµ„æºçš„ä¿¡æ¯</p><p>â€‹ http://localhost:8080/myboot/student/1001</p><p>ä½¿ç”¨httpä¸­çš„åŠ¨ä½œï¼ˆè¯·æ±‚æ–¹å¼ï¼‰ï¼Œ è¡¨ç¤ºå¯¹èµ„æºçš„æ“ä½œï¼ˆCURDï¼‰</p><p>GET: æŸ¥è¯¢èµ„æº -- sql select</p><p>â€‹ å¤„ç†å•ä¸ªèµ„æºï¼š ç”¨ä»–çš„å•æ•°æ–¹å¼</p><p>â€‹ http://localhost:8080/myboot/student/1001</p><p>â€‹ http://localhost:8080/myboot/student/1001/1</p><p>â€‹ å¤„ç†å¤šä¸ªèµ„æºï¼šä½¿ç”¨å¤æ•°å½¢å¼</p><p>â€‹ http://localhost:8080/myboot/students/1001/1002</p><p>â€‹</p><p>POST: åˆ›å»ºèµ„æº -- sql insert</p><p>â€‹ http://localhost:8080/myboot/student</p><p>â€‹ åœ¨postè¯·æ±‚ä¸­ä¼ é€’æ•°æ®</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://localhost:8080/myboot/student<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
	å§“åï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    å¹´é¾„ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>age<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>PUTï¼š æ›´æ–°èµ„æº -- sql update</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://localhost:8080/myboot/student/1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
 å§“åï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>name<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
 å¹´é¾„ï¼š<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>age<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hidden<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>_method<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>PUT<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>DELETE: åˆ é™¤èµ„æº -- sql delete</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>http://localhost:8080/myboot/student/1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>åˆ é™¤1çš„æ•°æ®<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>éœ€è¦çš„åˆ†é¡µï¼Œ æ’åºç­‰å‚æ•°ï¼Œä¾ç„¶æ”¾åœ¨ urlçš„åé¢ï¼Œ ä¾‹å¦‚</p><p>http://localhost:8080/myboot/students?page=1&amp;pageSize=20</p><p>\`</p><p>3ï¼‰ ä¸€å¥è¯è¯´æ˜RESTï¼š</p><p>â€‹ ä½¿ç”¨urlè¡¨ç¤ºèµ„æº ï¼Œä½¿ç”¨httpåŠ¨ä½œæ“ä½œèµ„æºã€‚</p><ol start="4"><li>æ³¨è§£</li></ol><p><code>@PathVariable</code> : ä»urlä¸­è·å–æ•°æ®</p><p><code>@GetMapping</code>: æ”¯æŒçš„getè¯·æ±‚æ–¹å¼ï¼Œ ç­‰åŒäº @RequestMapping( method=RequestMethod.GET)</p><p><code>@PostMapping</code>: æ”¯æŒpostè¯·æ±‚æ–¹å¼ ï¼Œç­‰åŒäº @RequestMapping( method=RequestMethod.POST)</p><p><code>@PutMapping</code>: æ”¯æŒputè¯·æ±‚æ–¹å¼ï¼Œ ç­‰åŒäº @RequestMapping( method=RequestMethod.PUT)</p><p><code>@DeleteMapping</code>: æ”¯æŒdeleteè¯·æ±‚æ–¹å¼ï¼Œ ç­‰åŒäº @RequestMapping( method=RequestMethod.DELETE)</p><p>@RestController: ç¬¦åˆæ³¨è§£ï¼Œ æ˜¯@Controller å’Œ@ResponseBodyç»„åˆã€‚</p><p>â€‹ åœ¨ç±»çš„ä¸Šé¢ä½¿ç”¨@RestController ï¼Œ è¡¨ç¤ºå½“å‰ç±»è€…çš„æ‰€æœ‰æ–¹æ³•éƒ½åŠ å…¥äº† @ResponseBody</p><ol start="5"><li><p>Postman : æµ‹è¯•å·¥å…·</p><p>ä½¿ç”¨Postman : å¯ä»¥æµ‹è¯• get ï¼Œpost ï¼Œ put ï¼Œdelete ç­‰è¯·æ±‚</p></li></ol><h3 id="_5-2-åœ¨é¡µé¢ä¸­æˆ–è€…ajaxä¸­-æ”¯æŒput-deleteè¯·æ±‚" tabindex="-1"><a class="header-anchor" href="#_5-2-åœ¨é¡µé¢ä¸­æˆ–è€…ajaxä¸­-æ”¯æŒput-deleteè¯·æ±‚" aria-hidden="true">#</a> 5.2 åœ¨é¡µé¢ä¸­æˆ–è€…ajaxä¸­ï¼Œæ”¯æŒputï¼Œdeleteè¯·æ±‚</h3><p>åœ¨SpringMVCä¸­ æœ‰ä¸€ä¸ªè¿‡æ»¤å™¨ï¼Œ æ”¯æŒpostè¯·æ±‚è½¬ä¸ºput ,delete</p><p>è¿‡æ»¤å™¨ï¼š org.springframework.web.filter.HiddenHttpMethodFilter</p><p>ä½œç”¨ï¼š æŠŠè¯·æ±‚ä¸­çš„postè¯·æ±‚è½¬ä¸º put ï¼Œ delete</p><p>å®ç°æ­¥éª¤ï¼š</p><ol><li>application.properties(yml) : å¼€å¯ä½¿ç”¨ HiddenHttpMethodFilter è¿‡æ»¤å™¨</li><li>åœ¨è¯·æ±‚é¡µé¢ä¸­ï¼ŒåŒ…å« _methodå‚æ•°ï¼Œ ä»–çš„å€¼æ˜¯ putï¼Œ delete ï¼Œ å‘èµ·è¿™ä¸ªè¯·æ±‚ä½¿ç”¨çš„postæ–¹å¼</li></ol><h2 id="redis" tabindex="-1"><a class="header-anchor" href="#redis" aria-hidden="true">#</a> Redis</h2><p>Redis ï¼š ä¸€ä¸ªNoSQLæ•°æ®åº“ï¼Œ å¸¸ç”¨ä½œ ç¼“å­˜ä½¿ç”¨ ï¼ˆcacheï¼‰</p><p>Redisçš„æ•°æ®ç±»å‹ï¼š string , hash ,set ,zset , list</p><p>Redisæ˜¯ä¸€ä¸ªä¸­é—´ä»¶ï¼š æ˜¯ä¸€ä¸ªç‹¬ç«‹çš„æœåŠ¡å™¨ã€‚</p><p>javaä¸­è‘—åçš„å®¢æˆ·ç«¯ï¼š Jedis ï¼Œ lettuce ï¼Œ Redisson</p><p>Springï¼ŒSpringBootä¸­æœ‰ ä¸€ä¸ªRedisTemplateï¼ˆStringRedisTemplateï¼‰ ï¼Œå¤„ç†å’Œredisäº¤äº’</p><h3 id="å¯¹æ¯”-stringredistemplate-å’Œ-redistemplate" tabindex="-1"><a class="header-anchor" href="#å¯¹æ¯”-stringredistemplate-å’Œ-redistemplate" aria-hidden="true">#</a> å¯¹æ¯” StringRedisTemplate å’Œ RedisTemplate</h3><ol><li><code>StringRedisTemplate</code><ol><li>æŠŠkï¼Œv éƒ½æ˜¯ä½œä¸ºStringå¤„ç†ï¼Œ ä½¿ç”¨çš„æ˜¯<strong>Stringçš„åºåˆ—åŒ–</strong> ï¼Œ å¯è¯»æ€§å¥½</li></ol></li><li><code>RedisTemplate </code><ol><li>æŠŠkï¼Œv ç»è¿‡äº†åºåˆ—åŒ–å­˜åˆ°redisã€‚ kï¼Œv æ˜¯åºåˆ—åŒ–çš„å†…å®¹ï¼Œ <strong>ä¸èƒ½ç›´æ¥è¯†åˆ«</strong></li><li><strong>é»˜è®¤ä½¿ç”¨çš„jdkåºåˆ—åŒ–</strong>ï¼Œ å¯ä»¥ä¿®æ”¹ä¸ºå‰æçš„åºåˆ—åŒ–</li></ol></li></ol><h4 id="åºåˆ—åŒ–å’Œååºåˆ—åŒ–" tabindex="-1"><a class="header-anchor" href="#åºåˆ—åŒ–å’Œååºåˆ—åŒ–" aria-hidden="true">#</a> åºåˆ—åŒ–å’Œååºåˆ—åŒ–</h4><p><img src="https://s2.loli.net/2023/10/17/KwlbWBDGzd5yFQu.png" alt="image-20221030185047194"></p><p><img src="https://s2.loli.net/2023/10/17/mE5Ae2ixYZCaR3L.png" alt="image-20221030185050745"></p><ul><li><p>åºåˆ—åŒ–ï¼šæŠŠå¯¹è±¡è½¬åŒ–ä¸ºå¯ä¼ è¾“çš„å­—èŠ‚åºåˆ—è¿‡ç¨‹ç§°ä¸ºåºåˆ—åŒ–ã€‚</p></li><li><p>ååºåˆ—åŒ–ï¼šæŠŠå­—èŠ‚åºåˆ—è¿˜åŸä¸ºå¯¹è±¡çš„è¿‡ç¨‹ç§°ä¸ºååºåˆ—åŒ–ã€‚</p></li></ul><h5 id="ä¸ºä»€ä¹ˆéœ€è¦åºåˆ—åŒ–" tabindex="-1"><a class="header-anchor" href="#ä¸ºä»€ä¹ˆéœ€è¦åºåˆ—åŒ–" aria-hidden="true">#</a> ä¸ºä»€ä¹ˆéœ€è¦åºåˆ—åŒ–</h5><p>åºåˆ—åŒ–æœ€ç»ˆçš„ç›®çš„æ˜¯ä¸ºäº†å¯¹è±¡å¯ä»¥è·¨å¹³å°å­˜å‚¨ï¼Œå’Œè¿›è¡Œç½‘ç»œä¼ è¾“ã€‚è€Œæˆ‘ä»¬è¿›è¡Œè·¨å¹³å°å­˜å‚¨å’Œç½‘ç»œä¼ è¾“çš„æ–¹å¼å°±æ˜¯IOï¼Œè€Œæˆ‘ä»¬çš„IOæ”¯æŒçš„æ•°æ®æ ¼å¼å°±æ˜¯å­—èŠ‚æ•°ç»„ã€‚æˆ‘ä»¬å¿…é¡»åœ¨æŠŠå¯¹è±¡è½¬æˆå­—èŠ‚æ•°ç»„çš„æ—¶å€™å°±åˆ¶å®šä¸€ç§è§„åˆ™ï¼ˆåºåˆ—åŒ–ï¼‰ï¼Œé‚£ä¹ˆæˆ‘ä»¬ä»IOæµé‡Œé¢è¯»å‡ºæ•°æ®çš„æ—¶å€™å†ä»¥è¿™ç§è§„åˆ™æŠŠå¯¹è±¡è¿˜åŸå›æ¥ï¼ˆååºåˆ—åŒ–ï¼‰ã€‚</p><h5 id="ä»€ä¹ˆæƒ…å†µä¸‹éœ€è¦åºåˆ—åŒ–" tabindex="-1"><a class="header-anchor" href="#ä»€ä¹ˆæƒ…å†µä¸‹éœ€è¦åºåˆ—åŒ–" aria-hidden="true">#</a> ä»€ä¹ˆæƒ…å†µä¸‹éœ€è¦åºåˆ—åŒ–</h5><p>é€šè¿‡ä¸Šé¢æˆ‘æƒ³ä½ å·²ç»çŸ¥é“äº†å‡¡æ˜¯éœ€è¦è¿›è¡Œâ€œè·¨å¹³å°å­˜å‚¨â€å’Œâ€ç½‘ç»œä¼ è¾“â€çš„æ•°æ®ï¼Œéƒ½éœ€è¦è¿›è¡Œåºåˆ—åŒ–ã€‚</p><p>æœ¬è´¨ä¸Šå­˜å‚¨å’Œç½‘ç»œä¼ è¾“ éƒ½éœ€è¦ç»è¿‡ æŠŠä¸€ä¸ªå¯¹è±¡çŠ¶æ€ä¿å­˜æˆä¸€ç§è·¨å¹³å°è¯†åˆ«çš„å­—èŠ‚æ ¼å¼ï¼Œç„¶åå…¶ä»–çš„å¹³å°æ‰å¯ä»¥é€šè¿‡å­—èŠ‚ä¿¡æ¯è§£æè¿˜åŸå¯¹è±¡ä¿¡æ¯ã€‚</p><h5 id="åºåˆ—åŒ–çš„æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#åºåˆ—åŒ–çš„æ–¹å¼" aria-hidden="true">#</a> åºåˆ—åŒ–çš„æ–¹å¼</h5><p>åºåˆ—åŒ–åªæ˜¯ä¸€ç§æ‹†è£…ç»„è£…å¯¹è±¡çš„è§„åˆ™ï¼Œé‚£ä¹ˆè¿™ç§è§„åˆ™è‚¯å®šä¹Ÿå¯èƒ½æœ‰å¤šç§å¤šæ ·ï¼Œæ¯”å¦‚ç°åœ¨å¸¸è§çš„åºåˆ—åŒ–æ–¹å¼æœ‰ï¼šJDKï¼ˆä¸æ”¯æŒè·¨è¯­è¨€ï¼‰ã€JSONã€XMLã€Hessianã€Kryoï¼ˆä¸æ”¯æŒè·¨è¯­è¨€ï¼‰ã€Thriftã€Protofbuffã€</p><p>åºåˆ—åŒ–è¿‡ç¨‹ï¼šStudent( name=zs, age=20) ---- { &quot;name&quot;:&quot;zs&quot;, &quot;age&quot;:20 }</p><p>javaçš„åºåˆ—åŒ–ï¼š æŠŠjavaå¯¹è±¡è½¬ä¸ºbyte[], äºŒè¿›åˆ¶æ•°æ®</p><p>jsonåºåˆ—åŒ–ï¼šjsonåºåˆ—åŒ–åŠŸèƒ½å°†å¯¹è±¡è½¬æ¢ä¸º JSON æ ¼å¼æˆ–ä» JSON æ ¼å¼è½¬æ¢å¯¹è±¡ã€‚ä¾‹å¦‚æŠŠä¸€ä¸ªStudentå¯¹è±¡è½¬æ¢ä¸ºJSONå­—ç¬¦ä¸²{&quot;name&quot;:&quot;æå››&quot;, &quot;age&quot;:29} )ï¼Œååºåˆ—åŒ–(å°†JSONå­—ç¬¦ä¸² {&quot;name&quot;:&quot;æå››&quot;, &quot;age&quot;:29} è½¬æ¢ä¸ºStudentå¯¹è±¡)</p><h5 id="springbootä¸­è®¾ç½®keyæˆ–è€…valueçš„åºåˆ—åŒ–æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#springbootä¸­è®¾ç½®keyæˆ–è€…valueçš„åºåˆ—åŒ–æ–¹å¼" aria-hidden="true">#</a> springbootä¸­è®¾ç½®keyæˆ–è€…valueçš„åºåˆ—åŒ–æ–¹å¼</h5><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@PostMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/setStu&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">setStu</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">Student</span> student <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Student</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    student<span class="token punctuation">.</span><span class="token function">setId</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    student<span class="token punctuation">.</span><span class="token function">setName</span><span class="token punctuation">(</span><span class="token string">&quot;zhagnsan&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    student<span class="token punctuation">.</span><span class="token function">setEmail</span><span class="token punctuation">(</span><span class="token string">&quot;zhagnsan@gmail.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// ä½¿ç”¨RedisTemplate ï¼Œåœ¨å­˜å–å€¼ä¹‹å‰ï¼Œè®¾ç½®åºåˆ—åŒ–</span>
    <span class="token comment">// è®¾ç½® key ä½¿ç”¨Stringçš„åºåˆ—åŒ–</span>
    redisTemplate<span class="token punctuation">.</span><span class="token function">setKeySerializer</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">StringRedisSerializer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// è®¾ç½® value çš„åºåˆ—åŒ–</span>
    redisTemplate<span class="token punctuation">.</span><span class="token function">setHashValueSerializer</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Jackson2JsonRedisSerializer</span><span class="token punctuation">(</span><span class="token class-name">Student</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    redisTemplate<span class="token punctuation">.</span><span class="token function">opsForValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span><span class="token string">&quot;mystu&quot;</span><span class="token punctuation">,</span> student<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token string">&quot;å‘redisæ·»åŠ å­¦ç”Ÿæ•°æ®&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="æ‰“åŒ…" tabindex="-1"><a class="header-anchor" href="#æ‰“åŒ…" aria-hidden="true">#</a> æ‰“åŒ…</h2><h3 id="_8-1-æ‰“åŒ…war" tabindex="-1"><a class="header-anchor" href="#_8-1-æ‰“åŒ…war" aria-hidden="true">#</a> 8.1 æ‰“åŒ…war</h3><p>1.åˆ›å»ºäº†ä¸€ä¸ªjspåº”ç”¨</p><p>2.ä¿®æ”¹pom.xml</p><p>1)æŒ‡å®šæ‰“åŒ…åçš„æ–‡ä»¶åç§°</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span>
   <span class="token comment">&lt;!--æ‰“åŒ…åçš„æ–‡ä»¶åç§°--&gt;</span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>finalName</span><span class="token punctuation">&gt;</span></span>myboot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>finalName</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>2)æŒ‡å®šjspç¼–è¯‘ç›®å½•</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!--resourcesæ’ä»¶ï¼Œ æŠŠjspç¼–è¯‘åˆ°æŒ‡å®šçš„ç›®å½•--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resources</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resource</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>directory</span><span class="token punctuation">&gt;</span></span>src/main/webapp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>directory</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>targetPath</span><span class="token punctuation">&gt;</span></span>META-INF/resources<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>targetPath</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>includes</span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span><span class="token punctuation">&gt;</span></span>**/*.*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>includes</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resource</span><span class="token punctuation">&gt;</span></span>

   <span class="token comment">&lt;!--ä½¿ç”¨äº†mybatis ï¼Œè€Œä¸”mapperæ–‡ä»¶æ”¾åœ¨src/main/javaç›®å½•--&gt;</span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resource</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>directory</span><span class="token punctuation">&gt;</span></span>src/main/java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>directory</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>includes</span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span><span class="token punctuation">&gt;</span></span>**/*.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>includes</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resource</span><span class="token punctuation">&gt;</span></span>

   <span class="token comment">&lt;!--æŠŠsrc/main/resourcesä¸‹é¢çš„æ‰€æœ‰æ–‡ä»¶ï¼Œéƒ½åŒ…å«åˆ°classesç›®å½•--&gt;</span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resource</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>directory</span><span class="token punctuation">&gt;</span></span>src/main/resources<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>directory</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>includes</span><span class="token punctuation">&gt;</span></span>
         <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span><span class="token punctuation">&gt;</span></span>**/*.*<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>includes</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resource</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resources</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3ï¼‰æ‰§è¡Œæ‰“åŒ…æ˜¯war</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!--æ‰“åŒ…ç±»å‹--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>packaging</span><span class="token punctuation">&gt;</span></span>war<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>packaging</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>4ï¼‰ä¸»å¯åŠ¨ç±»ç»§æ‰¿SpringBootServletInitializer</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * SpringBootServletInitializer: ç»§æ‰¿è¿™ä¸ªç±»ï¼Œ æ‰èƒ½ä½¿ç”¨ç‹¬ç«‹tomcatæœåŠ¡å™¨
 */</span>
<span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JspApplication</span>  <span class="token keyword">extends</span> <span class="token class-name">SpringBootServletInitializer</span>  <span class="token punctuation">{</span>

   <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">JspApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>

   <span class="token annotation punctuation">@Override</span>
   <span class="token keyword">protected</span> <span class="token class-name">SpringApplicationBuilder</span> <span class="token function">configure</span><span class="token punctuation">(</span><span class="token class-name">SpringApplicationBuilder</span> builder<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> builder<span class="token punctuation">.</span><span class="token function">sources</span><span class="token punctuation">(</span><span class="token class-name">JspApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
   <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>5ï¼‰éƒ¨ç½²war</p><p>æŠŠwaræ”¾åˆ°tomcatç­‰æœåŠ¡å™¨çš„å‘å¸ƒç›®å½•ä¸­ã€‚ tomcatä¸ºä¾‹ï¼Œ myboot.waræ”¾åˆ°tomcat/webappsç›®å½•ã€‚</p><h3 id="_8-2-æ‰“åŒ…ä¸ºjar" tabindex="-1"><a class="header-anchor" href="#_8-2-æ‰“åŒ…ä¸ºjar" aria-hidden="true">#</a> 8.2 æ‰“åŒ…ä¸ºjar</h3><p>1.åˆ›å»ºäº†ä¸€ä¸ªåŒ…å«äº†jspçš„é¡¹ç›®</p><p>2.ä¿®æ”¹pom.xml</p><p>â€‹ 1) æŒ‡å®šæ‰“åŒ…åçš„æ–‡ä»¶åç§°</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>build</span><span class="token punctuation">&gt;</span></span>
   <span class="token comment">&lt;!--æ‰“åŒ…åçš„æ–‡ä»¶åç§°--&gt;</span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>finalName</span><span class="token punctuation">&gt;</span></span>myboot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>finalName</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>build</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><pre><code>2) æŒ‡å®šspringboot-maven-pluginç‰ˆæœ¬
</code></pre><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugins</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>plugin</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-maven-plugin<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
      <span class="token comment">&lt;!--æ‰“åŒ…jarï¼Œ æœ‰jspæ–‡ä»¶æ—¶ï¼Œå¿…é¡»æŒ‡å®šmaven-pluginæ’ä»¶çš„ç‰ˆæœ¬æ˜¯ 1.4.2.RELEASE--&gt;</span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.4.2.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
   <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugin</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>plugins</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>3ï¼‰æœ€åæ‰§è¡Œ maven clean package</p><p>â€‹ åœ¨targetç›®å½•ä¸­ï¼Œç”Ÿæˆjar æ–‡ä»¶ï¼Œ ä¾‹å­æ˜¯myboot.jar</p><p>â€‹ æ‰§è¡Œç‹¬ç«‹çš„springbooté¡¹ç›® åœ¨cmdä¸­ java -jar myboot.jar</p><h1 id="thymeleaf" tabindex="-1"><a class="header-anchor" href="#thymeleaf" aria-hidden="true">#</a> Thymeleaf</h1><h3 id="æ˜¯ä»€ä¹ˆ" tabindex="-1"><a class="header-anchor" href="#æ˜¯ä»€ä¹ˆ" aria-hidden="true">#</a> æ˜¯ä»€ä¹ˆ</h3><p>Thymeleafï¼š æ˜¯ä½¿ç”¨Javaå¼€å‘çš„æ¨¡æ¿æŠ€æœ¯ï¼Œ åœ¨æœåŠ¡å™¨ç«¯è¿è¡Œã€‚ æŠŠå¤„ç†åçš„æ•°æ®å‘é€ç»™æµè§ˆå™¨ã€‚</p><p>â€‹ æ¨¡æ¿æ˜¯ä½œè§†å›¾å±‚å·¥ä½œçš„ã€‚ æ˜¾ç¤ºæ•°æ®çš„ã€‚ Thymeleafæ˜¯åŸºäºHtmlè¯­è¨€ã€‚ Thymleafè¯­æ³•æ˜¯åº”ç”¨åœ¨</p><p>â€‹ htmlæ ‡ç­¾ä¸­ ã€‚ SpringBootæ¡†æ¶é›†æˆThymealeaf, ä½¿ç”¨Thymeleafä»£æ›¿jspã€‚</p><p>Thymeleaf çš„å®˜æ–¹ç½‘ç«™ï¼šhttp://www.thymeleaf.org Thymeleaf å®˜æ–¹æ‰‹å†Œï¼šhttps://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html</p><h2 id="_9-1-è¡¨è¾¾å¼" tabindex="-1"><a class="header-anchor" href="#_9-1-è¡¨è¾¾å¼" aria-hidden="true">#</a> 9.1 è¡¨è¾¾å¼</h2><ol><li><p>æ ‡å‡†å˜é‡è¡¨è¾¾å¼</p><p>è¯­æ³•ï¼š \${key}</p><p>ä½œç”¨ï¼š è·å–keyå¯¹äºçš„æ–‡æœ¬æ•°æ®ï¼Œ key æ˜¯requestä½œç”¨åŸŸä¸­çš„key ï¼Œ ä½¿ç”¨request.setAttribute(), model.addAttribute()</p><p>åœ¨é¡µé¢ä¸­çš„ htmlæ ‡ç­¾ä¸­ï¼Œ ä½¿ç”¨ th:text=&quot;\${key}&quot;</p></li></ol><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">margin-left</span><span class="token punctuation">:</span> 400px</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>æ ‡å‡†å˜é‡è¡¨è¾¾å¼:  \${key}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${site}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>keyä¸å­˜åœ¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>è·å–SysUserå¯¹è±¡ å±æ€§å€¼<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${myuser.id}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>id<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${myuser.name}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>å§“å<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${myuser.sex}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>å§“åï¼šmç”·<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${myuser.age}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>å¹´é¾„<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${myuser.getName()}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>è·å–å§“åä½¿ç”¨getXXX<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ol start="2"><li><p>é€‰æ‹©å˜é‡è¡¨è¾¾å¼ï¼ˆ æ˜Ÿå·å˜é‡è¡¨è¾¾å¼ï¼‰</p><p>è¯­æ³•ï¼š *{key}</p><p>ä½œç”¨ï¼š è·å–è¿™ä¸ªkeyå¯¹åº”çš„æ•°æ®ï¼Œ *{key}éœ€è¦å’Œth:object è¿™ä¸ªå±æ€§ä¸€èµ·ä½¿ç”¨ã€‚</p><p>ç›®çš„æ˜¯ç®€å•è·å–å¯¹è±¡çš„å±æ€§å€¼ã€‚</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>ä½¿ç”¨ *{} è·å–SysUserçš„å±æ€§å€¼<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>object</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${myuser}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>*{id}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>*{name}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>*{sex}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>*{age}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>ä½¿ç”¨*{}å®Œæˆçš„è¡¨ç¤º å¯¹è±¡çš„å±æ€§å€¼<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>*{myuser.name}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>é“¾æ¥è¡¨è¾¾å¼</p><p>è¯­æ³•ï¼š @{url}</p><p>ä½œç”¨ï¼š è¡¨ç¤ºé“¾æ¥ï¼Œ å¯ä»¥</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>...<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> , <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>link</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>...<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>..<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> ,<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>...<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>...<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div></li></ol><h2 id="_9-2-thymeleafå±æ€§" tabindex="-1"><a class="header-anchor" href="#_9-2-thymeleafå±æ€§" aria-hidden="true">#</a> 9.2 Thymeleafå±æ€§</h2><p>å±æ€§æ˜¯æ”¾åœ¨htmlå…ƒç´ ä¸­çš„ï¼Œå°±æ˜¯htmlå…ƒç´ çš„å±æ€§ï¼ŒåŠ å…¥äº†thå‰ç¼€ã€‚ å±æ€§çš„ä½œç”¨ä¸å˜ã€‚ åŠ å…¥ä¸Šthï¼Œ å±æ€§çš„å€¼ç”±æ¨¡æ¿å¼•æ“å¤„ç†äº†ã€‚ åœ¨å±æ€§å¯ä»¥ä½¿ç”¨å˜é‡è¡¨è¾¾å¼</p><p>ä¾‹å¦‚ï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/loginServlet<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name"><span class="token namespace">th:</span>action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>/loginServlet<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${methodAttr}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_9-3-each" tabindex="-1"><a class="header-anchor" href="#_9-3-each" aria-hidden="true">#</a> 9.3 each</h2><p>eachå¾ªç¯ï¼Œ å¯ä»¥å¾ªç¯Listï¼ŒArray</p><p>è¯­æ³•ï¼š</p><p>åœ¨ä¸€ä¸ªhtmlæ ‡ç­¾ä¸­ï¼Œä½¿ç”¨th:each</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>é›†åˆå¾ªç¯æˆå‘˜,å¾ªç¯çš„çŠ¶æ€å˜é‡:\${key}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${é›†åˆå¾ªç¯æˆå‘˜}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

é›†åˆå¾ªç¯æˆå‘˜,å¾ªç¯çš„çŠ¶æ€å˜é‡:ä¸¤ä¸ªåç§°éƒ½æ˜¯è‡ªå®šä¹‰çš„ã€‚ â€œå¾ªç¯çš„çŠ¶æ€å˜é‡â€è¿™ä¸ªåç§°å¯ä»¥ä¸å®šä¹‰ï¼Œé»˜è®¤æ˜¯&quot;é›†åˆå¾ªç¯æˆå‘˜Stat&quot;


</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>eachå¾ªç¯Map</p><p>åœ¨ä¸€ä¸ªhtmlæ ‡ç­¾ä¸­ï¼Œä½¿ç”¨th:each</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>each</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>é›†åˆå¾ªç¯æˆå‘˜,å¾ªç¯çš„çŠ¶æ€å˜é‡:\${key}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${é›†åˆå¾ªç¯æˆå‘˜.key}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${é›†åˆå¾ªç¯æˆå‘˜.value}<span class="token punctuation">&quot;</span></span> <span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

é›†åˆå¾ªç¯æˆå‘˜,å¾ªç¯çš„çŠ¶æ€å˜é‡:ä¸¤ä¸ªåç§°éƒ½æ˜¯è‡ªå®šä¹‰çš„ã€‚ â€œå¾ªç¯çš„çŠ¶æ€å˜é‡â€è¿™ä¸ªåç§°å¯ä»¥ä¸å®šä¹‰ï¼Œé»˜è®¤æ˜¯&quot;é›†åˆå¾ªç¯æˆå‘˜Stat&quot;

key:mapé›†åˆä¸­çš„key
valueï¼šmapé›†åˆkeyå¯¹åº”çš„valueå€¼

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_9-4-th-if" tabindex="-1"><a class="header-anchor" href="#_9-4-th-if" aria-hidden="true">#</a> 9.4 th:if</h2><p>&quot;th:if&quot; : åˆ¤æ–­è¯­å¥ï¼Œ å½“æ¡ä»¶ä¸ºtrueï¼Œ æ˜¾ç¤ºhtmlæ ‡ç­¾ä½“å†…ï¼Œ åä¹‹ä¸æ˜¾ç¤º æ²¡æœ‰elseè¯­å¥</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>è¯­æ³•ï¼š
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span> 10 &gt; 0 <span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> æ˜¾ç¤ºæ–‡æœ¬å†…å®¹ <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>è¿˜æœ‰ä¸€ä¸ª th:unless å’Œ th:ifç›¸åçš„è¡Œä¸º</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>è¯­æ³•ï¼š
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>unless</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span> 10 &lt; 0 <span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> å½“æ¡ä»¶ä¸ºfalseæ˜¾ç¤ºæ ‡ç­¾ä½“å†…å®¹ <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¾‹å­ï¼šif</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>margin-left: 400px<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span> if ä½¿ç”¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${sex==&#39;m&#39;}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>æ€§åˆ«æ˜¯ç”·<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${isLogin}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>å·²ç»ç™»å½•ç³»ç»Ÿ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${age &gt; 20}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>å¹´é¾„å¤§äº20<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--&quot;&quot;ç©ºå­—ç¬¦æ˜¯true--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${name}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>nameæ˜¯â€œâ€<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!--nullæ˜¯false--&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${isOld}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> isOldæ˜¯null<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¾‹å­ï¼š unless</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">margin-left</span><span class="token punctuation">:</span> 400px</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>unless: åˆ¤æ–­æ¡ä»¶ä¸ºfalseï¼Œæ˜¾ç¤ºæ ‡ç­¾ä½“å†…å®¹<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>unless</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${sex==&#39;f&#39;}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>æ€§åˆ«æ˜¯ç”·çš„<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>unless</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${isLogin}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ç™»å½•ç³»ç»Ÿ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>unless</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${isOld}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> isOldæ˜¯null <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_9-5-th-switch" tabindex="-1"><a class="header-anchor" href="#_9-5-th-switch" aria-hidden="true">#</a> 9.5 th:switch</h2><p>th:switch å’Œ javaä¸­çš„swithä¸€æ ·çš„</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code>è¯­æ³•ï¼š
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>switch</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>è¦æ¯”å¯¹çš„å€¼<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>case</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>å€¼1<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        ç»“æœ1
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>case</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>å€¼2<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        ç»“æœ2
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>case</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>*<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        é»˜è®¤ç»“æœ
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    ä»¥ä¸Šçš„caseåªæœ‰ä¸€ä¸ªè¯­å¥æ‰§è¡Œ
    
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_9-6-th-inline" tabindex="-1"><a class="header-anchor" href="#_9-6-th-inline" aria-hidden="true">#</a> 9.6 th:inline</h2><ol><li><p>å†…è”textï¼š åœ¨htmlæ ‡ç­¾å¤–ï¼Œè·å–è¡¨è¾¾å¼çš„å€¼</p><p>è¯­æ³•ï¼š</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>æ˜¾ç¤ºå§“åæ˜¯ï¼š[[\${key}]]<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>

 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>margin-left: 400px<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>å†…è” text, ä½¿ç”¨å†…è”è¡¨è¾¾å¼æ˜¾ç¤ºå˜é‡çš„å€¼<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>inline</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>æˆ‘æ˜¯[[\${name}]]ï¼Œå¹´é¾„æ˜¯[[\${age}]]<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
            æˆ‘æ˜¯<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${name}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>,å¹´é¾„æ˜¯<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${age}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>ä½¿ç”¨å†…è”text<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>æˆ‘æ˜¯[[\${name}]],æ€§åˆ«æ˜¯[[\${sex}]]<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></li><li><p>å†…è”javascript</p></li></ol><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code>ä¾‹å­ï¼š
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text/javascript<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>inline</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>javascript<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
         <span class="token keyword">var</span> myname <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>$<span class="token punctuation">{</span>name<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
         <span class="token keyword">var</span> myage <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>$<span class="token punctuation">{</span>age<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

         <span class="token comment">//alert(&quot;è·å–çš„æ¨¡æ¿ä¸­æ•°æ® &quot;+ myname + &quot;,&quot;+myage)</span>

        <span class="token keyword">function</span> <span class="token function">fun</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token function">alert</span><span class="token punctuation">(</span><span class="token string">&quot;å•å‡»äº‹ä»¶ï¼Œè·å–æ•°æ® &quot;</span><span class="token operator">+</span> myname <span class="token operator">+</span> <span class="token string">&quot;,&quot;</span><span class="token operator">+</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>$<span class="token punctuation">{</span>sex<span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
        <span class="token punctuation">}</span>
    </span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_9-7-å­—é¢é‡" tabindex="-1"><a class="header-anchor" href="#_9-7-å­—é¢é‡" aria-hidden="true">#</a> 9.7 å­—é¢é‡</h2><p>ä¾‹å­ï¼š</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">margin-left</span><span class="token punctuation">:</span> 400px</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>æ–‡æœ¬å­—é¢é‡: ä½¿ç”¨å•å¼•å·æ‹¬èµ·æ¥çš„å­—ç¬¦ä¸²<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&#39;</span>æˆ‘æ˜¯&#39;+\${name}+&#39;,æˆ‘æ‰€åœ¨çš„åŸå¸‚&#39;+\${city}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>æ•°æ®æ˜¾ç¤º<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>

       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>æ•°å­—å­—é¢é‡<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${20&gt;5}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> 20å¤§äº 5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>booleanå­—é¢é‡<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${isLogin == true}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>ç”¨æˆ·å·²ç»ç™»å½•ç³»ç»Ÿ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>nullå­—é¢é‡<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${myuser != null}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>æœ‰myuseræ•°æ®<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_9-8-å­—ç¬¦ä¸²è¿æ¥" tabindex="-1"><a class="header-anchor" href="#_9-8-å­—ç¬¦ä¸²è¿æ¥" aria-hidden="true">#</a> 9.8 å­—ç¬¦ä¸²è¿æ¥</h2><p>è¿æ¥å­—ç¬¦ä¸²æœ‰ä¸¤ç§è¯­æ³•</p><p>1ï¼‰ è¯­æ³•ä½¿ç”¨ å•å¼•å·æ‹¬èµ·æ¥å­—ç¬¦ä¸² ï¼Œ ä½¿ç”¨ + è¿æ¥å…¶ä»–çš„ å­—ç¬¦ä¸²æˆ–è€…è¡¨è¾¾å¼</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code>  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&#39;</span>æˆ‘æ˜¯&#39;+\${name}+&#39;,æˆ‘æ‰€åœ¨çš„åŸå¸‚&#39;+\${city}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>æ•°æ®æ˜¾ç¤º<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>2ï¼‰è¯­æ³•ï¼šä½¿ç”¨åŒç«–çº¿ï¼Œ |å­—ç¬¦ä¸²å’Œè¡¨è¾¾å¼|</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>|æˆ‘æ˜¯\${name},æˆ‘æ‰€åœ¨åŸå¸‚\${city|<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    æ˜¾ç¤ºæ•°æ®
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>ä¾‹å­ï¼š</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code>    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">margin-left</span><span class="token punctuation">:</span> 400px</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>å­—ç¬¦ä¸²è¿æ¥æ–¹å¼1ï¼šä½¿ç”¨å•å¼•å·æ‹¬èµ·æ¥çš„å­—ç¬¦ä¸²<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
       <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&#39;</span>æˆ‘æ˜¯&#39;+\${name}+&#39;,æˆ‘æ‰€åœ¨çš„åŸå¸‚&#39;+\${city}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>æ•°æ®æ˜¾ç¤º<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>å­—ç¬¦ä¸²è¿æ¥æ–¹å¼2ï¼š|å­—ç¬¦ä¸²å’Œè¡¨è¾¾å¼|<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>|æˆ‘æ˜¯\${name},æ‰€åœ¨åŸå¸‚\${city},å…¶ä»–äºº\${myuser.name}|<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_9-9-è¿ç®—ç¬¦" tabindex="-1"><a class="header-anchor" href="#_9-9-è¿ç®—ç¬¦" aria-hidden="true">#</a> 9.9 è¿ç®—ç¬¦</h2><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>ç®—æœ¯è¿ ç®—ï¼š + , - - , * , / , %
å…³ç³»æ¯”è¾ƒ : &gt; , &lt; , &gt;= , &lt;= ( gt , lt , ge , le )
ç›¸ç­‰åˆ¤æ–­ï¼š == , != ( eq , ne )


<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>margin-left: 400px<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>ä½¿ç”¨è¿ç®—ç¬¦<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${age &gt; 10}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>å¹´é¾„å¤§äº 10 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${ 20 + 30 }<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>æ˜¾ç¤ºè¿ç®—ç»“æœ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${myuser == null}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>myuseræ˜¯null<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${myuser eq null}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>myuseræ˜¯null<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${myuser ne null}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>myuserä¸æ˜¯null<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${isLogin == true ? &#39;ç”¨æˆ·å·²ç»ç™»å½•&#39; : &#39;ç”¨æˆ·éœ€è¦ç™»å½•&#39;}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${isLogin == true ? ( age &gt; 10 ? &#39;ç”¨æˆ·æ˜¯å¤§äº10çš„&#39; : &#39;ç”¨æˆ·å¹´é¾„æ¯”è¾ƒå°&#39;) : &#39;ç”¨æˆ·éœ€è¦ç™»å½•&#39;}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

ä¸‰å…ƒè¿ç®—ç¬¦ï¼š
 è¡¨è¾¾å¼  ï¼Ÿ trueçš„ç»“æœ : falseçš„ç»“æœ

ä¸‰å…ƒè¿ç®—ç¬¦å¯ä»¥åµŒå¥—

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_9-10-å†…ç½®å¯¹è±¡" tabindex="-1"><a class="header-anchor" href="#_9-10-å†…ç½®å¯¹è±¡" aria-hidden="true">#</a> 9.10 å†…ç½®å¯¹è±¡</h2><p>æ–‡æ¡£åœ°å€ï¼šhttps://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html#web-context-namespaces-for-requestsession-attributes-etc.</p><p>#request è¡¨ç¤º HttpServletRequest</p><p>#session è¡¨ç¤º HttpSessionå¯¹è±¡</p><p>session è¡¨ç¤ºMapå¯¹è±¡çš„ï¼Œ æ˜¯#sessionçš„ç®€å•è¡¨ç¤ºæ–¹å¼ï¼Œ ç”¨æ¥è·å–sessionä¸­æŒ‡å®šçš„keyçš„å€¼</p><p>â€‹ #session.getAttribute(&quot;loginname&quot;) == session.loginname</p><p>â€‹ å¦‚æœè¦è°ƒç”¨sessionçš„æ–¹æ³•çš„è¯å°±ä¸€å®šè¦ç”¨ #sessionäº†</p><p>è¿™äº›æ˜¯å†…ç½®å¯¹è±¡ï¼Œå¯ä»¥åœ¨æ¨¡æ¿æ–‡ä»¶ä¸­ç›´æ¥ä½¿ç”¨ã€‚</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code>ä¾‹å­ï¼š
 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">margin-left</span><span class="token punctuation">:</span> 350px</span><span class="token punctuation">&quot;</span></span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>å†…ç½®å¯¹è±¡#request,#sessionï¼Œsessionçš„ä½¿ç”¨<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>è·å–ä½œç”¨åŸŸä¸­çš„æ•°æ®<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${#request.getAttribute(&#39;requestData&#39;)}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${#session.getAttribute(&#39;sessionData&#39;)}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${session.loginname}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>ä½¿ç”¨å†…ç½®å¯¹è±¡çš„æ–¹æ³•<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
        getRequestURL=<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${#request.getRequestURL()}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
        getRequestURI=<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${#request.getRequestURI()}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
        getQueryString=<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${#request.getQueryString()}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
        getContextPath=<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${#request.getContextPath()}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
        getServerName=<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${#request.getServerName()}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
        getServerPort=<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${#request.getServerPort()}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_9-11-å†…ç½®å·¥å…·ç±»" tabindex="-1"><a class="header-anchor" href="#_9-11-å†…ç½®å·¥å…·ç±»" aria-hidden="true">#</a> 9.11 å†…ç½®å·¥å…·ç±»</h2><p>å†…ç½®å·¥å…·ç±»å‹ï¼š Thymeleafè‡ªå·±çš„ä¸€äº›ç±»ï¼Œæä¾›å¯¹stringï¼Œ date ï¼Œé›†åˆçš„ä¸€äº›å¤„ç†æ–¹æ³•</p><p>#dates: å¤„ç†æ—¥å™¨çš„å·¥å…·ç±»</p><p>#numbers:å¤„ç†æ•°å­—çš„</p><p>#lists: å¤„ç†listé›†åˆçš„</p><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>margin-left: 350px<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>æ—¥æœŸç±»å¯¹è±¡ #dates<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${#dates.format(mydate )}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${#dates.format(mydate,&#39;yyyy-MM-dd&#39;)}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${#dates.format(mydate,&#39;yyyy-MM-dd HH:mm:ss&#39;)}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${#dates.year(mydate)}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${#dates.month(mydate)}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${#dates.monthName(mydate)}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${#dates.createNow()}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>

      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>å†…ç½®å·¥å…·ç±»#numbersï¼Œæ“ä½œæ•°å­—çš„<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${#numbers.formatCurrency(mynum)}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${#numbers.formatDecimal(mynum,5,2)}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>

      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>å†…ç½®å·¥å…·ç±»#strings,æ“ä½œå­—ç¬¦ä¸²<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${#strings.toUpperCase(mystr)}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${#strings.indexOf(mystr,&#39;power&#39;)}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${#strings.substring(mystr,2,5)}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${#strings.substring(mystr,2)}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${#strings.concat(mystr,&#39;---javaå¼€å‘çš„é»„åŸ”å†›æ ¡---&#39;)}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${#strings.length(mystr)}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${#strings.length(&#39;hello&#39;)}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>unless</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${#strings.isEmpty(mystr)}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> mystring ä¸æ˜¯ ç©ºå­—ç¬¦ä¸²  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>

      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>å†…ç½®å·¥å…·ç±»#lists,æ“ä½œlisté›†åˆ<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${#lists.size(mylist)}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${#lists.contains(mylist,&#39;a&#39;)}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>æœ‰æˆå‘˜a<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>!\${#lists.isEmpty(mylist)}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> list é›†åˆæœ‰å¤šä¸ªæˆå‘˜<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>

      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>br</span><span class="token punctuation">/&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>h3</span><span class="token punctuation">&gt;</span></span>å¤„ç†null<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>h3</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name"><span class="token namespace">th:</span>text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>\${zoo?.dog?.name}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>

  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="_9-12-è‡ªå®šä¹‰æ¨¡æ¿" tabindex="-1"><a class="header-anchor" href="#_9-12-è‡ªå®šä¹‰æ¨¡æ¿" aria-hidden="true">#</a> 9.12 è‡ªå®šä¹‰æ¨¡æ¿</h2><p>æ¨¡æ¿æ˜¯å†…å®¹å¤ç”¨ï¼Œ å®šä¹‰ä¸€æ¬¡ï¼Œåœ¨å…¶ä»–çš„æ¨¡æ¿æ–‡ä»¶ä¸­å¤šæ¬¡ä½¿ç”¨ã€‚</p><p>æ¨¡æ¿ä½¿ç”¨ï¼š</p><p>1.å®šä¹‰æ¨¡æ¿</p><p>2.ä½¿ç”¨æ¨¡æ¿</p><p>æ¨¡æ¿å®šä¹‰è¯­æ³•ï¼š</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code>th:fragment=&quot;æ¨¡æ¿è‡ªå®šä¹‰åç§°&quot;

ä¾‹å¦‚ï¼š
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">th:</span>fragment</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>head<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
        åŠ¨åŠ›èŠ‚ç‚¹-javaå¼€å‘
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
        www.bjpowernode.com
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å¼•ç”¨æ¨¡æ¿è¯­æ³•ï¼š</p><div class="language-html line-numbers-mode" data-ext="html"><pre class="language-html"><code>1) ~{templatename :: selector}
   templatename:  æ–‡ä»¶åç§°
   selectorï¼š è‡ªå®šä¹‰æ¨¡æ¿åç§°
2ï¼‰templatename :: selector
   templatename:  æ–‡ä»¶åç§°
   selectorï¼š è‡ªå®šä¹‰æ¨¡æ¿åç§°

å¯¹äºä½¿ç”¨æ¨¡æ¿ï¼šæœ‰åŒ…å«æ¨¡æ¿ï¼ˆth:includeï¼‰ï¼Œ æ’å…¥æ¨¡æ¿(th:insert)
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h1 id="ssmå’Œspringbootæ³¨è§£æ€»ç»“" tabindex="-1"><a class="header-anchor" href="#ssmå’Œspringbootæ³¨è§£æ€»ç»“" aria-hidden="true">#</a> SSMå’ŒSpringBootæ³¨è§£æ€»ç»“</h1><h2 id="æ³¨è§£" tabindex="-1"><a class="header-anchor" href="#æ³¨è§£" aria-hidden="true">#</a> æ³¨è§£</h2><p>Spring + SpringMVC + SpringBoot</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>åˆ›å»ºå¯¹è±¡çš„ï¼š
<span class="token annotation punctuation">@Controller</span><span class="token operator">:</span> æ”¾åœ¨ç±»çš„ä¸Šé¢ï¼Œåˆ›å»ºæ§åˆ¶å™¨å¯¹è±¡ï¼Œæ³¨å…¥åˆ°å®¹å™¨ä¸­
<span class="token annotation punctuation">@RestController</span><span class="token operator">:</span> æ”¾åœ¨ç±»çš„ä¸Šé¢ï¼Œåˆ›å»ºæ§åˆ¶å™¨å¯¹è±¡ï¼Œæ³¨å…¥åˆ°å®¹å™¨ä¸­ã€‚
             ä½œç”¨ï¼šå¤åˆæ³¨è§£æ˜¯<span class="token annotation punctuation">@Controller</span> <span class="token punctuation">,</span> <span class="token annotation punctuation">@ResponseBody</span><span class="token punctuation">,</span> ä½¿ç”¨è¿™ä¸ªæ³¨è§£ç±»çš„ï¼Œé‡Œé¢çš„æ§åˆ¶å™¨æ–¹æ³•çš„è¿”å›å€¼                   éƒ½æ˜¯æ•°æ®

<span class="token annotation punctuation">@Service</span> ï¼š æ”¾åœ¨ä¸šåŠ¡å±‚çš„å®ç°ç±»ä¸Šé¢ï¼Œåˆ›å»ºserviceå¯¹è±¡ï¼Œæ³¨å…¥åˆ°å®¹å™¨
<span class="token annotation punctuation">@Repository</span> <span class="token operator">:</span> æ”¾åœ¨daoå±‚çš„å®ç°ç±»ä¸Šé¢ï¼Œåˆ›å»ºdaoå¯¹è±¡ï¼Œæ”¾å…¥åˆ°å®¹å™¨ã€‚ æ²¡æœ‰ä½¿ç”¨è¿™ä¸ªæ³¨è§£ï¼Œæ˜¯å› ä¸ºç°åœ¨ä½¿ç”¨<span class="token class-name">MyBatis</span>æ¡†               æ¶ï¼Œ  daoå¯¹è±¡æ˜¯<span class="token class-name">MyBatis</span>é€šè¿‡ä»£ç†ç”Ÿæˆçš„ã€‚ ä¸éœ€è¦ä½¿ç”¨<span class="token annotation punctuation">@Repository</span>ã€ æ‰€ä»¥æ²¡æœ‰ä½¿ç”¨ã€‚
<span class="token annotation punctuation">@Component</span><span class="token operator">:</span>  æ”¾åœ¨ç±»çš„ä¸Šé¢ï¼Œåˆ›å»ºæ­¤ç±»çš„å¯¹è±¡ï¼Œæ”¾å…¥åˆ°å®¹å™¨ä¸­ã€‚ 

èµ‹å€¼çš„ï¼š
<span class="token annotation punctuation">@Value</span> ï¼š ç®€å•ç±»å‹çš„èµ‹å€¼ï¼Œ ä¾‹å¦‚ åœ¨å±æ€§çš„ä¸Šé¢ä½¿ç”¨<span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;æå››&quot;</span><span class="token punctuation">)</span> <span class="token keyword">private</span> <span class="token class-name">String</span> name
          è¿˜å¯ä»¥ä½¿ç”¨<span class="token annotation punctuation">@Value</span><span class="token punctuation">,</span>è·å–é…ç½®æ–‡ä»¶è€…çš„æ•°æ®ï¼ˆpropertiesæˆ–ymlï¼‰ã€‚ 
          <span class="token annotation punctuation">@Value</span><span class="token punctuation">(</span><span class="token string">&quot;\${server.port}&quot;</span><span class="token punctuation">)</span> <span class="token keyword">private</span> <span class="token class-name">Integer</span> port

<span class="token annotation punctuation">@Autowired</span><span class="token operator">:</span> å¼•ç”¨ç±»å‹èµ‹å€¼è‡ªåŠ¨æ³¨å…¥çš„ï¼Œæ”¯æŒbyName<span class="token punctuation">,</span> byType<span class="token punctuation">.</span> é»˜è®¤æ˜¯byType ã€‚ æ”¾åœ¨å±æ€§çš„ä¸Šé¢ï¼Œä¹Ÿå¯ä»¥æ”¾åœ¨æ„é€              æ–¹æ³•çš„ä¸Šé¢ã€‚ æ¨èæ˜¯æ”¾åœ¨æ„é€ æ–¹æ³•çš„ä¸Šé¢
<span class="token annotation punctuation">@Qualifer</span><span class="token operator">:</span>  ç»™å¼•ç”¨ç±»å‹èµ‹å€¼ï¼Œä½¿ç”¨byNameæ–¹å¼ã€‚   
            <span class="token annotation punctuation">@Autowird</span><span class="token punctuation">,</span> <span class="token annotation punctuation">@Qualifer</span>éƒ½æ˜¯<span class="token class-name">Spring</span>æ¡†æ¶æä¾›çš„ã€‚

<span class="token annotation punctuation">@Resource</span> ï¼š æ¥è‡ªjdkä¸­çš„å®šä¹‰ï¼Œ javax<span class="token punctuation">.</span>annotationã€‚ å®ç°å¼•ç”¨ç±»å‹çš„è‡ªåŠ¨æ³¨å…¥ï¼Œ æ”¯æŒbyName<span class="token punctuation">,</span> byType<span class="token punctuation">.</span>
             é»˜è®¤æ˜¯byName<span class="token punctuation">,</span> å¦‚æœbyNameå¤±è´¥ï¼Œ å†ä½¿ç”¨byTypeæ³¨å…¥ã€‚ åœ¨å±æ€§ä¸Šé¢ä½¿ç”¨


å…¶ä»–ï¼š
<span class="token annotation punctuation">@Configuration</span> ï¼š æ”¾åœ¨ç±»çš„ä¸Šé¢ï¼Œè¡¨ç¤ºè¿™æ˜¯ä¸ªé…ç½®ç±»ï¼Œç›¸å½“äºxmlé…ç½®æ–‡ä»¶

<span class="token annotation punctuation">@Bean</span>ï¼šæ”¾åœ¨æ–¹æ³•çš„ä¸Šé¢ï¼Œ æŠŠæ–¹æ³•çš„è¿”å›å€¼å¯¹è±¡ï¼Œæ³¨å…¥åˆ°springå®¹å™¨ä¸­ã€‚

<span class="token annotation punctuation">@ImportResource</span> ï¼š åŠ è½½å…¶ä»–çš„xmlé…ç½®æ–‡ä»¶ï¼Œ æŠŠæ–‡ä»¶ä¸­çš„å¯¹è±¡æ³¨å…¥åˆ°springå®¹å™¨ä¸­

<span class="token annotation punctuation">@PropertySource</span> ï¼š è¯»å–å…¶ä»–çš„propertieså±æ€§é…ç½®æ–‡ä»¶

<span class="token annotation punctuation">@ComponentScan</span>ï¼š æ‰«æå™¨ ï¼ŒæŒ‡å®šåŒ…åï¼Œæ‰«ææ³¨è§£çš„

<span class="token annotation punctuation">@ResponseBody</span><span class="token operator">:</span> æ”¾åœ¨æ–¹æ³•çš„ä¸Šé¢ï¼Œè¡¨ç¤ºæ–¹æ³•çš„è¿”å›å€¼æ˜¯æ•°æ®ï¼Œ ä¸æ˜¯è§†å›¾
    
<span class="token annotation punctuation">@RequestBody</span> <span class="token operator">:</span> æŠŠè¯·æ±‚ä½“ä¸­çš„æ•°æ®ï¼Œè¯»å–å‡ºæ¥ï¼Œ è½¬ä¸ºjavaå¯¹è±¡ä½¿ç”¨ã€‚<span class="token punctuation">(</span>ä¼ æ¥çš„æ˜¯<span class="token class-name">Json</span>çš„æ—¶å€™ç”¨è¿™ä¸ªæ¥ï¼Œä¸æ˜¯<span class="token constant">JSON</span>çš„ï¼Œæ¯”å¦‚ç›´æ¥è¡¨å•æäº¤çš„ï¼Œç›´æ¥å†™å¯¹è±¡æ¥å°±è¡Œ<span class="token punctuation">)</span>

<span class="token annotation punctuation">@ControllerAdvice</span><span class="token operator">:</span>  æ§åˆ¶å™¨å¢å¼ºï¼Œ æ”¾åœ¨ç±»çš„ä¸Šé¢ï¼Œ è¡¨ç¤ºæ­¤ç±»æä¾›äº†æ–¹æ³•ï¼Œå¯ä»¥å¯¹controllerå¢å¼ºåŠŸèƒ½ã€‚

<span class="token annotation punctuation">@ExceptionHandler</span> <span class="token operator">:</span> å¤„ç†å¼‚å¸¸çš„ï¼Œæ”¾åœ¨æ–¹æ³•çš„ä¸Šé¢

<span class="token annotation punctuation">@Transcational</span> <span class="token operator">:</span>  å¤„ç†äº‹åŠ¡çš„ï¼Œ æ”¾åœ¨serviceå®ç°ç±»çš„<span class="token keyword">public</span>æ–¹æ³•ä¸Šé¢ï¼Œ è¡¨ç¤ºæ­¤æ–¹æ³•æœ‰äº‹åŠ¡
    
<span class="token annotation punctuation">@RequestParam</span> <span class="token operator">:</span> åŠ åœ¨ <span class="token class-name">Controller</span> æ–¹æ³•å‚æ•°ä¸Šé¢ï¼ŒæŒ‡å®šä¼ å‚åå­—ç­‰ï¼ˆå¯ä»¥ç»™defaultValueï¼ŒæŒ‡å®šæ²¡ä¼ å‚çš„é»˜è®¤å€¼ï¼‰


<span class="token class-name">SpringBoot</span>ä¸­ä½¿ç”¨çš„æ³¨è§£
    
<span class="token annotation punctuation">@SpringBootApplication</span> ï¼š æ”¾åœ¨å¯åŠ¨ç±»ä¸Šé¢ï¼Œ åŒ…å«äº†<span class="token annotation punctuation">@SpringBootConfiguration</span>
                          <span class="token annotation punctuation">@EnableAutoConfiguration</span>ï¼Œ <span class="token annotation punctuation">@ComponentScan</span>


    
<span class="token class-name">MyBatis</span>ç›¸å…³çš„æ³¨è§£

<span class="token annotation punctuation">@Mapper</span> ï¼š æ”¾åœ¨ç±»çš„ä¸Šé¢ ï¼Œ è®©<span class="token class-name">MyBatis</span>æ‰¾åˆ°æ¥å£ï¼Œ åˆ›å»ºä»–çš„ä»£ç†å¯¹è±¡    
<span class="token annotation punctuation">@MapperScan</span> <span class="token operator">:</span>æ”¾åœ¨ä¸»ç±»çš„ä¸Šé¢ ï¼Œ æŒ‡å®šæ‰«æçš„åŒ…ï¼Œ æŠŠè¿™ä¸ªåŒ…ä¸­çš„æ‰€æœ‰æ¥å£éƒ½åˆ›å»ºä»£ç†å¯¹è±¡ã€‚ å¯¹è±¡æ³¨å…¥åˆ°å®¹å™¨ä¸­
<span class="token annotation punctuation">@Param</span> ï¼š æ”¾åœ¨daoæ¥å£çš„æ–¹æ³•çš„å½¢å‚å‰é¢ï¼Œ ä½œä¸ºå‘½åå‚æ•°ä½¿ç”¨çš„ã€‚
    
<span class="token class-name">Dubbo</span>æ³¨è§£
<span class="token annotation punctuation">@DubboService</span><span class="token operator">:</span> åœ¨æä¾›è€…ç«¯ä½¿ç”¨çš„ï¼Œæš´éœ²æœåŠ¡çš„ï¼Œ æ”¾åœ¨æ¥å£çš„å®ç°ç±»ä¸Šé¢
<span class="token annotation punctuation">@DubboReference</span><span class="token operator">:</span>  åœ¨æ¶ˆè´¹è€…ç«¯ä½¿ç”¨çš„ï¼Œ å¼•ç”¨è¿œç¨‹æœåŠ¡ï¼Œ æ”¾åœ¨å±æ€§ä¸Šé¢ä½¿ç”¨ã€‚
<span class="token annotation punctuation">@EnableDubbo</span> <span class="token operator">:</span> æ”¾åœ¨ä¸»ç±»ä¸Šé¢ï¼Œ è¡¨ç¤ºå½“å‰å¼•ç”¨å¯ç”¨<span class="token class-name">Dubbo</span>åŠŸèƒ½ã€‚


</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,189);function b(h,q){const a=o("ExternalLinkIcon");return c(),l("div",null,[u,s("p",null,[n("æ¥å£ï¼š APIï¼ˆApplication Programming Interfaceï¼Œåº”ç”¨ç¨‹åºæ¥å£ï¼‰æ˜¯ä¸€äº›é¢„å…ˆå®šä¹‰çš„æ¥å£ï¼ˆå¦‚å‡½æ•°ã€HTTPæ¥å£ï¼‰ï¼Œæˆ–æŒ‡"),s("a",k,[n("è½¯ä»¶ç³»ç»Ÿ"),t(a)]),n("ä¸åŒç»„æˆéƒ¨åˆ†è¡”æ¥çš„çº¦å®šã€‚ ç”¨æ¥æä¾›"),s("a",r,[n("åº”ç”¨ç¨‹åº"),t(a)]),n("ä¸å¼€å‘äººå‘˜åŸºäºæŸ"),s("a",d,[n("è½¯ä»¶"),t(a)]),n("æˆ–ç¡¬ä»¶å¾—ä»¥è®¿é—®çš„ä¸€ç»„"),s("a",v,[n("ä¾‹ç¨‹"),t(a)]),n("ï¼Œè€Œåˆæ— éœ€è®¿é—®æºç ï¼Œæˆ–ç†è§£å†…éƒ¨"),s("a",m,[n("å·¥ä½œæœºåˆ¶"),t(a)]),n("çš„ç»†èŠ‚ã€‚")]),g])}const x=e(i,[["render",b],["__file","MyNote_SpringBoot.html.vue"]]);export{x as default};
