<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="generator" content="VuePress 2.0.0-beta.67">
    <script>
      (function() {
        const userMode = localStorage.getItem('vuepress-reco-color-scheme') || 'auto';
        const systemDarkMode = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;

        if (userMode === 'dark' || (userMode === 'auto' && systemDarkMode)) {
          document.documentElement.classList.toggle('dark', true);
        }
      })();
    </script>
    <title>å°ç«å¨ƒçš„ç¬”è®°ä¸­å¿ƒ</title><meta name="description" content="ä¸ªäººç¬”è®°æ”¶çº³">
    <link rel="modulepreload" href="/note/assets/app-55752f72.js"><link rel="modulepreload" href="/note/assets/MyNote_SpringCloud.html-39460cb3.js"><link rel="modulepreload" href="/note/assets/MyNote_SpringCloud.html-ed19e9da.js"><link rel="prefetch" href="/note/assets/index.html-0a05feab.js" as="script"><link rel="prefetch" href="/note/assets/index.html-8c2edf06.js" as="script"><link rel="prefetch" href="/note/assets/index.html-4b3ba946.js" as="script"><link rel="prefetch" href="/note/assets/index.html-142a6c11.js" as="script"><link rel="prefetch" href="/note/assets/index.html-271cd466.js" as="script"><link rel="prefetch" href="/note/assets/index.html-e1595639.js" as="script"><link rel="prefetch" href="/note/assets/index.html-1cb0f698.js" as="script"><link rel="prefetch" href="/note/assets/index.html-0a09ecb8.js" as="script"><link rel="prefetch" href="/note/assets/index.html-38413d9c.js" as="script"><link rel="prefetch" href="/note/assets/index.html-4c6d4b74.js" as="script"><link rel="prefetch" href="/note/assets/index.html-b4bef90e.js" as="script"><link rel="prefetch" href="/note/assets/index.html-45d1e97e.js" as="script"><link rel="prefetch" href="/note/assets/index.html-72f2d894.js" as="script"><link rel="prefetch" href="/note/assets/index.html-6cf06f14.js" as="script"><link rel="prefetch" href="/note/assets/index.html-1a88d37b.js" as="script"><link rel="prefetch" href="/note/assets/index.html-c8e98ed0.js" as="script"><link rel="prefetch" href="/note/assets/index.html-8fceac67.js" as="script"><link rel="prefetch" href="/note/assets/Java.html-2bc64efc.js" as="script"><link rel="prefetch" href="/note/assets/Javajichu.html-da20dcf2.js" as="script"><link rel="prefetch" href="/note/assets/Javaweb.html-dd366bc6.js" as="script"><link rel="prefetch" href="/note/assets/Javaweb2.html-6d9cb558.js" as="script"><link rel="prefetch" href="/note/assets/MySQL.html-93e0a06e.js" as="script"><link rel="prefetch" href="/note/assets/my_python.html-125f6c64.js" as="script"><link rel="prefetch" href="/note/assets/MyNote_RabbitMQ.html-4753aae3.js" as="script"><link rel="prefetch" href="/note/assets/myNote_Redis.html-c1d3463b.js" as="script"><link rel="prefetch" href="/note/assets/Maven.html-5b77d72d.js" as="script"><link rel="prefetch" href="/note/assets/MyNote_MVC.html-ae0bd83b.js" as="script"><link rel="prefetch" href="/note/assets/MyNote_MyBatisPlus.html-b493c3e8.js" as="script"><link rel="prefetch" href="/note/assets/MyNote_Mybatis.html-f7f381af.js" as="script"><link rel="prefetch" href="/note/assets/MyNote_Spring.html-77f78939.js" as="script"><link rel="prefetch" href="/note/assets/MyNote_dongtaidaili.html-41d49ab6.js" as="script"><link rel="prefetch" href="/note/assets/Spring.html-933b20eb.js" as="script"><link rel="prefetch" href="/note/assets/MyNote_SpringBoot.html-097baff8.js" as="script"><link rel="prefetch" href="/note/assets/SpringCloudxuexizongjie.html-4d2e65c7.js" as="script"><link rel="prefetch" href="/note/assets/SpringSecurity-congrumendaojingtong-sangengcaotang.html-3a935824.js" as="script"><link rel="prefetch" href="/note/assets/docker.html-da2118bb.js" as="script"><link rel="prefetch" href="/note/assets/Shiro.html-b2a97c2a.js" as="script"><link rel="prefetch" href="/note/assets/LeetCode.html-1b6a7f6c.js" as="script"><link rel="prefetch" href="/note/assets/MyNote_DataStructure.html-a1d4d555.js" as="script"><link rel="prefetch" href="/note/assets/MyNote_scrapy.html-bdf3399a.js" as="script"><link rel="prefetch" href="/note/assets/api.html-2e727ba9.js" as="script"><link rel="prefetch" href="/note/assets/home.html-7d0bb687.js" as="script"><link rel="prefetch" href="/note/assets/plugin.html-051446c1.js" as="script"><link rel="prefetch" href="/note/assets/theme.html-3e47df0a.js" as="script"><link rel="prefetch" href="/note/assets/diyibufen.html-8c1c08c6.js" as="script"><link rel="prefetch" href="/note/assets/dierbufen.html-8c35ae4e.js" as="script"><link rel="prefetch" href="/note/assets/MyNote_Ajax.html-612a52a9.js" as="script"><link rel="prefetch" href="/note/assets/MyNote_Vue.html-909e2b1e.js" as="script"><link rel="prefetch" href="/note/assets/vue3kuaisushangshou.html-bcc860c8.js" as="script"><link rel="prefetch" href="/note/assets/css-HTML5_CSS3tigao.html-ed17f7bd.js" as="script"><link rel="prefetch" href="/note/assets/css-pink.html-6c8c26a1.js" as="script"><link rel="prefetch" href="/note/assets/css-texingï¼Œhezimoxing.html-5a7d83d4.js" as="script"><link rel="prefetch" href="/note/assets/css03-qitayangshi.html-13b71626.js" as="script"><link rel="prefetch" href="/note/assets/css04-qiepianã€shuxieshunxu.html-9588d012.js" as="script"><link rel="prefetch" href="/note/assets/css05-dingwei.html-d7d5bc44.js" as="script"><link rel="prefetch" href="/note/assets/css06-jinglingtuã€zititubiaoã€sanjiao.html-0638af49.js" as="script"><link rel="prefetch" href="/note/assets/cssdonghua.html-e282d2d1.js" as="script"><link rel="prefetch" href="/note/assets/h5-pink.html-19ffa11e.js" as="script"><link rel="prefetch" href="/note/assets/h5c3bijimulu.html-6ff56af3.js" as="script"><link rel="prefetch" href="/note/assets/yidongduan.html-0199452c.js" as="script"><link rel="prefetch" href="/note/assets/404.html-60b35caa.js" as="script"><link rel="prefetch" href="/note/assets/index.html-c7e6c638.js" as="script"><link rel="prefetch" href="/note/assets/index.html-9fbbcbb6.js" as="script"><link rel="prefetch" href="/note/assets/index.html-4886281a.js" as="script"><link rel="prefetch" href="/note/assets/index.html-7e063193.js" as="script"><link rel="prefetch" href="/note/assets/index.html-02c8b461.js" as="script"><link rel="prefetch" href="/note/assets/index.html-8d73f8b3.js" as="script"><link rel="prefetch" href="/note/assets/index.html-b9aae1ef.js" as="script"><link rel="prefetch" href="/note/assets/index.html-9dcded30.js" as="script"><link rel="prefetch" href="/note/assets/index.html-f5f856c6.js" as="script"><link rel="prefetch" href="/note/assets/index.html-6d9582b3.js" as="script"><link rel="prefetch" href="/note/assets/index.html-26a53130.js" as="script"><link rel="prefetch" href="/note/assets/index.html-bfa695d3.js" as="script"><link rel="prefetch" href="/note/assets/index.html-502e371f.js" as="script"><link rel="prefetch" href="/note/assets/index.html-bc5265d7.js" as="script"><link rel="prefetch" href="/note/assets/index.html-68539c35.js" as="script"><link rel="prefetch" href="/note/assets/index.html-9b249731.js" as="script"><link rel="prefetch" href="/note/assets/index.html-7e7b637f.js" as="script"><link rel="prefetch" href="/note/assets/Java.html-616c2ab0.js" as="script"><link rel="prefetch" href="/note/assets/Javajichu.html-d8d6ffa0.js" as="script"><link rel="prefetch" href="/note/assets/Javaweb.html-6d9e61e2.js" as="script"><link rel="prefetch" href="/note/assets/Javaweb2.html-82141ef9.js" as="script"><link rel="prefetch" href="/note/assets/MySQL.html-ea753871.js" as="script"><link rel="prefetch" href="/note/assets/my_python.html-487865d1.js" as="script"><link rel="prefetch" href="/note/assets/MyNote_RabbitMQ.html-da23017e.js" as="script"><link rel="prefetch" href="/note/assets/myNote_Redis.html-ca665390.js" as="script"><link rel="prefetch" href="/note/assets/Maven.html-60c46893.js" as="script"><link rel="prefetch" href="/note/assets/MyNote_MVC.html-4e08b122.js" as="script"><link rel="prefetch" href="/note/assets/MyNote_MyBatisPlus.html-52f4f30e.js" as="script"><link rel="prefetch" href="/note/assets/MyNote_Mybatis.html-c60bf1da.js" as="script"><link rel="prefetch" href="/note/assets/MyNote_Spring.html-037018a0.js" as="script"><link rel="prefetch" href="/note/assets/MyNote_dongtaidaili.html-771c7c5b.js" as="script"><link rel="prefetch" href="/note/assets/Spring.html-ab5bddf0.js" as="script"><link rel="prefetch" href="/note/assets/MyNote_SpringBoot.html-f76c82b8.js" as="script"><link rel="prefetch" href="/note/assets/SpringCloudxuexizongjie.html-d4a993a2.js" as="script"><link rel="prefetch" href="/note/assets/SpringSecurity-congrumendaojingtong-sangengcaotang.html-5aab70b0.js" as="script"><link rel="prefetch" href="/note/assets/docker.html-a876f4d8.js" as="script"><link rel="prefetch" href="/note/assets/Shiro.html-70cf0e53.js" as="script"><link rel="prefetch" href="/note/assets/LeetCode.html-54e74fa8.js" as="script"><link rel="prefetch" href="/note/assets/MyNote_DataStructure.html-e35f46e7.js" as="script"><link rel="prefetch" href="/note/assets/MyNote_scrapy.html-b8a7f9fc.js" as="script"><link rel="prefetch" href="/note/assets/api.html-1577cdda.js" as="script"><link rel="prefetch" href="/note/assets/home.html-c56faedb.js" as="script"><link rel="prefetch" href="/note/assets/plugin.html-a7053ea4.js" as="script"><link rel="prefetch" href="/note/assets/theme.html-7cb1dd47.js" as="script"><link rel="prefetch" href="/note/assets/diyibufen.html-36064a47.js" as="script"><link rel="prefetch" href="/note/assets/dierbufen.html-099e423e.js" as="script"><link rel="prefetch" href="/note/assets/MyNote_Ajax.html-db17be72.js" as="script"><link rel="prefetch" href="/note/assets/MyNote_Vue.html-f399b502.js" as="script"><link rel="prefetch" href="/note/assets/vue3kuaisushangshou.html-6e3ead4b.js" as="script"><link rel="prefetch" href="/note/assets/css-HTML5_CSS3tigao.html-5dd29956.js" as="script"><link rel="prefetch" href="/note/assets/css-pink.html-f52dbeeb.js" as="script"><link rel="prefetch" href="/note/assets/css-texingï¼Œhezimoxing.html-a7088dd1.js" as="script"><link rel="prefetch" href="/note/assets/css03-qitayangshi.html-9f111ed1.js" as="script"><link rel="prefetch" href="/note/assets/css04-qiepianã€shuxieshunxu.html-a770ab52.js" as="script"><link rel="prefetch" href="/note/assets/css05-dingwei.html-20bf4d13.js" as="script"><link rel="prefetch" href="/note/assets/css06-jinglingtuã€zititubiaoã€sanjiao.html-abf38e61.js" as="script"><link rel="prefetch" href="/note/assets/cssdonghua.html-bb486f97.js" as="script"><link rel="prefetch" href="/note/assets/h5-pink.html-ef0cbeea.js" as="script"><link rel="prefetch" href="/note/assets/h5c3bijimulu.html-85188b97.js" as="script"><link rel="prefetch" href="/note/assets/yidongduan.html-338a725f.js" as="script"><link rel="prefetch" href="/note/assets/404.html-8d3a4bcd.js" as="script"><link rel="prefetch" href="/note/assets/reco-valine-a195b6e9.js" as="script"><link rel="prefetch" href="/note/assets/giscus-2a044aea-497f0bd4.js" as="script">
    <link rel="preload" href="/note/assets/style-09177ac9.css" as="style"><link rel="stylesheet" href="/note/assets/style-09177ac9.css">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme-container"><div class="common-wrapper series--no show-catalog"><header class="navbar-container" style="top:0;"><div class="site-brand nav-item"><img class="logo" src="/note/logo.png" alt="å°ç«å¨ƒçš„ç¬”è®°ä¸­å¿ƒ"><a href="/note/" class="site-name can-hide">å°ç«å¨ƒçš„ç¬”è®°ä¸­å¿ƒ</a></div><div class="nav-item navbar-links-wrapper" style=""><div><form class="search-box" role="search"><input type="search" autocomplete="off" spellcheck="false" value><!----></form></div><nav class="navbar-links"><!--[--><div class="navbar-links__item"><a href="/note/" class="link router-link-active" aria-label="é¦–é¡µ"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->é¦–é¡µ<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="åˆ†ç±»"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->åˆ†ç±»<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="åˆ†ç±»"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->åˆ†ç±»<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/note/categories/Java/1/" class="link" aria-label="Java"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Java<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/note/categories/Javaweb/1/" class="link" aria-label="Javaweb"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Javaweb<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/note/categories/MySQL/1/" class="link" aria-label="MySQL"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->MySQL<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/note/categories/SSM/1/" class="link" aria-label="SSM"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->SSM<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/note/categories/SpringBoot/1/" class="link" aria-label="SpringBoot"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->SpringBoot<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/note/categories/SpringSecurity/1/" class="link" aria-label="SpringSecurity"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->SpringSecurity<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/note/categories/shiro/1/" class="link" aria-label="shiro"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->shiro<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/note/categories/qianduan/Ajax/1/" class="link" aria-label="å‰ç«¯/Ajax"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->å‰ç«¯/Ajax<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/note/categories/qianduan/Vue/1/" class="link" aria-label="å‰ç«¯/Vue"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->å‰ç«¯/Vue<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/note/categories/qianduan/H5C3/h5c3-wodebiji/1/" class="link" aria-label="å‰ç«¯/H5C3/h5c3-æˆ‘çš„ç¬”è®°"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->å‰ç«¯/H5C3/h5c3-æˆ‘çš„ç¬”è®°<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="æ ‡ç­¾"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->æ ‡ç­¾<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="æ ‡ç­¾"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->æ ‡ç­¾<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><!--]--></ul></div></div><div class="navbar-links__item"><a href="/note/pre-reading.html" class="link" aria-label="å…ˆçœ‹"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->å…ˆçœ‹<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/note/computer/" class="link" aria-label="è®¡ç®—æœº"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->è®¡ç®—æœº<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="åŸºçŸ³"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->åŸºçŸ³<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="åŸºçŸ³"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->åŸºçŸ³<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/note/cornerstone/math/" class="link" aria-label="æ•°å­¦"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->æ•°å­¦<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="ç³»ç»Ÿ"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->ç³»ç»Ÿ<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="ç³»ç»Ÿ"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->ç³»ç»Ÿ<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/note/os/linux/" class="link" aria-label="Linux"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Linux<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/note/os/arch/" class="link" aria-label="Arch"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Arch<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/note/os/manjaro/" class="link" aria-label="Manjaro"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Manjaro<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/note/os/ubuntu/" class="link" aria-label="Ubuntu"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Ubuntu<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/note/os/centos/" class="link" aria-label="CentOS"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->CentOS<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/note/os/kubernetes/" class="link" aria-label="Kubernetes"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Kubernetes<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="å‰ç«¯"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->å‰ç«¯<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="å‰ç«¯"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->å‰ç«¯<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/note/blogs/å‰ç«¯/Ajax/MyNote_Ajax.md" class="link" aria-label="Ajax"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Ajax<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/note/blogs/å‰ç«¯/H5C3/h5c3-æˆ‘çš„ç¬”è®°/css-pink.md" class="link" aria-label="CSS"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->CSS<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/note/blogs/å‰ç«¯/Vue/MyNote_Vue.md" class="link" aria-label="Vue"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Vue<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="åç«¯"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->åç«¯<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="åç«¯"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->åç«¯<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/note/blogs/Javaweb/Javaweb.md" class="link" aria-label="Javaweb"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Javaweb<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links__item"><a href="/note/algorithms/" class="link" aria-label="ç®—æ³•"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->ç®—æ³•<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="è®¾è®¡"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->è®¾è®¡<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="è®¾è®¡"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->è®¾è®¡<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/note/design/pixel/" class="link" aria-label="åƒç´ é£"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->åƒç´ é£<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="å¼€å‘å·¥å…·"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->å¼€å‘å·¥å…·<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="å¼€å‘å·¥å…·"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->å¼€å‘å·¥å…·<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/note/tools/git/" class="link" aria-label="Git"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Git<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/note/tools/github/" class="link" aria-label="Github"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Github<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/note/tools/vscode/" class="link" aria-label="VSCode"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->VSCode<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/note/tools/chrome/" class="link" aria-label="Chrome"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Chrome<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/note/tools/google/" class="link" aria-label="Google"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Google<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/note/tools/bookmark-scripts/" class="link" aria-label="Bookmark scripts"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Bookmark scripts<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="æ›´å¤š"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->æ›´å¤š<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="æ›´å¤š"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->æ›´å¤š<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/note/more/navigation.html" class="link" aria-label="å¯¼èˆª ğŸ‰"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->å¯¼èˆª ğŸ‰<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a class="link" href="https://shanyuhai123.github.io/vuepress-plugin-auto-sidebar/zh/" target="_blank" rel="noopener noreferrer" aria-label="VuePress ä¾§è¾¹æ æ’ä»¶"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->VuePress ä¾§è¾¹æ æ’ä»¶<!--]--></span></span><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a class="link" href="https://vuepress.vuejs.org/zh/" target="_blank" rel="noopener noreferrer" aria-label="VuePress å®˜ç½‘"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->VuePress å®˜ç½‘<!--]--></span></span><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links__item"><a class="link" href="https://www.travellings.cn/go.html" target="_blank" rel="noopener noreferrer" aria-label="ğŸš‡ å¼€å¾€"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->ğŸš‡ å¼€å¾€<!--]--></span></span><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><span class="xicon-container btn-toggle-dark-mode btn--dark-mode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M15 2h2v3h-2z" fill="currentColor"></path><path d="M27 15h3v2h-3z" fill="currentColor"></path><path d="M15 27h2v3h-2z" fill="currentColor"></path><path d="M2 15h3v2H2z" fill="currentColor"></path><path d="M5.45 6.884l1.414-1.415l2.121 2.122l-1.414 1.414z" fill="currentColor"></path><path d="M23 7.58l2.121-2.12l1.414 1.414l-2.121 2.121z" fill="currentColor"></path><path d="M23.002 24.416l1.415-1.414l2.12 2.122l-1.413 1.414z" fill="currentColor"></path><path d="M5.47 25.13L7.59 23L9 24.42l-2.12 2.12l-1.41-1.41z" fill="currentColor"></path><path d="M16 8a8 8 0 1 0 8 8a8 8 0 0 0-8-8zm0 14a6 6 0 0 1 0-12z" fill="currentColor"></path></svg></span><span class="xicon-container btn-toggle-menus"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:inherit;"><circle cx="16" cy="8" r="2" fill="currentColor"></circle><circle cx="16" cy="16" r="2" fill="currentColor"></circle><circle cx="16" cy="24" r="2" fill="currentColor"></circle></svg></span></div></header><!----><div class="mobile-menus-container"><nav class="navbar-links mobile"><!--[--><div class="navbar-links__item"><a href="/note/" class="link router-link-active" aria-label="é¦–é¡µ"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->é¦–é¡µ<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="åˆ†ç±»"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->åˆ†ç±»<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="åˆ†ç±»"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->åˆ†ç±»<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/note/categories/Java/1/" class="link" aria-label="Java"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Java<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/note/categories/Javaweb/1/" class="link" aria-label="Javaweb"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Javaweb<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/note/categories/MySQL/1/" class="link" aria-label="MySQL"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->MySQL<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/note/categories/SSM/1/" class="link" aria-label="SSM"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->SSM<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/note/categories/SpringBoot/1/" class="link" aria-label="SpringBoot"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->SpringBoot<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/note/categories/SpringSecurity/1/" class="link" aria-label="SpringSecurity"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->SpringSecurity<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/note/categories/shiro/1/" class="link" aria-label="shiro"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->shiro<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/note/categories/qianduan/Ajax/1/" class="link" aria-label="å‰ç«¯/Ajax"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->å‰ç«¯/Ajax<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/note/categories/qianduan/Vue/1/" class="link" aria-label="å‰ç«¯/Vue"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->å‰ç«¯/Vue<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/note/categories/qianduan/H5C3/h5c3-wodebiji/1/" class="link" aria-label="å‰ç«¯/H5C3/h5c3-æˆ‘çš„ç¬”è®°"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->å‰ç«¯/H5C3/h5c3-æˆ‘çš„ç¬”è®°<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="æ ‡ç­¾"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->æ ‡ç­¾<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="æ ‡ç­¾"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->æ ‡ç­¾<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><!--]--></ul></div></div><div class="navbar-links__item"><a href="/note/pre-reading.html" class="link" aria-label="å…ˆçœ‹"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->å…ˆçœ‹<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><a href="/note/computer/" class="link" aria-label="è®¡ç®—æœº"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->è®¡ç®—æœº<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="åŸºçŸ³"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->åŸºçŸ³<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="åŸºçŸ³"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->åŸºçŸ³<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/note/cornerstone/math/" class="link" aria-label="æ•°å­¦"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->æ•°å­¦<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="ç³»ç»Ÿ"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->ç³»ç»Ÿ<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="ç³»ç»Ÿ"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->ç³»ç»Ÿ<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/note/os/linux/" class="link" aria-label="Linux"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Linux<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/note/os/arch/" class="link" aria-label="Arch"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Arch<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/note/os/manjaro/" class="link" aria-label="Manjaro"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Manjaro<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/note/os/ubuntu/" class="link" aria-label="Ubuntu"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Ubuntu<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/note/os/centos/" class="link" aria-label="CentOS"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->CentOS<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/note/os/kubernetes/" class="link" aria-label="Kubernetes"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Kubernetes<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="å‰ç«¯"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->å‰ç«¯<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="å‰ç«¯"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->å‰ç«¯<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/note/blogs/å‰ç«¯/Ajax/MyNote_Ajax.md" class="link" aria-label="Ajax"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Ajax<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/note/blogs/å‰ç«¯/H5C3/h5c3-æˆ‘çš„ç¬”è®°/css-pink.md" class="link" aria-label="CSS"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->CSS<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/note/blogs/å‰ç«¯/Vue/MyNote_Vue.md" class="link" aria-label="Vue"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Vue<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="åç«¯"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->åç«¯<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="åç«¯"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->åç«¯<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/note/blogs/Javaweb/Javaweb.md" class="link" aria-label="Javaweb"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Javaweb<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links__item"><a href="/note/algorithms/" class="link" aria-label="ç®—æ³•"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->ç®—æ³•<!--]--></span></span><!--[--><!--]--></a></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="è®¾è®¡"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->è®¾è®¡<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="è®¾è®¡"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->è®¾è®¡<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/note/design/pixel/" class="link" aria-label="åƒç´ é£"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->åƒç´ é£<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="å¼€å‘å·¥å…·"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->å¼€å‘å·¥å…·<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="å¼€å‘å·¥å…·"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->å¼€å‘å·¥å…·<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/note/tools/git/" class="link" aria-label="Git"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Git<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/note/tools/github/" class="link" aria-label="Github"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Github<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/note/tools/vscode/" class="link" aria-label="VSCode"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->VSCode<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/note/tools/chrome/" class="link" aria-label="Chrome"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Chrome<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/note/tools/google/" class="link" aria-label="Google"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Google<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a href="/note/tools/bookmark-scripts/" class="link" aria-label="Bookmark scripts"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Bookmark scripts<!--]--></span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links__item"><div class="dropdown-link"><button class="dropdown-link__title" type="button" aria-label="æ›´å¤š"><span class="xicon-container left title"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->æ›´å¤š<!--]--></span></span><span class="arrow down"></span></button><button class="dropdown-link--mobile__title" type="button" aria-label="æ›´å¤š"><span class="title"><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->æ›´å¤š<!--]--></span></span></span><span class="right arrow"></span></button><ul style="display:none;" class="dropdown-link__container"><!--[--><li class="dropdown-link__item"><a href="/note/more/navigation.html" class="link" aria-label="å¯¼èˆª ğŸ‰"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->å¯¼èˆª ğŸ‰<!--]--></span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a class="link" href="https://shanyuhai123.github.io/vuepress-plugin-auto-sidebar/zh/" target="_blank" rel="noopener noreferrer" aria-label="VuePress ä¾§è¾¹æ æ’ä»¶"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->VuePress ä¾§è¾¹æ æ’ä»¶<!--]--></span></span><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><li class="dropdown-link__item"><a class="link" href="https://vuepress.vuejs.org/zh/" target="_blank" rel="noopener noreferrer" aria-label="VuePress å®˜ç½‘"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->VuePress å®˜ç½‘<!--]--></span></span><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></li><!--]--></ul></div></div><div class="navbar-links__item"><a class="link" href="https://www.travellings.cn/go.html" target="_blank" rel="noopener noreferrer" aria-label="ğŸš‡ å¼€å¾€"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->ğŸš‡ å¼€å¾€<!--]--></span></span><span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span><!--[--><!--]--></a></div><!--]--></nav><div class="appearance"><span>Appearance</span><span class="xicon-container btn-toggle-dark-mode"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M15 2h2v3h-2z" fill="currentColor"></path><path d="M27 15h3v2h-3z" fill="currentColor"></path><path d="M15 27h2v3h-2z" fill="currentColor"></path><path d="M2 15h3v2H2z" fill="currentColor"></path><path d="M5.45 6.884l1.414-1.415l2.121 2.122l-1.414 1.414z" fill="currentColor"></path><path d="M23 7.58l2.121-2.12l1.414 1.414l-2.121 2.121z" fill="currentColor"></path><path d="M23.002 24.416l1.415-1.414l2.12 2.122l-1.413 1.414z" fill="currentColor"></path><path d="M5.47 25.13L7.59 23L9 24.42l-2.12 2.12l-1.41-1.41z" fill="currentColor"></path><path d="M16 8a8 8 0 1 0 8 8a8 8 0 0 0-8-8zm0 14a6 6 0 0 1 0-12z" fill="currentColor"></path></svg></span></div></div><div class="series-mask"></div><aside class="series-container"><div class="site-brand"><img class="logo" src="/note/logo.png" alt="å°ç«å¨ƒçš„ç¬”è®°ä¸­å¿ƒ"><a href="/note/" class="site-name can-hide">å°ç«å¨ƒçš„ç¬”è®°ä¸­å¿ƒ</a></div><!--[--><!--]--></aside><!--[--><main class="page-container"><!----><div class="page-info"><span class="xicon-container left"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:18px;height:18px;font-size:18px;color:inherit;"><path d="M16 4a5 5 0 1 1-5 5a5 5 0 0 1 5-5m0-2a7 7 0 1 0 7 7a7 7 0 0 0-7-7z" fill="currentColor"></path><path d="M26 30h-2v-5a5 5 0 0 0-5-5h-6a5 5 0 0 0-5 5v5H6v-5a7 7 0 0 1 7-7h6a7 7 0 0 1 7 7z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->xiaohuowa<!--]--></span></span><!----><!----><!----><!----></div><div class="theme-reco-default-content"><div><h2 id="å¾®æœåŠ¡æ¶æ„æ¼”åŒ–" tabindex="-1"><a class="header-anchor" href="#å¾®æœåŠ¡æ¶æ„æ¼”åŒ–" aria-hidden="true">#</a> å¾®æœåŠ¡æ¶æ„æ¼”åŒ–</h2><h3 id="ä»å•ä½“åˆ°å¾®æœåŠ¡" tabindex="-1"><a class="header-anchor" href="#ä»å•ä½“åˆ°å¾®æœåŠ¡" aria-hidden="true">#</a> ä»å•ä½“åˆ°å¾®æœåŠ¡</h3><p>è½¯ä»¶ç³»ç»Ÿæ¶æ„å¤§è‡´ç»å†äº†ï¼š<code>å•ä½“åº”ç”¨æ¶æ„â€”&gt;å‚ç›´åº”ç”¨æ¶æ„â€”&gt;åˆ†å¸ƒå¼æ¶æ„â€”&gt;SOAæ¶æ„â€”&gt;å¾®æœåŠ¡æ¶æ„çš„æ¼”å˜</code></p><ol><li>å•ä½“åº”ç”¨æ¶æ„ï¼š <ul><li>ä¸€ä¸ªé¡¹ç›®ä¸€ä¸ªtomcatã€‚</li><li>ä¼˜ç‚¹ï¼šç®€å•ç»´æŠ¤ç®€å•ã€‚</li><li>ç¼ºç‚¹ï¼šç´§å¯†è€¦åˆå®¹é”™ä½ï¼Œæ‰©å±•æ€§å·®ï¼Œ<strong>ä¸é€‚åˆå¤§é¡¹ç›®</strong>ã€‚</li></ul></li><li>å‚ç›´åº”ç”¨æ¶æ„ï¼š <ul><li>å¯¹å•ä½“åº”ç”¨æ¶æ„æ‹†åˆ†ï¼Œå¤šä¸ªé¡¹ç›®å¤šä¸ªtomcatã€‚</li><li>ä¼˜ç‚¹ï¼šå¯ä»¥é’ˆå¯¹æ¨¡å—è¿›è¡Œé›†ç¾¤æ‰©å±•ï¼Œä¸€ä¸ªæ¨¡å—çš„é—®é¢˜ä¸ä¼šå½±å“å¦ä¸€ä¸ªæ¨¡å—</li><li>ç¼ºç‚¹ï¼šå„ç³»ç»Ÿç›¸äº’ç‹¬ç«‹ï¼Œä¼šæœ‰é‡å¤å†—ä½™çš„ä»£ç ä¸”ç³»ç»Ÿé—´æ— æ³•äº’ç›¸è°ƒç”¨</li></ul></li><li>åˆ†å¸ƒå¼æ¶æ„ï¼š <ul><li>å¯¹å‚ç›´åº”ç”¨æ¶æ„æ‹†åˆ†ï¼ŒæŠŠæ•´ä¸ªç³»ç»Ÿåˆ†ä¸ºå±•ç°å±‚å’ŒæœåŠ¡å±‚</li><li>ä¼˜ç‚¹ï¼š<strong>æé«˜ä»£ç å¤ç”¨æ€§</strong></li><li>ç¼ºç‚¹ï¼šç³»ç»Ÿé—´è€¦åˆåº¦å˜é«˜ï¼Œè°ƒç”¨å…³ç³»é”™ç»¼å¤æ‚ï¼Œéš¾ä»¥ç»´æŠ¤</li></ul></li><li>SOAæ¶æ„ï¼ˆé¢å‘æœåŠ¡ï¼‰ï¼š <ul><li>å¯¹åˆ†å¸ƒå¼æ¶æ„ä¼˜åŒ–ï¼Œå±•ç°å±‚å’ŒæœåŠ¡å±‚ä¸­é—´å¤šäº†ä¸ªæœåŠ¡æ²»ç†ä¸­å¿ƒã€‚</li><li>ä¼˜ç‚¹ï¼šä½¿ç”¨æ³¨å†Œä¸­å¿ƒè§£å†³äº†æœåŠ¡é—´è°ƒç”¨å…³ç³»çš„è‡ªåŠ¨è°ƒèŠ‚</li><li>ç¼ºç‚¹ï¼šæœåŠ¡é—´æœ‰ä¾èµ–å…³ç³»ï¼Œä¸€ä½†å‡ºç°é—®é¢˜ä¼šå¼•èµ·æœåŠ¡é›ªå´©ï¼›æœåŠ¡é—´è°ƒç”¨å…³ç³»å¤æ‚</li></ul></li><li>å¾®æœåŠ¡æ¶æ„ï¼š <ul><li>æŠŠSOAæ¶æ„ä¸­çš„æœåŠ¡å±‚æ‹†åˆ†æˆåŸå­çŠ¶æ€ã€‚</li><li>ä¼˜ç‚¹ï¼šæœåŠ¡åŸå­åŒ–æ‹†åˆ†ï¼Œç‹¬ç«‹æ‰“åŒ…ã€éƒ¨ç½²å’Œå‡çº§ï¼Œä¿è¯æ¯ä¸ªå¾®æœåŠ¡æ¸…æ™°çš„ä»»åŠ¡åˆ’åˆ†ï¼Œ<strong>åˆ©äºæ‰©å±•</strong></li></ul></li></ol><h3 id="å¾®æœåŠ¡æ¶æ„çš„é—®é¢˜ä»¥åŠè§£å†³æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#å¾®æœåŠ¡æ¶æ„çš„é—®é¢˜ä»¥åŠè§£å†³æ–¹å¼" aria-hidden="true">#</a> å¾®æœåŠ¡æ¶æ„çš„é—®é¢˜ä»¥åŠè§£å†³æ–¹å¼</h3><p>ä¸€æ—¦é‡‡ç”¨å¾®æœåŠ¡ç³»ç»Ÿæ¶æ„ï¼Œå°±åŠ¿å¿…ä¼šé‡åˆ°è¿™æ ·å‡ ä¸ªé—®é¢˜ï¼š</p><ul><li>è¿™ä¹ˆå¤šå°æœåŠ¡ï¼Œå¦‚ä½•ç®¡ç†ä»–ä»¬ï¼Ÿ(æœåŠ¡æ²»ç† æ³¨å†Œä¸­å¿ƒ[æœåŠ¡æ³¨å†Œ å‘ç° å‰”é™¤])</li><li>è¿™ä¹ˆå¤šå°æœåŠ¡ï¼Œä»–ä»¬ä¹‹é—´å¦‚ä½•é€šè®¯ï¼Ÿ(<strong>restful</strong>)</li><li>è¿™ä¹ˆå¤šå°æœåŠ¡ï¼Œå®¢æˆ·ç«¯æ€ä¹ˆè®¿é—®ä»–ä»¬ï¼Ÿ(ç½‘å…³)</li><li>è¿™ä¹ˆå¤šå°æœåŠ¡ï¼Œä¸€æ—¦å‡ºç°é—®é¢˜äº†ï¼Œåº”è¯¥å¦‚ä½•è‡ªå¤„ç†ï¼Ÿ(å®¹é”™)</li><li>è¿™ä¹ˆå¤šå°æœåŠ¡ï¼Œä¸€æ—¦å‡ºç°é—®é¢˜äº†ï¼Œåº”è¯¥å¦‚ä½•æ’é”™ï¼Ÿ (é“¾è·¯è¿½è¸ª)</li></ul><h2 id="eureka" tabindex="-1"><a class="header-anchor" href="#eureka" aria-hidden="true">#</a> Eureka</h2><h3 id="é›†ç¾¤" tabindex="-1"><a class="header-anchor" href="#é›†ç¾¤" aria-hidden="true">#</a> é›†ç¾¤</h3><h4 id="é›†ç¾¤æ–¹æ¡ˆ" tabindex="-1"><a class="header-anchor" href="#é›†ç¾¤æ–¹æ¡ˆ" aria-hidden="true">#</a> é›†ç¾¤æ–¹æ¡ˆ</h4><ol><li>ä¸­å¿ƒåŒ–é›†ç¾¤</li><li>ä¸»ä»æ¨¡å¼é›†ç¾¤</li><li>å»ä¸­å¿ƒåŒ–æ¨¡å¼ï¼ˆæ²¡æœ‰ä¸»ä»æ¦‚å¿µï¼‰ï¼ˆEurekaé‡‡ç”¨è¿™ä¸ªæ¨¡å¼ï¼‰</li></ol><p><img src="https://s2.loli.net/2023/10/17/KuimTewqZDWSNBJ.png" alt="image-20230217141309353"></p><h4 id="é›†ç¾¤æ³¨å†Œæ–¹æ¡ˆ" tabindex="-1"><a class="header-anchor" href="#é›†ç¾¤æ³¨å†Œæ–¹æ¡ˆ" aria-hidden="true">#</a> é›†ç¾¤æ³¨å†Œæ–¹æ¡ˆ</h4><h5 id="ç¬¬ä¸€ç§" tabindex="-1"><a class="header-anchor" href="#ç¬¬ä¸€ç§" aria-hidden="true">#</a> ç¬¬ä¸€ç§</h5><ol><li>AæœåŠ¡å™¨å‘Bå’ŒCæœåŠ¡å™¨æ³¨å†Œ</li><li>Bå‘Aå’ŒCæ³¨å†Œ</li><li>Cå‘Aå’ŒBæ³¨å†Œ</li></ol><h5 id="ç¬¬äºŒç§" tabindex="-1"><a class="header-anchor" href="#ç¬¬äºŒç§" aria-hidden="true">#</a> ç¬¬äºŒç§</h5><ol><li>Aå‘ABCæ³¨å†Œ</li><li>ä¿®æ”¹[é…ç½®æ–‡ä»¶](# é›†ç¾¤æœåŠ¡å™¨çš„ymlé…ç½®)ï¼Œæ”¹å˜ç«¯å£å³å¯</li></ol><h4 id="å¦‚ä½•åœ¨ä¸€å°ç”µè„‘æ¨¡æ‹Ÿå‡ºé›†ç¾¤æ•ˆæœå‘¢" tabindex="-1"><a class="header-anchor" href="#å¦‚ä½•åœ¨ä¸€å°ç”µè„‘æ¨¡æ‹Ÿå‡ºé›†ç¾¤æ•ˆæœå‘¢" aria-hidden="true">#</a> å¦‚ä½•åœ¨ä¸€å°ç”µè„‘æ¨¡æ‹Ÿå‡ºé›†ç¾¤æ•ˆæœå‘¢</h4><blockquote><p>é€šè¿‡<code>win + r</code>æ‰“å¼€è¿è¡Œï¼Œè¾“å…¥<code>drivers</code>ï¼Œä¿®æ”¹<code>etc/host</code>ï¼ŒåŠ å…¥ä»¥ä¸‹é…ç½®å°±èƒ½éª—è¿‡å»äº†</p></blockquote><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>127.0.0.1 peer1
127.0.0.1 peer2
127.0.0.1 peer3
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="é›†ç¾¤æœåŠ¡å™¨çš„ymlé…ç½®" tabindex="-1"><a class="header-anchor" href="#é›†ç¾¤æœåŠ¡å™¨çš„ymlé…ç½®" aria-hidden="true">#</a> é›†ç¾¤æœåŠ¡å™¨çš„ymlé…ç½®</h4><blockquote><p>å¯ä»¥é€šè¿‡ä¸€æ¬¡æ€§æ³¨å†Œæ‰€æœ‰é›†ç¾¤urlï¼Œç„¶åå¤åˆ¶é…ç½®æ–‡ä»¶å°±èƒ½ç›´æ¥å¯åŠ¨äº†</p></blockquote><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token comment"># å•æœº</span>

<span class="token comment">## åº”ç”¨åç§°</span>
<span class="token comment">#spring:</span>
<span class="token comment">#  application:</span>
<span class="token comment">#    name: euraka-server</span>
<span class="token comment">#server:</span>
<span class="token comment">#  port: 8761 # eurekaé»˜è®¤ç«¯å£</span>
<span class="token comment">#eureka:</span>
<span class="token comment">#  server:</span>
<span class="token comment">#    eviction-interval-timer-in-ms: 10000  # æœåŠ¡å™¨éš”å¤šå°‘æ¯«ç§’æ‰§è¡Œæ¸…é™¤æ“ä½œ</span>
<span class="token comment">#    renewal-percent-threshold: 0.85 # ç»­çº¦ç™¾åˆ†æ¯”ï¼Œè¶…è¿‡85%çš„åº”ç”¨æ²¡å’ŒæœåŠ¡å™¨ç»­çº¦ï¼Œåˆ™ä¸ä¼šåˆ é™¤ä»»ä½•æœåŠ¡ï¼ˆé˜²æ­¢å› ä¸ºæœåŠ¡å™¨è‡ªèº«ç½‘ç»œé—®é¢˜è¯¯åˆ ï¼‰</span>
<span class="token comment">#  instance:</span>
<span class="token comment">#    instance-id: ${eureka.instance.hostname}:${spring.application.name}:${server.port}</span>
<span class="token comment">#    hostname: localhost</span>
<span class="token comment">#    prefer-ip-address: true # ä»¥ipå½¢å¼æ˜¾ç¤ºå…·ä½“æœåŠ¡ä¿¡æ¯</span>
<span class="token comment">#    lease-renewal-interval-in-seconds: 5 # æœåŠ¡ç¤ºä¾‹ç»­çº¦çš„æ—¶é—´é—´éš”</span>

<span class="token comment"># é›†ç¾¤ï¼Œè¿™é‡Œç®€å•é…ç½®ä¸€ä¸‹</span>
<span class="token comment"># åº”ç”¨åç§°</span>
<span class="token comment">#spring:</span>
<span class="token comment">#  application:</span>
<span class="token comment">#    name: euraka-server</span>
<span class="token comment">#server:</span>
<span class="token comment">#  port: 8761 # eurekaé»˜è®¤ç«¯å£</span>
<span class="token comment">#eureka:</span>
<span class="token comment">#  client:</span>
<span class="token comment">#    service-url: # é»˜è®¤æ˜¯ 8761 ï¼Œç°åœ¨è¦æŒ‡å®šå‘å¦å¤–ä¸¤å°æœåŠ¡å™¨æ³¨å†Œ</span>
<span class="token comment">#      defaultZone: http://peer2:8762/eureka,http://peer3:8763/eureka</span>
<span class="token comment">#  instance:</span>
<span class="token comment">#    instance-id: ${eureka.instance.hostname}:${spring.application.name}:${server.port}</span>
<span class="token comment">#    hostname: peer1</span>
<span class="token comment">#    prefer-ip-address: true # ä»¥ipå½¢å¼æ˜¾ç¤ºå…·ä½“æœåŠ¡ä¿¡æ¯</span>
<span class="token comment">#    lease-renewal-interval-in-seconds: 5 # æœåŠ¡ç¤ºä¾‹ç»­çº¦çš„æ—¶é—´é—´éš”</span>


<span class="token comment">#é›†ç¾¤ç»ˆææ–¹æ¡ˆ</span>
<span class="token comment">#é€šè¿‡æ”¹é…ç½®ç«¯å£ï¼Œå¼€å¯å¤šå°æœåŠ¡å™¨ï¼ŒåŒæ—¶æ³¨å†Œçš„æ—¶å€™å…¨å†™å°±è¡Œ</span>
<span class="token comment"># åº”ç”¨åç§°</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> euraka<span class="token punctuation">-</span>server
<span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8761</span> <span class="token comment"># eurekaé»˜è®¤ç«¯å£</span>
<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token key atrule">service-url</span><span class="token punctuation">:</span> <span class="token comment"># é»˜è®¤æ˜¯ 8761 ï¼Œç°åœ¨è¦æŒ‡å®šå‘æ‰€æœ‰æœåŠ¡å™¨æ³¨å†Œï¼ˆåŒ…æ‹¬è‡ªå·±ï¼‰</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//peer1<span class="token punctuation">:</span>8762/eureka<span class="token punctuation">,</span>http<span class="token punctuation">:</span>//peer2<span class="token punctuation">:</span>8762/eureka<span class="token punctuation">,</span>http<span class="token punctuation">:</span>//peer3<span class="token punctuation">:</span>8763/eureka
  <span class="token key atrule">instance</span><span class="token punctuation">:</span>
<span class="token comment">#    instance-id: ${eureka.instance.hostname}:${spring.application.name}:${server.port}</span>
    <span class="token key atrule">instance-id</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>spring.application.name<span class="token punctuation">}</span><span class="token punctuation">:</span>$<span class="token punctuation">{</span>server.port<span class="token punctuation">}</span>
<span class="token comment">#    hostname: peer1</span>
    <span class="token key atrule">prefer-ip-address</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment"># ä»¥ipå½¢å¼æ˜¾ç¤ºå…·ä½“æœåŠ¡ä¿¡æ¯</span>
    <span class="token key atrule">lease-renewal-interval-in-seconds</span><span class="token punctuation">:</span> <span class="token number">5</span> <span class="token comment"># æœåŠ¡ç¤ºä¾‹ç»­çº¦çš„æ—¶é—´é—´éš”</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="é›†ç¾¤å®¢æˆ·ç«¯çš„ymlé…ç½®" tabindex="-1"><a class="header-anchor" href="#é›†ç¾¤å®¢æˆ·ç«¯çš„ymlé…ç½®" aria-hidden="true">#</a> é›†ç¾¤å®¢æˆ·ç«¯çš„ymlé…ç½®</h4><blockquote><p>ç›´æ¥å‘æ‰€æœ‰æœåŠ¡å™¨æ³¨å†Œ</p></blockquote><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token comment">## åº”ç”¨åç§°</span>
<span class="token comment">#spring:</span>
<span class="token comment">#  application:</span>
<span class="token comment">#    name: eureka-client-a</span>
<span class="token comment">#server:</span>
<span class="token comment">#  port: 8080 # å®¢æˆ·ç«¯ç«¯å£æ— è¦æ±‚</span>
<span class="token comment">#eureka:</span>
<span class="token comment">#  client:</span>
<span class="token comment">#    service-url: # æŒ‡å®šæ³¨å†Œçš„åœ°å€</span>
<span class="token comment">#      defaultZone: http://localhost:8761/eureka</span>
<span class="token comment">#    register-with-eureka: true</span>
<span class="token comment">#    fetch-registry: true</span>
<span class="token comment">#    registry-fetch-interval-seconds: 10</span>
<span class="token comment">#  instance:</span>
<span class="token comment">#    instance-id: ${eureka.instance.hostname}:${spring.application.name}:${server.port}</span>
<span class="token comment">#    hostname: localhost</span>
<span class="token comment">#    prefer-ip-address: true # ä»¥ipå½¢å¼æ˜¾ç¤ºå…·ä½“æœåŠ¡ä¿¡æ¯</span>
<span class="token comment">#    lease-renewal-interval-in-seconds: 10 # æœåŠ¡ç¤ºä¾‹ç»­çº¦çš„æ—¶é—´é—´éš”</span>


<span class="token comment"># åº”ç”¨åç§°</span>
<span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> eureka<span class="token punctuation">-</span>client<span class="token punctuation">-</span>a
<span class="token key atrule">server</span><span class="token punctuation">:</span>
  <span class="token key atrule">port</span><span class="token punctuation">:</span> <span class="token number">8080</span> <span class="token comment"># å®¢æˆ·ç«¯ç«¯å£æ— è¦æ±‚</span>
<span class="token key atrule">eureka</span><span class="token punctuation">:</span>
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token key atrule">service-url</span><span class="token punctuation">:</span> <span class="token comment"># æŒ‡å®šæ³¨å†Œçš„åœ°å€</span>
      <span class="token key atrule">defaultZone</span><span class="token punctuation">:</span> http<span class="token punctuation">:</span>//peer1<span class="token punctuation">:</span>8761/eureka<span class="token punctuation">,</span>http<span class="token punctuation">:</span>//peer2<span class="token punctuation">:</span>8762/eurekaï¼Œhttp<span class="token punctuation">:</span>//peer3<span class="token punctuation">:</span>8763/eureka
    <span class="token key atrule">register-with-eureka</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>  <span class="token comment">#æ˜¯å¦æ³¨å†Œè‡ªå·±ï¼ˆé›†ç¾¤éœ€è¦æ³¨å†Œè‡ªå·±å’Œæ‹‰å–æœåŠ¡ï¼‰</span>
    <span class="token key atrule">fetch-registry</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">registry-fetch-interval-seconds</span><span class="token punctuation">:</span> <span class="token number">10</span>
  <span class="token key atrule">instance</span><span class="token punctuation">:</span>
    <span class="token key atrule">instance-id</span><span class="token punctuation">:</span> $<span class="token punctuation">{</span>eureka.instance.hostname<span class="token punctuation">}</span><span class="token punctuation">:</span>$<span class="token punctuation">{</span>spring.application.name<span class="token punctuation">}</span><span class="token punctuation">:</span>$<span class="token punctuation">{</span>server.port<span class="token punctuation">}</span>
    <span class="token key atrule">hostname</span><span class="token punctuation">:</span> localhost
    <span class="token key atrule">prefer-ip-address</span><span class="token punctuation">:</span> <span class="token boolean important">true</span> <span class="token comment"># ä»¥ipå½¢å¼æ˜¾ç¤ºå…·ä½“æœåŠ¡ä¿¡æ¯</span>
    <span class="token key atrule">lease-renewal-interval-in-seconds</span><span class="token punctuation">:</span> <span class="token number">10</span> <span class="token comment"># æœåŠ¡ç¤ºä¾‹ç»­çº¦çš„æ—¶é—´é—´éš”</span>
    

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="åˆ†å¸ƒå¼æ•°æ®ä¸€è‡´æ€§åè®®" tabindex="-1"><a class="header-anchor" href="#åˆ†å¸ƒå¼æ•°æ®ä¸€è‡´æ€§åè®®" aria-hidden="true">#</a> <strong>åˆ†å¸ƒå¼æ•°æ®ä¸€è‡´æ€§åè®®</strong></h3><blockquote><p><code>eureka</code> <strong>æ²¡æœ‰åˆ†å¸ƒå¼æ•°æ®ä¸€è‡´æ€§çš„æœºåˆ¶</strong> èŠ‚ç‚¹éƒ½æ˜¯ç›¸åŒçš„</p><p>åœ¨æœ‰ä¸»ä»æ¨¡å¼çš„é›†ç¾¤ä¸­ ä¸€èˆ¬éƒ½è¦éµå¾ª<code>Paxosæˆ–Raft</code>ç­‰çš„åè®® æ‰å¯ä»¥ç¨³å®šå¯¹å¤–æä¾›æœåŠ¡</p></blockquote><h4 id="paxos" tabindex="-1"><a class="header-anchor" href="#paxos" aria-hidden="true">#</a> Paxos</h4><p>zkï¼ˆZookeeperï¼‰ æ˜¯ Paxos</p><h4 id="raft" tabindex="-1"><a class="header-anchor" href="#raft" aria-hidden="true">#</a> Raft</h4><p>Nacos raft</p><p>åŠ¨ç”»å±•ç¤ºï¼šhttp://thesecretlivesofdata.com/raft/</p><h3 id="eureka-æ¦‚å¿µçš„ç†è§£" tabindex="-1"><a class="header-anchor" href="#eureka-æ¦‚å¿µçš„ç†è§£" aria-hidden="true">#</a> <strong>Eureka</strong> <strong>æ¦‚å¿µçš„ç†è§£</strong></h3><p><strong>6.1</strong> <strong>æœåŠ¡çš„æ³¨å†Œ</strong></p><p>å½“é¡¹ç›®å¯åŠ¨æ—¶ï¼ˆeureka çš„å®¢æˆ·ç«¯ï¼‰ï¼Œå°±ä¼šå‘ eureka-server å‘é€è‡ªå·±çš„<strong>å…ƒæ•°æ®ï¼ˆåŸå§‹æ•°æ®ï¼‰</strong>ï¼ˆè¿è¡Œçš„ ipï¼Œç«¯å£ portï¼Œå¥åº·çš„çŠ¶æ€ç›‘æ§ç­‰ï¼Œå› ä¸ºä½¿ç”¨çš„æ˜¯ http/ResuFul è¯·æ±‚é£æ ¼ï¼‰ï¼Œ</p><p>eureka-server ä¼šåœ¨è‡ªå·±å†…éƒ¨ä¿ç•™è¿™äº›å…ƒæ•°æ®(å†…å­˜ä¸­)ã€‚ï¼ˆæœ‰ä¸€ä¸ªæœåŠ¡åˆ—è¡¨ï¼‰ï¼ˆrestful é£æ ¼ï¼Œä»¥ http åŠ¨è¯çš„è¯·æ±‚æ–¹å¼ï¼Œå®Œæˆå¯¹ url èµ„æºçš„æ“ä½œï¼‰</p><p><strong>6.2</strong> <strong>æœåŠ¡çš„ç»­çº¦</strong></p><p>é¡¹ç›®å¯åŠ¨æˆåŠŸäº†ï¼Œé™¤äº†å‘ eureka-server æ³¨å†Œè‡ªå·±æˆåŠŸï¼Œè¿˜ä¼š<strong>å®šæ—¶</strong>çš„å‘ eureka-server æ±‡æŠ¥è‡ªå·±ï¼Œå¿ƒè·³ï¼Œè¡¨ç¤ºè‡ªå·±è¿˜æ´»ç€ã€‚ï¼ˆä¿®æ”¹ä¸€ä¸ªæ—¶é—´ï¼‰</p><p><strong>6.3</strong> <strong>æœåŠ¡çš„ä¸‹çº¿ï¼ˆä¸»åŠ¨ä¸‹çº¿ï¼‰</strong></p><p>å½“é¡¹ç›®å…³é—­æ—¶ï¼Œä¼šç»™ eureka-server æŠ¥å‘Šï¼Œè¯´æ˜è‡ªå·±è¦ä¸‹æœºäº†ã€‚</p><p><strong>6.4</strong> <strong>æœåŠ¡çš„å‰”é™¤ï¼ˆè¢«åŠ¨ä¸‹çº¿ï¼Œä¸»åŠ¨å‰”é™¤ï¼‰</strong></p><p>å½“é¡¹ç›®è¶…è¿‡äº†æŒ‡å®šæ—¶é—´æ²¡æœ‰å‘ eureka-server æ±‡æŠ¥è‡ªå·±ï¼Œé‚£ä¹ˆ eureka-server å°±ä¼šè®¤ä¸ºæ­¤èŠ‚ç‚¹æ­»æ‰äº†ï¼Œä¼šæŠŠå®ƒå‰”é™¤æ‰ï¼Œä¹Ÿä¸ä¼šæ”¾æµé‡å’Œè¯·æ±‚åˆ°æ­¤èŠ‚ç‚¹äº†ã€‚</p><h3 id="æœåŠ¡å‘ç°-æºå¤´" tabindex="-1"><a class="header-anchor" href="#æœåŠ¡å‘ç°-æºå¤´" aria-hidden="true">#</a> <strong>æœåŠ¡å‘ç°ï¼ˆæºå¤´ï¼‰</strong></h3><h4 id="ä»€ä¹ˆæ˜¯æœåŠ¡å‘ç°" tabindex="-1"><a class="header-anchor" href="#ä»€ä¹ˆæ˜¯æœåŠ¡å‘ç°" aria-hidden="true">#</a> <strong>ä»€ä¹ˆæ˜¯æœåŠ¡å‘ç°</strong></h4><p><strong>æ ¹æ®æœåŠ¡åç§°å‘ç°æœåŠ¡çš„å®ä¾‹è¿‡ç¨‹</strong></p><p><strong>å®¢æˆ·ç«¯ä¼šåœ¨æœ¬åœ°ç¼“å­˜æœåŠ¡ç«¯çš„åˆ—è¡¨</strong></p><p><strong>æ‹‰å–åˆ—è¡¨æ˜¯æœ‰é—´éš”å‘¨æœŸçš„ ï¼ˆå¯¼è‡´æœåŠ¡ä¸Šçº¿ å®¢æˆ·ç«¯ä¸èƒ½ç¬¬ä¸€æ—¶é—´æ„ŸçŸ¥åˆ° ï¼ˆå¯ä»¥å®¹å¿ï¼‰ï¼‰</strong></p><p><strong>å…¶å®æ¯æ¬¡åšæœåŠ¡å‘ç° éƒ½æ˜¯ä»æœ¬åœ°çš„åˆ—è¡¨æ¥è¿›è¡Œçš„</strong></p><p><img src="https://s2.loli.net/2023/10/17/kVX7R4taEAKsDd9.png" alt="image-20230217165044369"></p><ol><li>åœ¨aæœåŠ¡é‡ŒåšæœåŠ¡å‘ç°</li><li>è®¿é—®è®¿é—® http://localhost:8001/find?serviceId=eureka-client-b</li></ol><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">package</span> <span class="token namespace">com<span class="token punctuation">.</span>bjpowernode<span class="token punctuation">.</span>controller</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>beans<span class="token punctuation">.</span>factory<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">Autowired</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>client<span class="token punctuation">.</span></span><span class="token class-name">ServiceInstance</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>cloud<span class="token punctuation">.</span>client<span class="token punctuation">.</span>discovery<span class="token punctuation">.</span></span><span class="token class-name">DiscoveryClient</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">GetMapping</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">org<span class="token punctuation">.</span>springframework<span class="token punctuation">.</span>web<span class="token punctuation">.</span>bind<span class="token punctuation">.</span>annotation<span class="token punctuation">.</span></span><span class="token class-name">RestController</span></span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span></span><span class="token class-name">List</span></span><span class="token punctuation">;</span>

<span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TestController</span> <span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
    * æ³¨å…¥æœåŠ¡å‘ç°ç»„ä»¶ï¼Œæˆ‘ä»¬çš„ eureka å·²ç»å®ç°äº†è¿™ä¸ªæ¥å£ï¼Œæ‰€ä»¥ IOC é‡Œé¢æœ‰è¿™ä¸ªå¯¹è±¡
    */</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">DiscoveryClient</span> discoveryClient<span class="token punctuation">;</span>
    <span class="token doc-comment comment">/**
    * æœåŠ¡å‘ç°
    *
    * <span class="token keyword">@param</span> <span class="token parameter">serviceId</span>
    * <span class="token keyword">@return</span>
    */</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;find&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">find</span><span class="token punctuation">(</span><span class="token class-name">String</span> serviceId<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">//è°ƒç”¨æœåŠ¡å‘ç°</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ServiceInstance</span><span class="token punctuation">&gt;</span></span> instances <span class="token operator">=</span> discoveryClient<span class="token punctuation">.</span><span class="token function">getInstances</span><span class="token punctuation">(</span>serviceId<span class="token punctuation">)</span><span class="token punctuation">;</span>
        instances<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token operator">::</span><span class="token function">print</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> instances<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="resttemplateå‘é€åŒæ­¥restè¯·æ±‚" tabindex="-1"><a class="header-anchor" href="#resttemplateå‘é€åŒæ­¥restè¯·æ±‚" aria-hidden="true">#</a> RestTemplateå‘é€åŒæ­¥RESTè¯·æ±‚</h3><h4 id="ä½¿ç”¨æ­¥éª¤" tabindex="-1"><a class="header-anchor" href="#ä½¿ç”¨æ­¥éª¤" aria-hidden="true">#</a> ä½¿ç”¨æ­¥éª¤</h4><ol><li>é€šè¿‡å®ä¾‹åŒ–<code>RestTemplate</code></li><li>é€šè¿‡<code>RestTemplate</code>çš„å¯¹è±¡è°ƒç”¨å¯¹åº”æ–¹æ³•ï¼ˆGETã€POSTç­‰ç­‰ï¼‰ <ul><li><code>getForObject</code>è¿”å›çš„æ˜¯ä¸ªæ³›å‹ï¼Œå¸Œæœ›ä»€ä¹ˆç±»å‹å¯ä»¥æŒ‡å®š</li><li><code>getForEntity</code>è¿”å›å“åº”çš„å®ä½“</li></ul></li></ol><h2 id="ribbon" tabindex="-1"><a class="header-anchor" href="#ribbon" aria-hidden="true">#</a> Ribbon</h2><h3 id="æ¦‚è¿°" tabindex="-1"><a class="header-anchor" href="#æ¦‚è¿°" aria-hidden="true">#</a> æ¦‚è¿°</h3><p>Spring Cloud Ribbon æ˜¯ä¸€ä¸ªåŸºäº HTTP å’Œ TCP çš„<code>å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡å·¥å…·</code>ï¼Œå®ƒåŸºäº <strong>Netflix</strong>Ribbon å®ç°ã€‚é€šè¿‡ Spring Cloud çš„å°è£…ï¼Œå¯ä»¥è®©æˆ‘ä»¬è½»æ¾åœ°å°†é¢å‘æœåŠ¡çš„ <strong>REST æ¨¡ç‰ˆè¯·æ±‚</strong>è‡ªåŠ¨è½¬æ¢æˆå®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡çš„æœåŠ¡è°ƒç”¨ã€‚ <code>è½®è¯¢ hash æƒé‡ ... </code></p><p>ç®€å•çš„è¯´ Ribbon å°±æ˜¯ netfix å…¬å¸çš„ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼Œä¸»è¦åŠŸèƒ½æ˜¯æä¾›<strong>å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡ç®—æ³•å’ŒæœåŠ¡è°ƒç”¨</strong>ã€‚Ribbon å®¢æˆ·ç«¯ç»„ä»¶æä¾›äº†ä¸€å¥—å®Œå–„çš„é…ç½®é¡¹ï¼Œæ¯”å¦‚<strong>è¿æ¥è¶…æ—¶ï¼Œé‡è¯•</strong>ç­‰ã€‚ã€‚é€šè¿‡Load Balancerè·å–åˆ°æœåŠ¡æä¾›çš„æ‰€æœ‰æœºå™¨å®ä¾‹ï¼ŒRibbonä¼šè‡ªåŠ¨åŸºäºæŸç§è§„åˆ™(è½®è¯¢ï¼Œéšæœº)å»è°ƒç”¨è¿™äº›æœåŠ¡ã€‚Ribbonä¹Ÿå¯ä»¥å®ç°æˆ‘ä»¬è‡ªå·±çš„è´Ÿè½½å‡è¡¡ç®—æ³•ã€‚</p><p>åœ¨ Spring Cloud æ„å»ºçš„å¾®æœåŠ¡ç³»ç»Ÿä¸­ï¼Œ Ribbon ä½œä¸ºæœåŠ¡**æ¶ˆè´¹è€…(å®¢æˆ·ç«¯)**çš„è´Ÿè½½å‡è¡¡å™¨ï¼Œæœ‰ä¸¤ç§ä½¿ç”¨æ–¹å¼ï¼Œä¸€ç§æ˜¯å’Œ <strong>RestTemplate</strong> ç›¸ç»“åˆï¼Œå¦ä¸€ç§æ˜¯å’Œ OpenFeign ç›¸ç»“åˆã€‚OpenFeign å·²ç»é»˜è®¤é›†æˆäº† Ribbon,å…³äº OpenFeign çš„å†…å®¹å°†ä¼šåœ¨ä¸‹ä¸€ç« è¿›è¡Œè¯¦ç»†è®²è§£ã€‚Ribbon æœ‰å¾ˆå¤šå­æ¨¡å—ï¼Œä½†å¾ˆå¤šæ¨¡å—æ²¡æœ‰ç”¨äºç”Ÿäº§ç¯å¢ƒ!</p><blockquote><p>ç›®å‰ä¸»æµçš„è´Ÿè½½æ–¹æ¡ˆåˆ†ä¸ºä»¥ä¸‹ä¸¤ç§ï¼š</p><ol><li>é›†ä¸­å¼è´Ÿè½½å‡è¡¡ï¼Œåœ¨æ¶ˆè´¹è€…å’ŒæœåŠ¡æä¾›æ–¹ä¸­é—´ä½¿ç”¨ç‹¬ç«‹çš„ä»£ç†æ–¹å¼è¿›è¡Œè´Ÿè½½ï¼Œæœ‰ç¡¬ä»¶çš„ï¼ˆæ¯”å¦‚ F5ï¼‰ï¼Œä¹Ÿæœ‰è½¯ä»¶çš„ï¼ˆæ¯”å¦‚Nginxï¼‰ã€‚</li><li>å®¢æˆ·ç«¯æ ¹æ®è‡ªå·±çš„è¯·æ±‚æƒ…å†µåšè´Ÿè½½å‡è¡¡ï¼ŒRibbon å°±å±äºå®¢æˆ·ç«¯è‡ªå·±åšè´Ÿè½½å‡è¡¡ã€‚</li></ol></blockquote><h3 id="è´Ÿè½½å‡è¡¡" tabindex="-1"><a class="header-anchor" href="#è´Ÿè½½å‡è¡¡" aria-hidden="true">#</a> è´Ÿè½½å‡è¡¡</h3><p>è´Ÿè½½å‡è¡¡ï¼Œè‹±æ–‡åç§°ä¸º Load Balanceï¼ˆ<strong><code>LB</code></strong>ï¼‰http:// lb://ï¼ˆè´Ÿè½½å‡è¡¡åè®®ï¼‰ ï¼Œå…¶å«ä¹‰å°±æ˜¯æŒ‡å°†è´Ÿè½½ï¼ˆå·¥ä½œä»»åŠ¡ï¼‰è¿›è¡Œå¹³è¡¡ã€åˆ†æ‘Šåˆ°å¤šä¸ªæ“ä½œå•å…ƒä¸Šè¿›è¡Œè¿è¡Œï¼Œä¾‹å¦‚ Web æœåŠ¡å™¨ã€ä¼ä¸šæ ¸å¿ƒåº”ç”¨æœåŠ¡å™¨å’Œå…¶å®ƒä¸»è¦ä»»åŠ¡æœåŠ¡å™¨ç­‰ï¼Œä»è€ŒååŒå®Œæˆå·¥ä½œä»»åŠ¡ã€‚</p><p>è´Ÿè½½å‡è¡¡æ„å»ºåœ¨åŸæœ‰ç½‘ç»œç»“æ„ä¹‹ä¸Šï¼Œå®ƒæä¾›äº†ä¸€ç§é€æ˜ä¸”å»‰ä»·æœ‰æ•ˆçš„æ–¹æ³•æ‰©å±•æœåŠ¡å™¨å’Œç½‘ç»œè®¾å¤‡çš„å¸¦å®½ã€åŠ å¼ºç½‘ç»œæ•°æ®å¤„ç†èƒ½åŠ›ã€å¢åŠ ååé‡ã€æé«˜ç½‘ç»œçš„å¯ç”¨æ€§å’Œçµæ´»æ€§ã€‚</p><h3 id="å¸¸è§è´Ÿè½½å‡è¡¡ç®—æ³•" tabindex="-1"><a class="header-anchor" href="#å¸¸è§è´Ÿè½½å‡è¡¡ç®—æ³•" aria-hidden="true">#</a> <strong>å¸¸è§è´Ÿè½½å‡è¡¡ç®—æ³•</strong></h3><ol><li>éšæœºï¼Œé€šè¿‡éšæœºé€‰æ‹©æœåŠ¡è¿›è¡Œæ‰§è¡Œï¼Œä¸€èˆ¬è¿™ç§æ–¹å¼ä½¿ç”¨è¾ƒå°‘;</li><li>è½®è®­ï¼Œè´Ÿè½½å‡è¡¡é»˜è®¤å®ç°æ–¹å¼ï¼Œè¯·æ±‚æ¥ä¹‹åæ’é˜Ÿå¤„ç†;</li><li>åŠ æƒè½®è®­ï¼Œé€šè¿‡å¯¹æœåŠ¡å™¨æ€§èƒ½çš„åˆ†å‹ï¼Œç»™é«˜é…ç½®ï¼Œä½è´Ÿè½½çš„æœåŠ¡å™¨åˆ†é…æ›´é«˜çš„æƒé‡ï¼Œå‡è¡¡å„ä¸ªæœåŠ¡å™¨çš„å‹åŠ›;</li><li>åœ°å€Hashï¼Œé€šè¿‡å®¢æˆ·ç«¯è¯·æ±‚çš„åœ°å€çš„HASHå€¼å–æ¨¡æ˜ å°„è¿›è¡ŒæœåŠ¡å™¨è°ƒåº¦ã€‚ ip ---&gt;hash</li><li>æœ€å°é“¾æ¥æ•°ï¼Œå³ä½¿è¯·æ±‚å‡è¡¡äº†ï¼Œå‹åŠ›ä¸ä¸€å®šä¼šå‡è¡¡ï¼Œæœ€å°è¿æ¥æ•°æ³•å°±æ˜¯æ ¹æ®æœåŠ¡å™¨çš„æƒ…å†µï¼Œæ¯”å¦‚è¯·æ±‚ç§¯å‹æ•°ç­‰å‚æ•°ï¼Œå°†è¯·æ±‚åˆ†é…åˆ°å½“å‰å‹åŠ›æœ€å°çš„æœåŠ¡å™¨ä¸Šã€‚ æœ€å°æ´»è·ƒæ•°</li></ol><p><img src="https://s2.loli.net/2023/10/17/fa1uUoHeGhR57Ji.png" alt="image-20230228175757542"></p><h4 id="irule" tabindex="-1"><a class="header-anchor" href="#irule" aria-hidden="true">#</a> <strong>IRule</strong></h4><p>è¿™æ˜¯æ‰€æœ‰è´Ÿè½½å‡è¡¡ç­–ç•¥çš„<strong>çˆ¶æ¥å£</strong>ï¼Œé‡Œè¾¹çš„æ ¸å¿ƒæ–¹æ³•å°±æ˜¯chooseæ–¹æ³•ï¼Œç”¨æ¥é€‰æ‹©ä¸€ä¸ªæœåŠ¡å®ä¾‹ã€‚</p><h4 id="abstractloadbalancerrule" tabindex="-1"><a class="header-anchor" href="#abstractloadbalancerrule" aria-hidden="true">#</a> <strong>AbstractLoadBalancerRule</strong></h4><p>AbstractLoadBalancerRuleæ˜¯ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œé‡Œè¾¹ä¸»è¦å®šä¹‰äº†ä¸€ä¸ªILoadBalancerï¼Œè¿™é‡Œå®šä¹‰å®ƒçš„ç›®çš„ä¸»è¦æ˜¯è¾…åŠ©è´Ÿè´£å‡è¡¡ç­–ç•¥é€‰å–åˆé€‚çš„æœåŠ¡ç«¯å®ä¾‹ã€‚</p><h4 id="randomrule" tabindex="-1"><a class="header-anchor" href="#randomrule" aria-hidden="true">#</a> <strong>RandomRule</strong></h4><p>çœ‹åå­—å°±çŸ¥é“ï¼Œè¿™ç§è´Ÿè½½å‡è¡¡ç­–ç•¥å°±æ˜¯<strong>éšæœºé€‰æ‹©ä¸€ä¸ªæœåŠ¡å®ä¾‹</strong>ï¼Œçœ‹æºç æˆ‘ä»¬çŸ¥é“ï¼Œåœ¨RandomRuleçš„æ— å‚æ„é€ æ–¹æ³•ä¸­åˆå§‹åŒ–äº†ä¸€ä¸ªRandomå¯¹è±¡ï¼Œç„¶ååœ¨å®ƒé‡å†™çš„chooseæ–¹æ³•åˆè°ƒç”¨äº†choose(ILoadBalancer lb, Object key)è¿™ä¸ªé‡è½½çš„chooseæ–¹æ³•ï¼Œåœ¨è¿™ä¸ªé‡è½½çš„chooseæ–¹æ³•ä¸­ï¼Œæ¯æ¬¡åˆ©ç”¨randomå¯¹è±¡ç”Ÿæˆä¸€ä¸ªä¸å¤§äºæœåŠ¡å®ä¾‹æ€»æ•°çš„éšæœºæ•°ï¼Œå¹¶å°†è¯¥æ•°ä½œä¸ºä¸‹æ ‡æ‰€ä»¥è·å–ä¸€ä¸ªæœåŠ¡å®ä¾‹ã€‚</p><h4 id="roundrobinrule" tabindex="-1"><a class="header-anchor" href="#roundrobinrule" aria-hidden="true">#</a> <strong>RoundRobinRule</strong></h4><p>RoundRobinRuleè¿™ç§è´Ÿè½½å‡è¡¡ç­–ç•¥å«åšçº¿æ€§<strong>è½®è¯¢è´Ÿè½½å‡è¡¡ç­–ç•¥</strong>ã€‚è¿™ä¸ªç±»çš„choose(ILoadBalancer lb, Object key)å‡½æ•°æ•´ä½“é€»è¾‘æ˜¯è¿™æ ·çš„ï¼šå¼€å¯ä¸€ä¸ªè®¡æ•°å™¨countï¼Œåœ¨whileå¾ªç¯ä¸­éå†æœåŠ¡æ¸…å•ï¼Œè·å–æ¸…å•ä¹‹å‰å…ˆé€šè¿‡incrementAndGetModuloæ–¹æ³•è·å–ä¸€ä¸ªä¸‹æ ‡ï¼Œè¿™ä¸ªä¸‹æ ‡æ˜¯ä¸€ä¸ªä¸æ–­è‡ªå¢é•¿çš„æ•°å…ˆåŠ 1ç„¶åå’ŒæœåŠ¡æ¸…å•æ€»æ•°å–æ¨¡ä¹‹åè·å–åˆ°çš„ï¼ˆæ‰€ä»¥è¿™ä¸ªä¸‹æ ‡ä»æ¥ä¸ä¼šè¶Šç•Œï¼‰ï¼Œæ‹¿ç€ä¸‹æ ‡å†å»æœåŠ¡æ¸…å•åˆ—è¡¨ä¸­å–æœåŠ¡ï¼Œæ¯æ¬¡å¾ªç¯è®¡æ•°å™¨éƒ½ä¼šåŠ 1ï¼Œå¦‚æœè¿ç»­10æ¬¡éƒ½æ²¡æœ‰å–åˆ°æœåŠ¡ï¼Œåˆ™ä¼šæŠ¥ä¸€ä¸ªè­¦å‘ŠNo available alive servers after 10 tries from load balancer: XXXXã€‚</p><h4 id="retryrule-åœ¨è½®è¯¢çš„åŸºç¡€ä¸Šè¿›è¡Œé‡è¯•" tabindex="-1"><a class="header-anchor" href="#retryrule-åœ¨è½®è¯¢çš„åŸºç¡€ä¸Šè¿›è¡Œé‡è¯•" aria-hidden="true">#</a> <strong>RetryRule</strong>ï¼ˆåœ¨è½®è¯¢çš„åŸºç¡€ä¸Šè¿›è¡Œé‡è¯•ï¼‰</h4><p>çœ‹åå­—å°±çŸ¥é“è¿™ç§è´Ÿè½½å‡è¡¡ç­–ç•¥å¸¦æœ‰<strong>é‡è¯•</strong>åŠŸèƒ½ã€‚é¦–å…ˆRetryRuleä¸­åˆå®šä¹‰äº†ä¸€ä¸ªsubRuleï¼Œå®ƒçš„å®ç°ç±»æ˜¯RoundRobinRuleï¼Œç„¶ååœ¨RetryRuleçš„choose(ILoadBalancer lb, Object key)æ–¹æ³•ä¸­ï¼Œæ¯æ¬¡è¿˜æ˜¯é‡‡ç”¨RoundRobinRuleä¸­çš„chooseè§„åˆ™æ¥é€‰æ‹©ä¸€ä¸ªæœåŠ¡å®ä¾‹ï¼Œå¦‚æœé€‰åˆ°çš„å®ä¾‹æ­£å¸¸å°±è¿”å›ï¼Œå¦‚æœé€‰æ‹©çš„æœåŠ¡å®ä¾‹ä¸ºnullæˆ–è€…å·²ç»å¤±æ•ˆï¼Œåˆ™<strong>åœ¨å¤±æ•ˆæ—¶é—´deadlineä¹‹å‰ä¸æ–­çš„è¿›è¡Œé‡è¯•</strong>ï¼ˆé‡è¯•æ—¶è·å–æœåŠ¡çš„ç­–ç•¥è¿˜æ˜¯RoundRobinRuleä¸­å®šä¹‰çš„ç­–ç•¥ï¼‰ï¼Œå¦‚æœè¶…è¿‡äº†deadlineè¿˜æ˜¯æ²¡å–åˆ°åˆ™ä¼šè¿”å›ä¸€ä¸ªnullã€‚</p><h4 id="weightedresponsetimerule" tabindex="-1"><a class="header-anchor" href="#weightedresponsetimerule" aria-hidden="true">#</a> <strong>WeightedResponseTimeRule</strong></h4><p>ï¼ˆ<strong>Nacosè¿˜æ‰©å±•äº†ä¸€ä¸ªè‡ªå·±çš„åŸºäºé…ç½®çš„æƒé‡æ‰©å±•--NacosRule</strong>ï¼‰**</p><p>WeightedResponseTimeRuleæ˜¯RoundRobinRuleçš„ä¸€ä¸ªå­ç±»ï¼Œåœ¨WeightedResponseTimeRuleä¸­å¯¹RoundRobinRuleçš„åŠŸèƒ½è¿›è¡Œäº†æ‰©å±•ï¼ŒWeightedResponseTimeRuleä¸­ä¼šæ ¹æ®æ¯ä¸€ä¸ªå®ä¾‹çš„è¿è¡Œæƒ…å†µæ¥ç»™è®¡ç®—å‡ºè¯¥å®ä¾‹çš„ä¸€ä¸ª<strong>æƒé‡</strong>ï¼Œç„¶ååœ¨æŒ‘é€‰å®ä¾‹çš„æ—¶å€™åˆ™æ ¹æ®æƒé‡è¿›è¡ŒæŒ‘é€‰ï¼Œè¿™æ ·èƒ½å¤Ÿå®ç°æ›´ä¼˜çš„å®ä¾‹è°ƒç”¨ã€‚WeightedResponseTimeRuleä¸­æœ‰ä¸€ä¸ªåå«DynamicServerWeightTaskçš„å®šæ—¶ä»»åŠ¡ï¼Œé»˜è®¤æƒ…å†µä¸‹æ¯éš”30ç§’ä¼šè®¡ç®—ä¸€æ¬¡å„ä¸ªæœåŠ¡å®ä¾‹çš„æƒé‡ï¼Œæƒé‡çš„è®¡ç®—è§„åˆ™ä¹Ÿå¾ˆç®€å•ï¼Œ<strong>å¦‚æœä¸€ä¸ªæœåŠ¡çš„å¹³å‡å“åº”æ—¶é—´è¶ŠçŸ­åˆ™æƒé‡è¶Šå¤§ï¼Œé‚£ä¹ˆè¯¥æœåŠ¡å®ä¾‹è¢«é€‰ä¸­æ‰§è¡Œä»»åŠ¡çš„æ¦‚ç‡ä¹Ÿå°±è¶Šå¤§</strong>ã€‚</p><h4 id="clientconfigenabledroundrobinrule" tabindex="-1"><a class="header-anchor" href="#clientconfigenabledroundrobinrule" aria-hidden="true">#</a> <strong>ClientConfigEnabledRoundRobinRule</strong></h4><p>ClientConfigEnabledRoundRobinRuleé€‰æ‹©ç­–ç•¥çš„å®ç°å¾ˆç®€å•ï¼Œå†…éƒ¨å®šä¹‰äº†RoundRobinRuleï¼Œchooseæ–¹æ³•è¿˜æ˜¯é‡‡ç”¨äº†RoundRobinRuleçš„chooseæ–¹æ³•ï¼Œæ‰€ä»¥å®ƒçš„é€‰æ‹©ç­–ç•¥å’Œ<strong>RoundRobinRule</strong>çš„é€‰æ‹©ç­–ç•¥ä¸€è‡´ï¼Œä¸èµ˜è¿°ã€‚</p><h4 id="bestavailablerule" tabindex="-1"><a class="header-anchor" href="#bestavailablerule" aria-hidden="true">#</a> <strong>BestAvailableRule</strong></h4><p>BestAvailableRuleç»§æ‰¿è‡ªClientConfigEnabledRoundRobinRuleï¼Œå®ƒåœ¨ClientConfigEnabledRoundRobinRuleçš„åŸºç¡€ä¸Šä¸»è¦å¢åŠ äº†æ ¹æ®loadBalancerStatsä¸­ä¿å­˜çš„æœåŠ¡å®ä¾‹çš„çŠ¶æ€ä¿¡æ¯æ¥**è¿‡æ»¤æ‰å¤±æ•ˆçš„æœåŠ¡å®ä¾‹çš„åŠŸèƒ½ï¼Œç„¶åé¡ºä¾¿æ‰¾å‡ºå¹¶å‘è¯·æ±‚æœ€å°çš„æœåŠ¡å®ä¾‹æ¥ä½¿ç”¨ã€‚**ç„¶è€ŒloadBalancerStatsæœ‰å¯èƒ½ä¸ºnullï¼Œå¦‚æœloadBalancerStatsä¸ºnullï¼Œåˆ™BestAvailableRuleå°†é‡‡ç”¨å®ƒçš„çˆ¶ç±»å³ClientConfigEnabledRoundRobinRuleçš„æœåŠ¡é€‰å–ç­–ç•¥ï¼ˆçº¿æ€§è½®è¯¢ï¼‰ã€‚</p><h4 id="zoneavoidancerule-é»˜è®¤" tabindex="-1"><a class="header-anchor" href="#zoneavoidancerule-é»˜è®¤" aria-hidden="true">#</a> <strong>ZoneAvoidanceRuleï¼ˆé»˜è®¤ï¼‰</strong></h4><p>ï¼ˆ<strong>é»˜è®¤è§„åˆ™</strong>ï¼Œå¤åˆåˆ¤æ–­serveræ‰€åœ¨åŒºåŸŸçš„æ€§èƒ½å’Œserverçš„å¯ç”¨æ€§é€‰æ‹©æœåŠ¡å™¨ã€‚ï¼‰ï¼ˆå¦‚æœ<strong>å•å°æœºå™¨çš„è¯å°±ç›¸å½“äºæ˜¯è½®è¯¢</strong>ï¼‰</p><p>ZoneAvoidanceRuleæ˜¯PredicateBasedRuleçš„ä¸€ä¸ªå®ç°ç±»ï¼Œåªä¸è¿‡è¿™é‡Œå¤šä¸€ä¸ªè¿‡æ»¤æ¡ä»¶ï¼ŒZoneAvoidanceRuleä¸­çš„è¿‡æ»¤æ¡ä»¶æ˜¯ä»¥</p><p>ZoneAvoidancePredicateä¸ºä¸»è¿‡æ»¤æ¡ä»¶å’Œä»¥AvailabilityPredicateä¸ºæ¬¡è¿‡æ»¤æ¡ä»¶ç»„æˆçš„ä¸€ä¸ªå«åšCompositePredicateçš„ç»„åˆè¿‡æ»¤æ¡ä»¶ï¼Œè¿‡æ»¤æˆåŠŸä¹‹åï¼Œç»§ç»­é‡‡ç”¨çº¿æ€§è½®è¯¢(<strong>RoundRobinRule</strong>)çš„æ–¹å¼ä»è¿‡æ»¤ç»“æœä¸­é€‰æ‹©ä¸€ä¸ªå‡ºæ¥ã€‚</p><h4 id="availabilityfilteringrule" tabindex="-1"><a class="header-anchor" href="#availabilityfilteringrule" aria-hidden="true">#</a> <strong>AvailabilityFilteringRule</strong></h4><p>ï¼ˆå…ˆè¿‡æ»¤æ‰æ•…éšœå®ä¾‹ï¼Œå†é€‰æ‹©å¹¶å‘è¾ƒå°çš„å®ä¾‹ï¼‰</p><p>è¿‡æ»¤æ‰ä¸€ç›´è¿æ¥å¤±è´¥çš„è¢«æ ‡è®°ä¸ºcircuit trippedçš„åç«¯Serverï¼Œå¹¶è¿‡æ»¤æ‰é‚£äº›é«˜å¹¶å‘çš„åç«¯Serveræˆ–è€…ä½¿ç”¨ä¸€ä¸ªAvailabilityPredicateæ¥åŒ…å«è¿‡æ»¤serverçš„é€»è¾‘ï¼Œå…¶å®å°±æ˜¯æ£€æŸ¥statusé‡Œè®°å½•çš„å„ä¸ªServerçš„è¿è¡ŒçŠ¶æ€ã€‚</p><h3 id="å…¥é—¨ä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#å…¥é—¨ä½¿ç”¨" aria-hidden="true">#</a> å…¥é—¨ä½¿ç”¨</h3><h4 id="_1-å¼•å…¥ä¾èµ–" tabindex="-1"><a class="header-anchor" href="#_1-å¼•å…¥ä¾èµ–" aria-hidden="true">#</a> 1-å¼•å…¥ä¾èµ–</h4><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-netflix-ribbon<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.2.9.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-æ³¨å†Œresttemplateçš„æ—¶å€™åŠ ä¸Š-loadbalanced" tabindex="-1"><a class="header-anchor" href="#_2-æ³¨å†Œresttemplateçš„æ—¶å€™åŠ ä¸Š-loadbalanced" aria-hidden="true">#</a> 2-æ³¨å†ŒRestTemplateçš„æ—¶å€™åŠ ä¸Š@LoadBalanced</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
     * åŠ äº†@LoadBalancedä¹‹åï¼Œå°±ä¼šè¢«ribbonæ§åˆ¶
     * <span class="token keyword">@return</span>
     */</span>
<span class="token annotation punctuation">@Bean</span>
<span class="token annotation punctuation">@LoadBalanced</span>
<span class="token keyword">public</span> <span class="token class-name">RestTemplate</span> <span class="token function">restTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">RestTemplate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_3-ä¹‹ååªè¦æ˜¯é€šè¿‡è¿™ä¸ªresttemplateç¤ºä¾‹å‘é€çš„è¯·æ±‚éƒ½ä¼šè¢«ribbonæ¥ç®¡" tabindex="-1"><a class="header-anchor" href="#_3-ä¹‹ååªè¦æ˜¯é€šè¿‡è¿™ä¸ªresttemplateç¤ºä¾‹å‘é€çš„è¯·æ±‚éƒ½ä¼šè¢«ribbonæ¥ç®¡" aria-hidden="true">#</a> 3-ä¹‹ååªè¦æ˜¯é€šè¿‡è¿™ä¸ªrestTemplateç¤ºä¾‹å‘é€çš„è¯·æ±‚éƒ½ä¼šè¢«ribbonæ¥ç®¡</h4><h3 id="ä¿®æ”¹é»˜è®¤è´Ÿè½½å‡è¡¡ç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#ä¿®æ”¹é»˜è®¤è´Ÿè½½å‡è¡¡ç­–ç•¥" aria-hidden="true">#</a> ä¿®æ”¹é»˜è®¤è´Ÿè½½å‡è¡¡ç­–ç•¥</h3><blockquote><p>æ³¨æ„ï¼Œä¿®æ”¹éƒ½åœ¨å®¢æˆ·ç«¯ï¼ˆæ¶ˆè´¹è€…ï¼‰</p></blockquote><h4 id="ä¸€ã€é…ç½®ç±»æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#ä¸€ã€é…ç½®ç±»æ–¹æ³•" aria-hidden="true">#</a> ä¸€ã€é…ç½®ç±»æ–¹æ³•</h4><h5 id="_1-ç¼–å†™é…ç½®ç±»" tabindex="-1"><a class="header-anchor" href="#_1-ç¼–å†™é…ç½®ç±»" aria-hidden="true">#</a> 1.ç¼–å†™é…ç½®ç±»</h5><blockquote><p>**æ³¨æ„ï¼š==æ­¤å¤„æœ‰å‘==ã€‚**ä¸èƒ½å†™åœ¨@SpringbootApplicationæ³¨è§£çš„@CompentScanæ‰«æå¾—åˆ°çš„åœ°æ–¹ï¼ˆé»˜è®¤æ˜¯æ‰«æå¯åŠ¨ç±»çš„åŒ…åŠå…¶å­åŒ…ä¸‹æ‰€æœ‰ï¼‰ï¼Œå¦åˆ™è‡ªå®šä¹‰çš„é…ç½®ç±»å°±ä¼šè¢«æ‰€æœ‰çš„</p><p>RibbonClientså…±äº«ã€‚</p><p>ä¸å»ºè®®ä½¿ç”¨é…ç½®ç±»æ–¹å¼ï¼Œæ¨èymlæ–¹å¼</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RibbonConfig</span> <span class="token punctuation">{</span>

<span class="token doc-comment comment">/**
* å…¨å±€é…ç½®
* æŒ‡å®šè´Ÿè½½å‡è¡¡ç­–ç•¥
* <span class="token keyword">@return</span>
*/</span>
<span class="token annotation punctuation">@Bean</span>
<span class="token keyword">public</span> <span class="token class-name">IRule</span> <span class="token function">iRule</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
         <span class="token comment">// æŒ‡å®šä½¿ç”¨Nacosæä¾›çš„è´Ÿè½½å‡è¡¡ç­–ç•¥ï¼ˆä¼˜å…ˆè°ƒç”¨åŒä¸€é›†ç¾¤çš„å®ä¾‹ï¼ŒåŸºäºéšæœºæƒé‡ï¼‰</span>
         <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">NacosRule</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
         <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_2-åœ¨å¯åŠ¨ç±»ä¸Šç”¨-ribbonclientæŒ‡å®šå¾®æœåŠ¡åŠå…¶è´Ÿè½½å‡è¡¡ç­–ç•¥ã€‚" tabindex="-1"><a class="header-anchor" href="#_2-åœ¨å¯åŠ¨ç±»ä¸Šç”¨-ribbonclientæŒ‡å®šå¾®æœåŠ¡åŠå…¶è´Ÿè½½å‡è¡¡ç­–ç•¥ã€‚" aria-hidden="true">#</a> 2.åœ¨å¯åŠ¨ç±»ä¸Šç”¨@RibbonClientæŒ‡å®šå¾®æœåŠ¡åŠå…¶è´Ÿè½½å‡è¡¡ç­–ç•¥ã€‚</h5><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@RibbonClients</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token punctuation">{</span> 
    <span class="token comment">// name æ˜¯æœåŠ¡åï¼Œconfigurationé…ç½®è‡ªå®šä¹‰é…ç½®ç±»</span>
    <span class="token annotation punctuation">@RibbonClient</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;mallâ€order&quot;</span><span class="token punctuation">,</span>configuration <span class="token operator">=</span> <span class="token class-name">RibbonConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token annotation punctuation">@RibbonClient</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;mallâ€account&quot;</span><span class="token punctuation">,</span>configuration <span class="token operator">=</span> <span class="token class-name">RibbonConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="äºŒã€é…ç½®æ–‡ä»¶æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#äºŒã€é…ç½®æ–‡ä»¶æ–¹æ³•" aria-hidden="true">#</a> äºŒã€é…ç½®æ–‡ä»¶æ–¹æ³•</h4><p>è°ƒç”¨æŒ‡å®šå¾®æœåŠ¡æä¾›çš„æœåŠ¡æ—¶ï¼Œä½¿ç”¨å¯¹åº”çš„è´Ÿè½½å‡è¡¡ç®—æ³•</p><p>ä¿®æ”¹application.yml</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code>è¢«è°ƒç”¨çš„å¾®æœåŠ¡å
<span class="token key atrule">mallâ€order</span><span class="token punctuation">:</span>
  <span class="token key atrule">ribbon</span><span class="token punctuation">:</span>
    æŒ‡å®šä½¿ç”¨Nacosæä¾›çš„è´Ÿè½½å‡è¡¡ç­–ç•¥ï¼ˆä¼˜å…ˆè°ƒç”¨åŒä¸€é›†ç¾¤çš„å®ä¾‹ï¼ŒåŸºäºéšæœº<span class="token important">&amp;æƒé‡ï¼‰</span>
    <span class="token key atrule">NFLoadBalancerRuleClassName</span><span class="token punctuation">:</span> com.alibaba.cloud.nacos.ribbon.NacosRule
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="è‡ªå®šä¹‰è´Ÿè½½å‡è¡¡ç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#è‡ªå®šä¹‰è´Ÿè½½å‡è¡¡ç­–ç•¥" aria-hidden="true">#</a> <strong>è‡ªå®šä¹‰è´Ÿè½½å‡è¡¡ç­–ç•¥</strong></h3><blockquote><p>é€šè¿‡å®ç° IRule æ¥å£å¯ä»¥è‡ªå®šä¹‰è´Ÿè½½ç­–ç•¥ï¼Œä¸»è¦çš„é€‰æ‹©æœåŠ¡é€»è¾‘åœ¨ choose æ–¹æ³•ä¸­</p></blockquote><h4 id="å®ç°åŸºäºnacosæƒé‡çš„è´Ÿè½½å‡è¡¡ç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#å®ç°åŸºäºnacosæƒé‡çš„è´Ÿè½½å‡è¡¡ç­–ç•¥" aria-hidden="true">#</a> <strong>å®ç°åŸºäºNacosæƒé‡çš„è´Ÿè½½å‡è¡¡ç­–ç•¥</strong></h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token number">1</span> <span class="token annotation punctuation">@Slf4j</span>
<span class="token number">2</span> <span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">NacosRandomWithWeightRule</span> <span class="token keyword">extends</span> <span class="token class-name">AbstractLoadBalancerRule</span> <span class="token punctuation">{</span>
<span class="token number">3</span>
<span class="token number">4</span>  <span class="token annotation punctuation">@Autowired</span>
<span class="token number">5</span> <span class="token keyword">private</span> <span class="token class-name">NacosDiscoveryProperties</span> nacosDiscoveryProperties<span class="token punctuation">;</span>
<span class="token number">6</span>
<span class="token number">7</span>  <span class="token annotation punctuation">@Override</span>
<span class="token number">8</span> <span class="token keyword">public</span> <span class="token class-name">Server</span> <span class="token function">choose</span><span class="token punctuation">(</span><span class="token class-name">Object</span> key<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token number">9</span>  <span class="token class-name">DynamicServerListLoadBalancer</span> loadBalancer <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">DynamicServerListLoadBalancer</span><span class="token punctuation">)</span> <span class="token function">getLoadBalancer</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">10</span>  <span class="token class-name">String</span> serviceName <span class="token operator">=</span> loadBalancer<span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">11</span>  <span class="token class-name">NamingService</span> namingService <span class="token operator">=</span> nacosDiscoveryProperties<span class="token punctuation">.</span><span class="token function">namingServiceInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">12</span> <span class="token keyword">try</span> <span class="token punctuation">{</span>
<span class="token number">13</span> <span class="token comment">//nacosåŸºäºæƒé‡çš„ç®—æ³•</span>
<span class="token number">14</span>  <span class="token class-name">Instance</span> instance <span class="token operator">=</span> namingService<span class="token punctuation">.</span><span class="token function">selectOneHealthyInstance</span><span class="token punctuation">(</span>serviceName<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">15</span> <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">NacosServer</span><span class="token punctuation">(</span>instance<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">16</span> <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">NacosException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token number">17</span>  log<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;è·å–æœåŠ¡å®ä¾‹å¼‚å¸¸ï¼š{}&quot;</span><span class="token punctuation">,</span> e<span class="token punctuation">.</span><span class="token function">getMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">18</span>  e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">19</span> <span class="token punctuation">}</span>
<span class="token number">20</span> <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token number">21</span> <span class="token punctuation">}</span>
<span class="token number">22</span>  <span class="token annotation punctuation">@Override</span>
<span class="token number">23</span> <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">initWithNiwsConfig</span><span class="token punctuation">(</span><span class="token class-name">IClientConfig</span> clientConfig<span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token number">24</span>
<span class="token number">25</span> <span class="token punctuation">}</span>
<span class="token number">26</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="é…ç½®è‡ªå®šä¹‰çš„ç­–ç•¥" tabindex="-1"><a class="header-anchor" href="#é…ç½®è‡ªå®šä¹‰çš„ç­–ç•¥" aria-hidden="true">#</a> <strong>é…ç½®è‡ªå®šä¹‰çš„ç­–ç•¥</strong></h4><p>é€šè¿‡ä¿®æ”¹application.yml</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code>1 <span class="token comment"># è¢«è°ƒç”¨çš„å¾®æœåŠ¡å</span>
<span class="token key atrule">2 mallâ€order</span><span class="token punctuation">:</span>
3  ribbon<span class="token punctuation">:</span>
4  <span class="token comment"># è‡ªå®šä¹‰çš„è´Ÿè½½å‡è¡¡ç­–ç•¥ï¼ˆåŸºäºéšæœº&amp;æƒé‡ï¼‰</span>
5  NFLoadBalancerRuleClassName<span class="token punctuation">:</span> com.tuling.mall.ribbondemo.rule.NacosRandomWithWeightRule
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="é¥¥é¥¿åŠ è½½" tabindex="-1"><a class="header-anchor" href="#é¥¥é¥¿åŠ è½½" aria-hidden="true">#</a> é¥¥é¥¿åŠ è½½</h3><p>åœ¨è¿›è¡ŒæœåŠ¡è°ƒç”¨çš„æ—¶å€™ï¼Œå¦‚æœç½‘ç»œæƒ…å†µä¸å¥½ï¼Œç¬¬ä¸€æ¬¡è°ƒç”¨ä¼šè¶…æ—¶ã€‚</p><p>Ribboné»˜è®¤æ‡’åŠ è½½ï¼Œæ„å‘³ç€åªæœ‰åœ¨å‘èµ·è°ƒç”¨çš„æ—¶å€™æ‰ä¼šåˆ›å»ºå®¢æˆ·ç«¯ã€‚</p><p>å¼€å¯é¥¥é¥¿åŠ è½½ï¼Œè§£å†³ç¬¬ä¸€æ¬¡è°ƒç”¨æ…¢çš„é—®é¢˜</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">1 ribbon</span><span class="token punctuation">:</span>
2   eagerâ€load<span class="token punctuation">:</span>
3     <span class="token comment"># å¼€å¯ribboné¥¥é¥¿åŠ è½½</span>
4     enabled<span class="token punctuation">:</span> <span class="token boolean important">true</span>
5     <span class="token comment"># é…ç½®mallâ€userä½¿ç”¨ribboné¥¥é¥¿åŠ è½½ï¼Œå¤šä¸ªä½¿ç”¨é€—å·åˆ†éš”</span>
6     clients<span class="token punctuation">:</span> mallâ€order
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="nacos" tabindex="-1"><a class="header-anchor" href="#nacos" aria-hidden="true">#</a> Nacos</h2><h3 id="æ˜¯ä»€ä¹ˆ" tabindex="-1"><a class="header-anchor" href="#æ˜¯ä»€ä¹ˆ" aria-hidden="true">#</a> æ˜¯ä»€ä¹ˆ</h3><p>å®˜æ–¹ï¼šä¸€ä¸ªæ›´æ˜“äºæ„å»ºäº‘åŸç”Ÿåº”ç”¨çš„åŠ¨æ€**æœåŠ¡å‘ç°(**Nacos Discovery <strong>)</strong>ã€**æœåŠ¡é…ç½®(<strong>Nacos Config</strong>)**å’ŒæœåŠ¡ç®¡ç†å¹³å°ã€‚</p><p>é›† æ³¨å†Œä¸­å¿ƒ+é…ç½®ä¸­å¿ƒ+æœåŠ¡ç®¡ç† å¹³å°</p><p>Nacos çš„å…³é”®ç‰¹æ€§åŒ…æ‹¬:</p><ol><li>æœåŠ¡å‘ç°å’ŒæœåŠ¡å¥åº·ç›‘æµ‹</li><li>åŠ¨æ€é…ç½®æœåŠ¡</li><li>åŠ¨æ€ DNS æœåŠ¡</li><li>æœåŠ¡åŠå…¶å…ƒæ•°æ®ç®¡ç†</li></ol><h3 id="æ‰§è¡Œè¿‡ç¨‹-æµç¨‹" tabindex="-1"><a class="header-anchor" href="#æ‰§è¡Œè¿‡ç¨‹-æµç¨‹" aria-hidden="true">#</a> æ‰§è¡Œè¿‡ç¨‹/æµç¨‹</h3><p><img src="https://s2.loli.net/2023/10/17/EFm2ipxWyZ7LUhg.png" alt="image-20230228171701626"></p><h3 id="ä¸å…¶ä»–æ³¨å†Œä¸­å¿ƒå¯¹æ¯”" tabindex="-1"><a class="header-anchor" href="#ä¸å…¶ä»–æ³¨å†Œä¸­å¿ƒå¯¹æ¯”" aria-hidden="true">#</a> ä¸å…¶ä»–æ³¨å†Œä¸­å¿ƒå¯¹æ¯”</h3><blockquote><p>CAP C ä¸€è‡´æ€§ Aå¯ç”¨æ€§ P åˆ†åŒºå®¹é”™æ€§</p><p>Pä¸€å®šæœ‰ï¼Œå‰©ä¸‹å°±æ˜¯ä¿è¯Aæˆ–è€…ä¿è¯Cäº†</p></blockquote><p><img src="https://s2.loli.net/2023/10/17/wBLYy73ScJWnuef.png" alt="image-20230228171740576"></p><h3 id="æ ¸å¿ƒåŠŸèƒ½" tabindex="-1"><a class="header-anchor" href="#æ ¸å¿ƒåŠŸèƒ½" aria-hidden="true">#</a> æ ¸å¿ƒåŠŸèƒ½</h3><ol><li><strong>æœåŠ¡æ³¨å†Œ</strong>ï¼šNacos Clientä¼šé€šè¿‡å‘é€RESTè¯·æ±‚çš„æ–¹å¼å‘Nacos Serveræ³¨å†Œè‡ªå·±çš„æœåŠ¡ï¼Œæä¾›è‡ªèº«çš„å…ƒæ•°æ®ï¼Œæ¯”å¦‚ipåœ°å€ã€ç«¯å£ç­‰ä¿¡æ¯ã€‚Nacos Serveræ¥æ”¶åˆ°æ³¨å†Œè¯·æ±‚åï¼Œå°±ä¼šæŠŠè¿™äº›å…ƒæ•°æ®ä¿¡æ¯å­˜å‚¨åœ¨ä¸€ä¸ªåŒå±‚çš„å†…å­˜Mapä¸­ã€‚</li><li><strong>æœåŠ¡å¿ƒè·³</strong>ï¼šåœ¨æœåŠ¡æ³¨å†Œåï¼ŒNacos Clientä¼šç»´æŠ¤ä¸€ä¸ªå®šæ—¶å¿ƒè·³æ¥æŒç»­é€šçŸ¥Nacos Serverï¼Œè¯´æ˜æœåŠ¡ä¸€ç›´å¤„äºå¯ç”¨çŠ¶æ€ï¼Œé˜²æ­¢è¢«å‰”é™¤ã€‚é»˜è®¤5så‘é€ä¸€æ¬¡å¿ƒè·³ã€‚</li><li><strong>æœåŠ¡åŒæ­¥</strong>ï¼šNacos Serveré›†ç¾¤ä¹‹é—´ä¼šäº’ç›¸åŒæ­¥æœåŠ¡å®ä¾‹ï¼Œç”¨æ¥ä¿è¯æœåŠ¡ä¿¡æ¯çš„ä¸€è‡´æ€§ã€‚ leader raft</li><li><strong>æœåŠ¡å‘ç°</strong>ï¼šæœåŠ¡æ¶ˆè´¹è€…ï¼ˆNacos Clientï¼‰åœ¨è°ƒç”¨æœåŠ¡æä¾›è€…çš„æœåŠ¡æ—¶ï¼Œä¼šå‘é€ä¸€ä¸ªRESTè¯·æ±‚ç»™Nacos Serverï¼Œè·å–ä¸Šé¢æ³¨å†Œçš„æœåŠ¡æ¸…å•ï¼Œå¹¶ä¸”ç¼“å­˜åœ¨Nacos Clientæœ¬åœ°ï¼ŒåŒæ—¶ä¼šåœ¨Nacos Clientæœ¬åœ°å¼€å¯ä¸€ä¸ªå®šæ—¶ä»»åŠ¡å®šæ—¶æ‹‰å–æœåŠ¡ç«¯æœ€æ–°çš„æ³¨å†Œè¡¨ä¿¡æ¯æ›´æ–°åˆ°æœ¬åœ°ç¼“å­˜</li><li><strong>æœåŠ¡å¥åº·æ£€æŸ¥</strong>ï¼šNacos Serverä¼šå¼€å¯ä¸€ä¸ªå®šæ—¶ä»»åŠ¡ç”¨æ¥æ£€æŸ¥æ³¨å†ŒæœåŠ¡å®ä¾‹çš„å¥åº·æƒ…å†µï¼Œå¯¹äºè¶…è¿‡15sæ²¡æœ‰æ”¶åˆ°å®¢æˆ·ç«¯å¿ƒè·³çš„å®ä¾‹ä¼šå°†å®ƒçš„healthyå±æ€§ç½®ä¸ºfalse(å®¢æˆ·ç«¯æœåŠ¡å‘ç°æ—¶ä¸ä¼šå‘ç°)ï¼Œå¦‚æœæŸä¸ªå®ä¾‹è¶…è¿‡30ç§’æ²¡æœ‰æ”¶åˆ°å¿ƒè·³ï¼Œç›´æ¥å‰”é™¤è¯¥å®ä¾‹(è¢«å‰”é™¤çš„å®ä¾‹å¦‚æœæ¢å¤å‘é€å¿ƒè·³åˆ™ä¼šé‡æ–°æ³¨å†Œï¼‰</li></ol><h3 id="é…ç½®" tabindex="-1"><a class="header-anchor" href="#é…ç½®" aria-hidden="true">#</a> é…ç½®</h3><p>https://github.com/alibaba/spring-cloud-alibaba/wiki/Nacos-discovery</p><h3 id="æ³¨å†Œä¸­å¿ƒ-å…¥é—¨ç”¨æ³•" tabindex="-1"><a class="header-anchor" href="#æ³¨å†Œä¸­å¿ƒ-å…¥é—¨ç”¨æ³•" aria-hidden="true">#</a> æ³¨å†Œä¸­å¿ƒ-å…¥é—¨ç”¨æ³•</h3><h4 id="æ­å»ºnacosç¯å¢ƒ" tabindex="-1"><a class="header-anchor" href="#æ­å»ºnacosç¯å¢ƒ" aria-hidden="true">#</a> <strong>æ­å»º</strong>nacosç¯å¢ƒ</h4><h5 id="ç¬¬1æ­¥-å®‰è£…nacos" tabindex="-1"><a class="header-anchor" href="#ç¬¬1æ­¥-å®‰è£…nacos" aria-hidden="true">#</a> ç¬¬1æ­¥: å®‰è£…nacos</h5><p>ä¸‹è½½åœ°å€: https://github.com/alibaba/nacos/releases</p><p>ä¸‹è½½zipæ ¼å¼çš„å®‰è£…åŒ…ï¼Œç„¶åè¿›è¡Œè§£å‹ç¼©æ“ä½œ</p><h5 id="ç¬¬2æ­¥-å¯åŠ¨nacos" tabindex="-1"><a class="header-anchor" href="#ç¬¬2æ­¥-å¯åŠ¨nacos" aria-hidden="true">#</a> ç¬¬2æ­¥: å¯åŠ¨nacos</h5><div class="language-cmd line-numbers-mode" data-ext="cmd"><pre class="language-cmd"><code>#åˆ‡æ¢ç›®å½•ï¼Œè¿›å…¥binç›®å½•
cd nacos/bin
#å‘½ä»¤å¯åŠ¨ï¼Œ-må¯ä»¥ç”¨æ¥æŒ‡å®šå•æœºè¿˜æ˜¯é›†ç¾¤ï¼Œé»˜è®¤æ˜¯å•æœºï¼Œé»˜è®¤ç«¯å£8848
startup.cmd -m standalone
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="ç¬¬3æ­¥-è®¿é—®nacos" tabindex="-1"><a class="header-anchor" href="#ç¬¬3æ­¥-è®¿é—®nacos" aria-hidden="true">#</a> ç¬¬3æ­¥: è®¿é—®nacos</h5><p>æ‰“å¼€æµè§ˆå™¨è¾“å…¥http://localhost:8848/nacosï¼Œå³å¯è®¿é—®æœåŠ¡ï¼Œ é»˜è®¤å¯†ç æ˜¯nacos/nacos</p><h4 id="å°†å•†å“å¾®æœåŠ¡æ³¨å†Œåˆ°nacos" tabindex="-1"><a class="header-anchor" href="#å°†å•†å“å¾®æœåŠ¡æ³¨å†Œåˆ°nacos" aria-hidden="true">#</a> <strong>å°†å•†å“å¾®æœåŠ¡æ³¨å†Œåˆ°nacos</strong></h4><h5 id="_1-åœ¨pom-xmlä¸­æ·»åŠ nacosçš„ä¾èµ–" tabindex="-1"><a class="header-anchor" href="#_1-åœ¨pom-xmlä¸­æ·»åŠ nacosçš„ä¾èµ–" aria-hidden="true">#</a> 1 åœ¨pom.xmlä¸­æ·»åŠ nacosçš„ä¾èµ–</h5><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!--nacoså®¢æˆ·ç«¯--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.alibaba.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-alibaba-nacos-discovery<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_2-åœ¨ä¸»ç±»ä¸Šæ·»åŠ -enablediscoveryclientæ³¨è§£" tabindex="-1"><a class="header-anchor" href="#_2-åœ¨ä¸»ç±»ä¸Šæ·»åŠ -enablediscoveryclientæ³¨è§£" aria-hidden="true">#</a> 2 åœ¨ä¸»ç±»ä¸Šæ·»åŠ <code>@EnableDiscoveryClient</code>æ³¨è§£</h5><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token annotation punctuation">@EnableDiscoveryClient</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ProductApplication</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_3-åœ¨application-ymlä¸­æ·»åŠ nacosæœåŠ¡çš„åœ°å€" tabindex="-1"><a class="header-anchor" href="#_3-åœ¨application-ymlä¸­æ·»åŠ nacosæœåŠ¡çš„åœ°å€" aria-hidden="true">#</a> 3 åœ¨application.ymlä¸­æ·»åŠ nacosæœåŠ¡çš„åœ°å€</h5><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token key atrule">nacos</span><span class="token punctuation">:</span>
      <span class="token key atrule">discovery</span><span class="token punctuation">:</span>
        <span class="token key atrule">server-addr</span><span class="token punctuation">:</span> 127.0.0.1<span class="token punctuation">:</span><span class="token number">8848</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="é…ç½®ä¸­å¿ƒ" tabindex="-1"><a class="header-anchor" href="#é…ç½®ä¸­å¿ƒ" aria-hidden="true">#</a> é…ç½®ä¸­å¿ƒ</h3><h4 id="ä¸springcloud-configå¯¹æ¯”" tabindex="-1"><a class="header-anchor" href="#ä¸springcloud-configå¯¹æ¯”" aria-hidden="true">#</a> ä¸SpringCloud configå¯¹æ¯”</h4><p><strong>ä¸‰å¤§ä¼˜åŠ¿ï¼š</strong></p><ol><li>springcloud configå¤§éƒ¨åˆ†åœºæ™¯ç»“åˆgit ä½¿ç”¨ï¼ŒåŠ¨æ€å˜æ›´è¿˜éœ€è¦ä¾èµ– <code>Spring Cloud Bus</code> æ¶ˆæ¯æ€»çº¿æ¥é€šè¿‡æ‰€æœ‰çš„æˆ·ç«¯å˜åŒ–ï¼ˆæœ‰å»¶è¿Ÿï¼‰</li><li>springcloud config<code>ä¸æä¾›</code>å¯è§†åŒ–ç•Œé¢</li><li>nacos configä½¿ç”¨é•¿è½®è¯¢æ›´æ–°é…ç½®ï¼Œä¸€æ—¦é…ç½®æœ‰å˜åŠ¨åï¼Œé€šçŸ¥Providerçš„è¿‡ç¨‹éå¸¸çš„è¿…é€Ÿï¼Œä»é€Ÿåº¦ä¸Šç§’æ€springcloudåŸæ¥çš„configå‡ æ¡è¡—</li></ol><h4 id="å…¥é—¨ç”¨æ³•" tabindex="-1"><a class="header-anchor" href="#å…¥é—¨ç”¨æ³•" aria-hidden="true">#</a> å…¥é—¨ç”¨æ³•</h4><h5 id="_1-nacosä¸­åˆ›å»ºé…ç½®" tabindex="-1"><a class="header-anchor" href="#_1-nacosä¸­åˆ›å»ºé…ç½®" aria-hidden="true">#</a> 1ï¼‰nacosä¸­åˆ›å»ºé…ç½®</h5><h5 id="_2-é¡¹ç›®ä¸­å¼•å…¥ä¾èµ–" tabindex="-1"><a class="header-anchor" href="#_2-é¡¹ç›®ä¸­å¼•å…¥ä¾èµ–" aria-hidden="true">#</a> 2ï¼‰é¡¹ç›®ä¸­å¼•å…¥ä¾èµ–</h5><blockquote><p>åœ¨<code>SpringCloud 2020.* </code>ç‰ˆæœ¬æŠŠbootstrapç¦ç”¨äº†ï¼Œå¯¼è‡´åœ¨è¯»å–æ–‡ä»¶çš„æ—¶å€™è¯»å–ä¸åˆ°è€ŒæŠ¥é”™ï¼Œæ‰€ä»¥è¦æŠŠbootstrapæ‰‹åŠ¨å¯¼å…¥è¿›æ¥æ‰èƒ½ç”Ÿæ•ˆ</p></blockquote><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework.cloud/spring-cloud-starter-bootstrap --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-bootstrap<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
	<span class="token comment">&lt;!-- &lt;version&gt;3.0.3&lt;/version&gt;--&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.alibaba.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-alibaba-nacos-config<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_3-æ·»åŠ bootstrap-yml" tabindex="-1"><a class="header-anchor" href="#_3-æ·»åŠ bootstrap-yml" aria-hidden="true">#</a> 3ï¼‰æ·»åŠ bootstrap.yml</h5><blockquote><p>æ³¨æ„ï¼šè¿™é‡Œé¡¹ç›®åè¦ä¸é…ç½®ä¸­å¿ƒçš„<code>DataId</code>ä¸€è‡´æ‰è¡Œ</p></blockquote><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">application</span><span class="token punctuation">:</span>
    <span class="token key atrule">name</span><span class="token punctuation">:</span> com.xiaohuowa.order
  <span class="token key atrule">cloud</span><span class="token punctuation">:</span>
    <span class="token key atrule">nacos</span><span class="token punctuation">:</span>
      <span class="token key atrule">server-addr</span><span class="token punctuation">:</span> 127.0.0.1<span class="token punctuation">:</span><span class="token number">8848</span>
      <span class="token key atrule">username</span><span class="token punctuation">:</span> nacos
      <span class="token key atrule">password</span><span class="token punctuation">:</span> nacos
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="_4-æµ‹è¯•" tabindex="-1"><a class="header-anchor" href="#_4-æµ‹è¯•" aria-hidden="true">#</a> 4ï¼‰æµ‹è¯•</h5><blockquote><p>åœ¨å¯åŠ¨ç±»ä¸­è¯»å–é…ç½®ä¸­å¿ƒçš„é…ç½®å¹¶è¾“å‡º</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ConfigApplication</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">InterruptedException</span> <span class="token punctuation">{</span>
        <span class="token class-name">ConfigurableApplicationContext</span> applicationContext <span class="token operator">=</span> <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">ConfigApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">String</span> userName <span class="token operator">=</span> applicationContext<span class="token punctuation">.</span><span class="token function">getEnvironment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;user.name&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">String</span> userAge <span class="token operator">=</span> applicationContext<span class="token punctuation">.</span><span class="token function">getEnvironment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getProperty</span><span class="token punctuation">(</span><span class="token string">&quot;user.age&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>userName <span class="token operator">+</span> userAge<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h2 id="feign" tabindex="-1"><a class="header-anchor" href="#feign" aria-hidden="true">#</a> Feign</h2><h3 id="java-é¡¹ç›®ä¸­å¦‚ä½•å®ç°æ¥å£è°ƒç”¨" tabindex="-1"><a class="header-anchor" href="#java-é¡¹ç›®ä¸­å¦‚ä½•å®ç°æ¥å£è°ƒç”¨" aria-hidden="true">#</a> <strong>JAVA é¡¹ç›®ä¸­å¦‚ä½•å®ç°æ¥å£è°ƒç”¨ï¼Ÿ</strong></h3><p><strong>1ï¼‰Httpclient</strong></p><p>HttpClient æ˜¯ Apache Jakarta Common ä¸‹çš„å­é¡¹ç›®ï¼Œç”¨æ¥æä¾›é«˜æ•ˆçš„ã€æœ€æ–°çš„ã€åŠŸèƒ½ä¸°å¯Œçš„æ”¯æŒ Http åè®®çš„å®¢æˆ·ç«¯ç¼–ç¨‹å·¥å…·åŒ…ï¼Œå¹¶ä¸”å®ƒæ”¯æŒ HTTP åè®®æœ€æ–°ç‰ˆæœ¬å’Œå»ºè®®ã€‚HttpClient ç›¸æ¯”ä¼ ç»Ÿ JDK è‡ªå¸¦çš„ URLConnectionï¼Œæå‡äº†æ˜“ç”¨æ€§å’Œçµæ´»æ€§ï¼Œä½¿å®¢æˆ·ç«¯å‘é€ HTTP è¯·æ±‚å˜å¾—å®¹æ˜“ï¼Œæé«˜äº†å¼€å‘çš„æ•ˆç‡ã€‚</p><p><strong>2ï¼‰Okhttp</strong></p><p>ä¸€ä¸ªå¤„ç†ç½‘ç»œè¯·æ±‚çš„å¼€æºé¡¹ç›®ï¼Œæ˜¯å®‰å“ç«¯æœ€ç«çš„è½»é‡çº§æ¡†æ¶ï¼Œç”± Square å…¬å¸è´¡çŒ®ï¼Œç”¨äºæ›¿ä»£ HttpUrlConnection å’Œ Apache HttpClientã€‚OkHttp æ‹¥æœ‰ç®€æ´çš„ APIã€é«˜æ•ˆçš„æ€§èƒ½ï¼Œå¹¶æ”¯æŒå¤šç§åè®®ï¼ˆHTTP/2 å’Œ SPDYï¼‰ã€‚</p><p><strong>3ï¼‰HttpURLConnection</strong></p><p>HttpURLConnection æ˜¯ Java çš„æ ‡å‡†ç±»ï¼Œå®ƒç»§æ‰¿è‡ª URLConnectionï¼Œå¯ç”¨äºå‘æŒ‡å®šç½‘ç«™å‘é€ GET è¯·æ±‚ã€POST è¯·æ±‚ã€‚HttpURLConnection ä½¿ç”¨æ¯”è¾ƒå¤æ‚ï¼Œä¸åƒ HttpClient é‚£æ ·å®¹æ˜“ä½¿ç”¨ã€‚</p><p><strong>4ï¼‰RestTemplate WebClient</strong></p><p>RestTemplate æ˜¯ Spring æä¾›çš„ç”¨äºè®¿é—® Rest æœåŠ¡çš„å®¢æˆ·ç«¯ï¼ŒRestTemplate æä¾›äº†å¤šç§ä¾¿æ·è®¿é—®è¿œç¨‹ HTTP æœåŠ¡çš„æ–¹æ³•ï¼Œèƒ½å¤Ÿå¤§å¤§æé«˜å®¢æˆ·ç«¯çš„ç¼–å†™æ•ˆç‡ã€‚</p><h3 id="ä»€ä¹ˆæ˜¯feign" tabindex="-1"><a class="header-anchor" href="#ä»€ä¹ˆæ˜¯feign" aria-hidden="true">#</a> <strong>ä»€ä¹ˆæ˜¯Feign</strong></h3><p>Feignæ˜¯Netflixå¼€å‘çš„å£°æ˜å¼ã€æ¨¡æ¿åŒ–çš„HTTPå®¢æˆ·ç«¯ï¼Œå…¶çµæ„Ÿæ¥è‡ªRetrofitã€JAXRS-2.0ä»¥åŠWebSocketã€‚</p><p>Feignå¯å¸®åŠ©æˆ‘ä»¬æ›´åŠ ä¾¿æ·ã€ä¼˜é›…åœ°è°ƒç”¨HTTP APIã€‚</p><p>Spring Cloud openfeignå¯¹Feignè¿›è¡Œäº†å¢å¼ºï¼Œä½¿å…¶æ”¯æŒSpring MVCæ³¨è§£ï¼Œå¦å¤–è¿˜æ•´åˆäº†Ribbonå’ŒNacosï¼Œä»è€Œä½¿å¾—Feignçš„ä½¿ç”¨æ›´åŠ æ–¹ä¾¿ï¼ˆæ‰€ä»¥ç°åœ¨æåˆ°FeignåŸºæœ¬éƒ½æ˜¯åœ¨æŒ‡openfeignï¼‰</p><h4 id="ä¼˜åŠ¿" tabindex="-1"><a class="header-anchor" href="#ä¼˜åŠ¿" aria-hidden="true">#</a> ä¼˜åŠ¿</h4><p>Feignå¯ä»¥åšåˆ°ä½¿ç”¨ HTTP è¯·æ±‚è¿œç¨‹æœåŠ¡æ—¶å°±<strong>åƒè°ƒç”¨æœ¬åœ°æ–¹æ³•ä¸€æ ·</strong>çš„ä½“éªŒï¼Œå¼€å‘è€…å®Œå…¨æ„ŸçŸ¥ä¸åˆ°è¿™æ˜¯è¿œç¨‹æ–¹æ³•ï¼Œæ›´æ„ŸçŸ¥ä¸åˆ°è¿™æ˜¯ä¸ª HTTP è¯·æ±‚ã€‚</p><p>å®ƒåƒ Dubbo ä¸€æ ·ï¼Œconsumer ç›´æ¥è°ƒç”¨æ¥å£æ–¹æ³•è°ƒç”¨ providerï¼Œè€Œä¸éœ€è¦é€šè¿‡å¸¸è§„çš„ Http Client æ„é€ è¯·æ±‚å†è§£æè¿”å›æ•°æ®ã€‚å®ƒè§£å†³äº†è®©å¼€å‘è€…è°ƒç”¨è¿œç¨‹æ¥å£å°±è·Ÿè°ƒç”¨æœ¬åœ°æ–¹æ³•ä¸€æ ·ï¼Œæ— éœ€å…³æ³¨ä¸è¿œç¨‹çš„äº¤äº’ç»†èŠ‚ï¼Œæ›´æ— éœ€å…³æ³¨åˆ†å¸ƒå¼ç¯å¢ƒå¼€å‘ã€‚</p><h3 id="spring-cloud-alibabaå¿«é€Ÿæ•´åˆopenfeign-å››æ­¥" tabindex="-1"><a class="header-anchor" href="#spring-cloud-alibabaå¿«é€Ÿæ•´åˆopenfeign-å››æ­¥" aria-hidden="true">#</a> <strong>Spring Cloud Alibabaå¿«é€Ÿæ•´åˆOpenFeign</strong>ï¼ˆå››æ­¥ï¼‰</h3><h4 id="ä¸€ã€å¼•å…¥ä¾èµ–" tabindex="-1"><a class="header-anchor" href="#ä¸€ã€å¼•å…¥ä¾èµ–" aria-hidden="true">#</a> ä¸€ã€å¼•å…¥ä¾èµ–</h4><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code><span class="token comment">&lt;!--åŠ å…¥openfeignä¾èµ–--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.cloud<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-cloud-starter-openfeign<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="äºŒã€ç¼–å†™è°ƒç”¨æ¥å£-feignclientæ³¨è§£" tabindex="-1"><a class="header-anchor" href="#äºŒã€ç¼–å†™è°ƒç”¨æ¥å£-feignclientæ³¨è§£" aria-hidden="true">#</a> äºŒã€ç¼–å†™è°ƒç”¨æ¥å£+@FeignClientæ³¨è§£</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * name æŒ‡å®šè¦è°ƒç”¨çš„æœåŠ¡å
 * path ç›¸å½“äºå¯¹åº”æœåŠ¡çš„ç±»çš„ @RequestMapping(&quot;/stock&quot;) ä¸­çš„å€¼
 */</span>
<span class="token annotation punctuation">@FeignClient</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;mallâ€order&quot;</span><span class="token punctuation">,</span>path <span class="token operator">=</span> <span class="token string">&quot;/order&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">OrderFeignService</span> <span class="token punctuation">{</span>
    <span class="token doc-comment comment">/**
     * å£°æ˜æ–¹æ³•ï¼ŒåŒå¯¹åº”æœåŠ¡çš„å¯¹åº”æ–¹æ³•
     * <span class="token keyword">@return</span>
     */</span>
     <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/findOrderByUserId/{userId}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">R</span> <span class="token function">findOrderByUserId</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">&quot;userId&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> userId<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="ä¸‰ã€è°ƒç”¨ç«¯åœ¨å¯åŠ¨ç±»ä¸Šæ·»åŠ -enablefeignclientsæ³¨è§£" tabindex="-1"><a class="header-anchor" href="#ä¸‰ã€è°ƒç”¨ç«¯åœ¨å¯åŠ¨ç±»ä¸Šæ·»åŠ -enablefeignclientsæ³¨è§£" aria-hidden="true">#</a> ä¸‰ã€è°ƒç”¨ç«¯åœ¨å¯åŠ¨ç±»ä¸Šæ·»åŠ @EnableFeignClientsæ³¨è§£</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token comment">// @EnableDiscoveryClient</span>
<span class="token annotation punctuation">@EnableFeignClients</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderOpenFeignApplication</span> <span class="token punctuation">{</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">OrderOpenFeignApplication</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token comment">/*
    ç”¨äº† openfeign ä¹‹åä¸éœ€è¦RestTemplateäº†
    @Bean
    @LoadBalanced // è´Ÿè½½å‡è¡¡
    public RestTemplate restTemplate(RestTemplateBuilder builder) {
        RestTemplate restTemplate = builder.build();
        return restTemplate;
    }*/</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="å››ã€å‘èµ·è°ƒç”¨-åƒè°ƒç”¨æœ¬åœ°æ–¹å¼ä¸€æ ·è°ƒç”¨è¿œç¨‹æœåŠ¡" tabindex="-1"><a class="header-anchor" href="#å››ã€å‘èµ·è°ƒç”¨-åƒè°ƒç”¨æœ¬åœ°æ–¹å¼ä¸€æ ·è°ƒç”¨è¿œç¨‹æœåŠ¡" aria-hidden="true">#</a> å››ã€å‘èµ·è°ƒç”¨ï¼Œåƒè°ƒç”¨æœ¬åœ°æ–¹å¼ä¸€æ ·è°ƒç”¨è¿œç¨‹æœåŠ¡</h4><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/order&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">OrderController</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">StockFeignService</span> stockFeignService<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token keyword">private</span> <span class="token class-name">ProductFeignService</span> productFeignService<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/add&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ä¸‹å•æˆåŠŸ&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// String msg = restTemplate.getForObject(&quot;http://localhost:8011/stock/reduct&quot;, String.class);</span>
        <span class="token comment">// String msg = restTemplate.getForObject(&quot;http://stock-service/stock/reduct&quot;, String.class);</span>
        <span class="token class-name">String</span> msg <span class="token operator">=</span> stockFeignService<span class="token punctuation">.</span><span class="token function">reduct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> pro <span class="token operator">=</span> productFeignService<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;hello world&quot;</span> <span class="token operator">+</span> msg <span class="token operator">+</span> pro<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="spring-cloud-feignçš„è‡ªå®šä¹‰é…ç½®åŠä½¿ç”¨" tabindex="-1"><a class="header-anchor" href="#spring-cloud-feignçš„è‡ªå®šä¹‰é…ç½®åŠä½¿ç”¨" aria-hidden="true">#</a> <strong>Spring Cloud Feignçš„è‡ªå®šä¹‰é…ç½®åŠä½¿ç”¨</strong></h3><h4 id="æ—¥å¿—é…ç½®" tabindex="-1"><a class="header-anchor" href="#æ—¥å¿—é…ç½®" aria-hidden="true">#</a> <strong>æ—¥å¿—é…ç½®</strong></h4><p>æœ‰æ—¶å€™æˆ‘ä»¬é‡åˆ° Bugï¼Œæ¯”å¦‚æ¥å£è°ƒç”¨å¤±è´¥ã€å‚æ•°æ²¡æ”¶åˆ°ç­‰é—®é¢˜ï¼Œæˆ–è€…æƒ³çœ‹çœ‹è°ƒç”¨æ€§èƒ½ï¼Œå°±éœ€è¦é…ç½® Feign çš„æ—¥å¿—äº†ï¼Œä»¥æ­¤è®© Feign æŠŠè¯·æ±‚ä¿¡æ¯è¾“å‡ºæ¥</p><h5 id="æ—¥å¿—ç­‰çº§" tabindex="-1"><a class="header-anchor" href="#æ—¥å¿—ç­‰çº§" aria-hidden="true">#</a> æ—¥å¿—ç­‰çº§</h5><ol><li><strong><code>NONE</code></strong>ã€æ€§èƒ½æœ€ä½³ï¼Œé€‚ç”¨äºç”Ÿäº§ã€‘ï¼šä¸è®°å½•ä»»ä½•æ—¥å¿—ï¼ˆé»˜è®¤å€¼ï¼‰ã€‚</li><li><strong><code>BASIC</code></strong>ã€é€‚ç”¨äºç”Ÿäº§ç¯å¢ƒè¿½è¸ªé—®é¢˜ã€‘ï¼šä»…è®°å½•è¯·æ±‚æ–¹æ³•ã€URLã€å“åº”çŠ¶æ€ä»£ç ä»¥åŠæ‰§è¡Œæ—¶é—´ã€‚</li><li><strong><code>HEADERS</code></strong>ï¼šè®°å½•BASICçº§åˆ«çš„åŸºç¡€ä¸Šï¼Œè®°å½•è¯·æ±‚å’Œå“åº”çš„headerã€‚</li><li><strong><code>FULL</code></strong>ã€æ¯”è¾ƒé€‚ç”¨äºå¼€å‘åŠæµ‹è¯•ç¯å¢ƒå®šä½é—®é¢˜ã€‘ï¼šè®°å½•è¯·æ±‚å’Œå“åº”çš„headerã€bodyå’Œå…ƒæ•°æ®ã€‚</li></ol><h5 id="é…ç½®æ–¹æ³•" tabindex="-1"><a class="header-anchor" href="#é…ç½®æ–¹æ³•" aria-hidden="true">#</a> é…ç½®æ–¹æ³•</h5><h6 id="_1-å®šä¹‰ä¸€ä¸ªé…ç½®ç±»-æŒ‡å®šæ—¥å¿—çº§åˆ«" tabindex="-1"><a class="header-anchor" href="#_1-å®šä¹‰ä¸€ä¸ªé…ç½®ç±»-æŒ‡å®šæ—¥å¿—çº§åˆ«" aria-hidden="true">#</a> <strong>1ï¼‰å®šä¹‰ä¸€ä¸ªé…ç½®ç±»ï¼ŒæŒ‡å®šæ—¥å¿—çº§åˆ«</strong></h6><blockquote><p>åŠ <code>@Configuration</code>ä»£è¡¨æ˜¯å…¨å±€é…ç½®</p><p>ä¸åŠ <code>@Configuration</code>æ˜¯[å±€éƒ¨é…ç½®](# å±€éƒ¨é…ç½®ï¼Œè®©è°ƒç”¨çš„å¾®æœåŠ¡ç”Ÿæ•ˆï¼Œåœ¨@FeignClient æ³¨è§£ä¸­æŒ‡å®šä½¿ç”¨çš„é…ç½®ç±»)</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * åŠ äº† @Configuration ä¼šä½¿é…ç½®ä½œç”¨åœ¨æ‰€æœ‰çš„æœåŠ¡æä¾›æ–¹ï¼ˆå…¨å±€é…ç½®ï¼‰
 * ä¸åŠ  @Configuration ï¼Œå¯ä»¥é’ˆå¯¹æŸä¸ªæˆ–æŸå‡ ä¸ªæœåŠ¡æä¾›æ–¹è¿›è¡Œé…ç½®ï¼ˆå±€éƒ¨é…ç½®ï¼‰
 */</span>
<span class="token annotation punctuation">@Configuration</span> <span class="token comment">// å…¨å±€é…ç½®</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FeignConfig</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">Logger<span class="token punctuation">.</span>Level</span> <span class="token function">feignLoggerLevel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token comment">// è®¾ç½®è¿”å›æ—¥å¿—çš„çº§åˆ«</span>
        <span class="token keyword">return</span> <span class="token class-name">Logger<span class="token punctuation">.</span>Level</span><span class="token punctuation">.</span><span class="token constant">FULL</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h6 id="_2-ä¿®æ”¹ymlæ—¥å¿—çº§åˆ«" tabindex="-1"><a class="header-anchor" href="#_2-ä¿®æ”¹ymlæ—¥å¿—çº§åˆ«" aria-hidden="true">#</a> 2) ä¿®æ”¹ymlæ—¥å¿—çº§åˆ«</h6><blockquote><p>æ ¼å¼æ˜¯<code>logging.level.feignæ¥å£åŒ…è·¯å¾„=debug</code></p></blockquote><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token comment"># SpringBoot é»˜è®¤æ—¥å¿—ç­‰çº§ä¸º infoï¼Œå¦‚æœä¸è¿›è¡Œå¦‚ä¸‹ä¿®æ”¹ï¼Œfeign çš„ debug æ—¥å¿—ç­‰çº§å°±ä¸ä¼šè¾“å‡º</span>
<span class="token key atrule">logging</span><span class="token punctuation">:</span>
  <span class="token key atrule">level</span><span class="token punctuation">:</span> <span class="token comment"># å¦‚æœåœ¨è¿™é‡Œé…ï¼Œå°±æ˜¯æ‰€æœ‰æ—¥å¿—ç­‰çº§éƒ½ä¿®æ”¹</span>
    <span class="token key atrule">com.xiaohuowa.order.feign</span><span class="token punctuation">:</span> debug  <span class="token comment"># åœ¨è¿™é‡ŒæŒ‡å®šåŒ…æ¥é…ï¼Œå¯ä»¥è®©éƒ¨åˆ†æ”¹å˜æ—¥å¿—ç­‰çº§</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h6 id="å±€éƒ¨é…ç½®-è®©è°ƒç”¨çš„å¾®æœåŠ¡ç”Ÿæ•ˆ-åœ¨-feignclient-æ³¨è§£ä¸­æŒ‡å®šä½¿ç”¨çš„é…ç½®ç±»" tabindex="-1"><a class="header-anchor" href="#å±€éƒ¨é…ç½®-è®©è°ƒç”¨çš„å¾®æœåŠ¡ç”Ÿæ•ˆ-åœ¨-feignclient-æ³¨è§£ä¸­æŒ‡å®šä½¿ç”¨çš„é…ç½®ç±»" aria-hidden="true">#</a> å±€éƒ¨é…ç½®ï¼Œè®©è°ƒç”¨çš„å¾®æœåŠ¡ç”Ÿæ•ˆï¼Œåœ¨@FeignClient æ³¨è§£ä¸­æŒ‡å®šä½¿ç”¨çš„é…ç½®ç±»</h6><blockquote><p>æ³¨æ„ï¼šç”¨å±€éƒ¨é…ç½®ä¹‹åï¼Œé…ç½®ç±»ä¸èƒ½åŠ <code>@Configuration</code>æ³¨è§£ï¼</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * name æŒ‡å®šè¦è°ƒç”¨çš„æœåŠ¡å
 * path ç›¸å½“äºå¯¹åº”æœåŠ¡çš„ç±»çš„ @RequestMapping(&quot;/stock&quot;) ä¸­çš„å€¼
 * configuration å¯ä»¥æŒ‡å®šä¸€ä¸ª feign çš„å±€éƒ¨é…ç½®
 */</span>
<span class="token annotation punctuation">@FeignClient</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;stock-service&quot;</span><span class="token punctuation">,</span> path <span class="token operator">=</span> <span class="token string">&quot;/stock&quot;</span><span class="token punctuation">,</span> configuration <span class="token operator">=</span> <span class="token class-name">FeignConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">StockFeignService</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * å£°æ˜æ–¹æ³•ï¼ŒåŒå¯¹åº”æœåŠ¡çš„å¯¹åº”æ–¹æ³•
     * <span class="token keyword">@return</span>
     */</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/reduct&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">reduct</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h6 id="è¡¥å……-å±€éƒ¨é…ç½®å¯ä»¥åœ¨ymlä¸­é…ç½®" tabindex="-1"><a class="header-anchor" href="#è¡¥å……-å±€éƒ¨é…ç½®å¯ä»¥åœ¨ymlä¸­é…ç½®" aria-hidden="true">#</a> <strong>è¡¥å……ï¼šå±€éƒ¨é…ç½®å¯ä»¥åœ¨ymlä¸­é…ç½®</strong></h6><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token comment"># feign æ—¥å¿—ï¼Œå±€éƒ¨é…ç½®</span>
<span class="token key atrule">feign</span><span class="token punctuation">:</span>
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token key atrule">config</span><span class="token punctuation">:</span>
      <span class="token key atrule">product-service</span><span class="token punctuation">:</span> <span class="token comment"># æŒ‡å®šæœåŠ¡æä¾›æ–¹åå­—</span>
        <span class="token key atrule">logger-level</span><span class="token punctuation">:</span> BASIC
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="å¥‘çº¦é…ç½®-è®©é«˜ç‰ˆæœ¬æ”¯æŒcloudæ”¯æŒfeignåŸç”Ÿæ³¨è§£" tabindex="-1"><a class="header-anchor" href="#å¥‘çº¦é…ç½®-è®©é«˜ç‰ˆæœ¬æ”¯æŒcloudæ”¯æŒfeignåŸç”Ÿæ³¨è§£" aria-hidden="true">#</a> <strong>å¥‘çº¦é…ç½®ï¼ˆè®©é«˜ç‰ˆæœ¬æ”¯æŒCloudæ”¯æŒFeignåŸç”Ÿæ³¨è§£ï¼‰</strong></h4><p>â€‹ Spring Cloud åœ¨ Feign çš„åŸºç¡€ä¸Šåšäº†æ‰©å±•ï¼Œä½¿ç”¨ Spring MVC çš„æ³¨è§£æ¥å®ŒæˆFeignçš„åŠŸèƒ½ã€‚åŸç”Ÿçš„ Feign æ˜¯ä¸æ”¯æŒ Spring MVC æ³¨è§£çš„ï¼Œå¦‚æœä½ æƒ³åœ¨ Spring Cloud ä¸­ä½¿ç”¨åŸç”Ÿçš„æ³¨è§£æ–¹å¼æ¥å®šä¹‰å®¢æˆ·ç«¯ä¹Ÿæ˜¯å¯ä»¥çš„ï¼Œé€šè¿‡é…ç½®å¥‘çº¦æ¥æ”¹å˜è¿™ä¸ªé…ç½®ï¼ŒSpring Cloud ä¸­é»˜è®¤çš„æ˜¯ SpringMvcContractã€‚</p><p>â€‹ Spring Cloud 1 æ—©æœŸç‰ˆæœ¬å°±æ˜¯ç”¨çš„åŸç”ŸFegin. éšç€netflixçš„åœæ›´æ›¿æ¢æˆäº†Open feign</p><blockquote><p>æ³¨æ„ï¼šä¿®æ”¹å¥‘çº¦é…ç½®åï¼ŒOrderFeignService <code>ä¸å†æ”¯æŒ</code>springmvcçš„æ³¨è§£ï¼Œéœ€è¦ä½¿ç”¨FeignåŸç”Ÿçš„æ³¨è§£</p></blockquote><h5 id="é…ç½®æ–‡ä»¶-é…ç½®æ­¥éª¤" tabindex="-1"><a class="header-anchor" href="#é…ç½®æ–‡ä»¶-é…ç½®æ­¥éª¤" aria-hidden="true">#</a> é…ç½®æ–‡ä»¶-é…ç½®æ­¥éª¤</h5><h6 id="_1-ä¿®æ”¹å¥‘çº¦é…ç½®-æ”¯æŒfeignåŸç”Ÿçš„æ³¨è§£" tabindex="-1"><a class="header-anchor" href="#_1-ä¿®æ”¹å¥‘çº¦é…ç½®-æ”¯æŒfeignåŸç”Ÿçš„æ³¨è§£" aria-hidden="true">#</a> <strong>1ï¼‰ä¿®æ”¹å¥‘çº¦é…ç½®ï¼Œæ”¯æŒFeignåŸç”Ÿçš„æ³¨è§£</strong></h6><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token number">1</span> <span class="token doc-comment comment">/**
2 * ä¿®æ”¹å¥‘çº¦é…ç½®ï¼Œæ”¯æŒFeignåŸç”Ÿçš„æ³¨è§£
3 * @return
4 */</span>
<span class="token number">5</span> <span class="token annotation punctuation">@Bean</span>
<span class="token number">6</span> <span class="token keyword">public</span> <span class="token class-name">Contract</span> <span class="token function">feignContract</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token number">7</span> <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Contract<span class="token punctuation">.</span>Default</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">8</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h6 id="_2-orderfeignservice-ä¸­é…ç½®ä½¿ç”¨feignåŸç”Ÿçš„æ³¨è§£" tabindex="-1"><a class="header-anchor" href="#_2-orderfeignservice-ä¸­é…ç½®ä½¿ç”¨feignåŸç”Ÿçš„æ³¨è§£" aria-hidden="true">#</a> <strong>2ï¼‰OrderFeignService ä¸­é…ç½®ä½¿ç”¨FeignåŸç”Ÿçš„æ³¨è§£</strong></h6><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token number">1</span> <span class="token annotation punctuation">@FeignClient</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;mallâ€order&quot;</span><span class="token punctuation">,</span>path <span class="token operator">=</span> <span class="token string">&quot;/order&quot;</span><span class="token punctuation">)</span>
<span class="token number">2</span> <span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">OrderFeignService</span> <span class="token punctuation">{</span>
<span class="token number">3</span>  <span class="token annotation punctuation">@RequestLine</span><span class="token punctuation">(</span><span class="token string">&quot;GET /findOrderByUserId/{userId}&quot;</span><span class="token punctuation">)</span>
<span class="token number">4</span> <span class="token keyword">public</span> <span class="token class-name">R</span> <span class="token function">findOrderByUserId</span><span class="token punctuation">(</span><span class="token annotation punctuation">@Param</span><span class="token punctuation">(</span><span class="token string">&quot;userId&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> userId<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token number">5</span> <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="yml-é…ç½®æ­¥éª¤" tabindex="-1"><a class="header-anchor" href="#yml-é…ç½®æ­¥éª¤" aria-hidden="true">#</a> <strong>yml-é…ç½®æ­¥éª¤</strong></h5><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">feign</span><span class="token punctuation">:</span>
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token key atrule">config</span><span class="token punctuation">:</span>
      <span class="token key atrule">product-service</span><span class="token punctuation">:</span> <span class="token comment"># æŒ‡å®šæœåŠ¡æä¾›æ–¹åå­—</span>
        <span class="token key atrule">logger-level</span><span class="token punctuation">:</span> BASIC
        <span class="token key atrule">contract</span><span class="token punctuation">:</span> feign.Contract.Default  <span class="token comment"># è®¾ç½®ä¸ºé»˜è®¤çš„å¥‘çº¦ ï¼ˆè¿˜åŸæˆåŸç”Ÿçš„æ³¨è§£ï¼‰</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="è‡ªå®šä¹‰æ‹¦æˆªå™¨" tabindex="-1"><a class="header-anchor" href="#è‡ªå®šä¹‰æ‹¦æˆªå™¨" aria-hidden="true">#</a> <strong>è‡ªå®šä¹‰æ‹¦æˆªå™¨</strong></h4><blockquote><p>ä»<code>å®¢æˆ·ç«¯</code>åˆ°<code>æœåŠ¡å™¨</code>ï¼Œä¸­é—´çš„æ‹¦æˆªå™¨æ˜¯MVCçš„</p><p>ä»ä¸€ä¸ª<code>å¾®æœåŠ¡</code>åˆ°å¦ä¸€ä¸ª<code>å¾®æœåŠ¡</code>ï¼Œä¸­é—´æ‹¦æˆªå™¨æ˜¯feignå¯ä»¥é…ç½®çš„</p></blockquote><h5 id="é…ç½®æ–‡ä»¶æ–¹å¼" tabindex="-1"><a class="header-anchor" href="#é…ç½®æ–‡ä»¶æ–¹å¼" aria-hidden="true">#</a> é…ç½®æ–‡ä»¶æ–¹å¼</h5><h6 id="åˆ›å»ºè‡ªå®šä¹‰æ‹¦æˆªå™¨" tabindex="-1"><a class="header-anchor" href="#åˆ›å»ºè‡ªå®šä¹‰æ‹¦æˆªå™¨" aria-hidden="true">#</a> åˆ›å»ºè‡ªå®šä¹‰æ‹¦æˆªå™¨</h6><blockquote><p>éœ€è¦å®ç°<code>RequestInterceptor</code>å¹¶é‡å†™<code>apply</code>æ–¹æ³•</p></blockquote><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token doc-comment comment">/**
 * <span class="token keyword">@author</span> xiaohuowa
 */</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">CustomInterceptor</span> <span class="token keyword">implements</span> <span class="token class-name">RequestInterceptor</span>  <span class="token punctuation">{</span>

    <span class="token class-name">Logger</span> logger <span class="token operator">=</span> <span class="token class-name">LoggerFactory</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">apply</span><span class="token punctuation">(</span><span class="token class-name">RequestTemplate</span> requestTemplate<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// ç»™ header åŠ ä¸œè¥¿</span>
        requestTemplate<span class="token punctuation">.</span><span class="token function">header</span><span class="token punctuation">(</span><span class="token string">&quot;haha&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;123&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// ç»™è¯·æ±‚å‚æ•°åŠ ä¸œè¥¿</span>
        requestTemplate<span class="token punctuation">.</span><span class="token function">query</span><span class="token punctuation">(</span><span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;zhangsan&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// ä¿®æ”¹uri</span>
        requestTemplate<span class="token punctuation">.</span><span class="token function">uri</span><span class="token punctuation">(</span><span class="token string">&quot;/999&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// è‡ªå®šä¹‰è®°å½•æ—¥å¿—æ“ä½œ</span>
        logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;è¿™é‡Œæ˜¯ feign çš„æ‹¦æˆªå™¨&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h6 id="åœ¨é…ç½®æ–‡ä»¶ä¸­åˆ›å»ºæ‹¦æˆªå™¨å®ä¾‹" tabindex="-1"><a class="header-anchor" href="#åœ¨é…ç½®æ–‡ä»¶ä¸­åˆ›å»ºæ‹¦æˆªå™¨å®ä¾‹" aria-hidden="true">#</a> åœ¨é…ç½®æ–‡ä»¶ä¸­åˆ›å»ºæ‹¦æˆªå™¨å®ä¾‹</h6><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span> <span class="token comment">// å…¨å±€é…ç½®</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FeignConfig</span> <span class="token punctuation">{</span>

    <span class="token doc-comment comment">/**
     * è‡ªå®šä¹‰æ‹¦æˆªå™¨
     * <span class="token keyword">@return</span>
     */</span>
    <span class="token keyword">public</span> <span class="token class-name">CustomInterceptor</span> <span class="token function">customInterceptor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">CustomInterceptor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="ymlé…ç½®" tabindex="-1"><a class="header-anchor" href="#ymlé…ç½®" aria-hidden="true">#</a> <strong>ymlé…ç½®</strong></h5><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">feign</span><span class="token punctuation">:</span>
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token key atrule">config</span><span class="token punctuation">:</span>
      <span class="token key atrule">product-service</span><span class="token punctuation">:</span> <span class="token comment"># æŒ‡å®šæœåŠ¡æä¾›æ–¹åå­—</span>
        <span class="token key atrule">logger-level</span><span class="token punctuation">:</span> BASIC
        <span class="token key atrule">connect-timeout</span><span class="token punctuation">:</span> <span class="token number">1000</span>  <span class="token comment"># è¿æ¥è¶…æ—¶æ—¶é—´ï¼Œé»˜è®¤2s</span>
        <span class="token key atrule">read-timeout</span><span class="token punctuation">:</span> <span class="token number">10000</span>  <span class="token comment"># è¯·æ±‚å¤„ç†è¶…æ—¶æ—¶é—´ï¼Œé»˜è®¤5s</span>
        <span class="token key atrule">request-interceptors</span><span class="token punctuation">:</span>
          <span class="token punctuation">-</span> com.xiaohuowa.order.interceptor.feign.CustomInterceptor  <span class="token comment"># é…ç½®è‡ªå®šä¹‰çš„æ‹¦æˆªå™¨</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="è¶…æ—¶æ—¶é—´é…ç½®" tabindex="-1"><a class="header-anchor" href="#è¶…æ—¶æ—¶é—´é…ç½®" aria-hidden="true">#</a> <strong>è¶…æ—¶æ—¶é—´é…ç½®</strong></h4><blockquote><p>è¡¥å……è¯´æ˜ï¼š Feignçš„åº•å±‚ç”¨çš„æ˜¯Ribbonï¼Œä½†è¶…æ—¶æ—¶é—´ä»¥Feigné…ç½®ä¸ºå‡†</p></blockquote><p>é€šè¿‡ Options å¯ä»¥é…ç½®è¿æ¥è¶…æ—¶æ—¶é—´å’Œè¯»å–è¶…æ—¶æ—¶é—´</p><ol><li>Options çš„ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯è¿æ¥çš„è¶…æ—¶æ—¶é—´ï¼ˆmsï¼‰ï¼Œé»˜è®¤å€¼æ˜¯ <code>2s</code>ï¼›</li><li>ç¬¬äºŒä¸ªæ˜¯è¯·æ±‚å¤„ç†çš„è¶…æ—¶æ—¶é—´ï¼ˆmsï¼‰ï¼Œé»˜è®¤å€¼æ˜¯ <code>5s</code>ã€‚</li></ol><h5 id="å…¨å±€é…ç½®" tabindex="-1"><a class="header-anchor" href="#å…¨å±€é…ç½®" aria-hidden="true">#</a> <strong>å…¨å±€é…ç½®</strong></h5><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span> <span class="token comment">// å…¨å±€é…ç½®</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FeignConfig</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">Request<span class="token punctuation">.</span>Options</span> <span class="token function">options</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token doc-comment comment">/**
         * è¿™é‡Œè®¾ç½®è¿æ¥è¶…æ—¶æ—¶é—´ä¸ºï¼š1s
         * è¯»å–ï¼ˆå“åº”ï¼‰è¶…æ—¶æ—¶é—´ä¸ºï¼š3s
         */</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Request<span class="token punctuation">.</span>Options</span><span class="token punctuation">(</span><span class="token number">1000</span><span class="token punctuation">,</span> <span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="ymlä¸­é…ç½®" tabindex="-1"><a class="header-anchor" href="#ymlä¸­é…ç½®" aria-hidden="true">#</a> <strong>ymlä¸­é…ç½®</strong></h5><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">feign</span><span class="token punctuation">:</span>
  <span class="token key atrule">client</span><span class="token punctuation">:</span>
    <span class="token key atrule">config</span><span class="token punctuation">:</span>
      <span class="token key atrule">product-service</span><span class="token punctuation">:</span> <span class="token comment"># æŒ‡å®šæœåŠ¡æä¾›æ–¹åå­—</span>
        <span class="token key atrule">logger-level</span><span class="token punctuation">:</span> BASIC
        <span class="token key atrule">connect-timeout</span><span class="token punctuation">:</span> <span class="token number">1000</span>  <span class="token comment"># è¿æ¥è¶…æ—¶æ—¶é—´ï¼Œé»˜è®¤2s</span>
        <span class="token key atrule">read-timeout</span><span class="token punctuation">:</span> <span class="token number">3000</span>  <span class="token comment"># è¯·æ±‚å¤„ç†è¶…æ—¶æ—¶é—´ï¼Œé»˜è®¤5s</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="å®¢æˆ·ç«¯ç»„ä»¶é…ç½®" tabindex="-1"><a class="header-anchor" href="#å®¢æˆ·ç«¯ç»„ä»¶é…ç½®" aria-hidden="true">#</a> <strong>å®¢æˆ·ç«¯ç»„ä»¶é…ç½®</strong></h4><p>Feign ä¸­é»˜è®¤ä½¿ç”¨ JDK åŸç”Ÿçš„ URLConnection å‘é€ HTTP è¯·æ±‚ï¼Œæˆ‘ä»¬å¯ä»¥é›†æˆåˆ«çš„ç»„ä»¶æ¥æ›¿æ¢æ‰ URLConnectionï¼Œæ¯”å¦‚ Apache HttpClientï¼ŒOkHttp</p><h5 id="é…ç½®apache-httpclient" tabindex="-1"><a class="header-anchor" href="#é…ç½®apache-httpclient" aria-hidden="true">#</a> <strong>é…ç½®Apache HttpClient</strong></h5><blockquote><p>å…³äºé…ç½®å¯å‚è€ƒæºç ï¼š org.springframework.cloud.openfeign.FeignAutoConfiguration</p></blockquote><h6 id="å¼•å…¥ä¾èµ–" tabindex="-1"><a class="header-anchor" href="#å¼•å…¥ä¾èµ–" aria-hidden="true">#</a> å¼•å…¥ä¾èµ–</h6><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>1 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>!â€â€</span> <span class="token attr-name">Apache</span> <span class="token attr-name">HttpClient</span> <span class="token attr-name">â€â€</span><span class="token punctuation">&gt;</span></span>
2 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
3 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.httpcomponents<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
4 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>httpclient<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
5 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>4.5.7<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
6 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
7 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
8 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>io.github.openfeign<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
9 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>feignâ€httpclient<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
10 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>10.1.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
11 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h6 id="ä¿®æ”¹ymlé…ç½®" tabindex="-1"><a class="header-anchor" href="#ä¿®æ”¹ymlé…ç½®" aria-hidden="true">#</a> ä¿®æ”¹ymlé…ç½®</h6><p>åœ¨ymlä¸­å¯ç”¨ HttpClient</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">1 feign</span><span class="token punctuation">:</span>
2  <span class="token comment">#feign ä½¿ç”¨ Apache HttpClient å¯ä»¥å¿½ç•¥ï¼Œé»˜è®¤å¼€å¯</span>
3  httpclient<span class="token punctuation">:</span>
4  enabled<span class="token punctuation">:</span> <span class="token boolean important">true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="é…ç½®-okhttp" tabindex="-1"><a class="header-anchor" href="#é…ç½®-okhttp" aria-hidden="true">#</a> <strong>é…ç½® OkHttp</strong></h5><blockquote><p>å…³äºé…ç½®å¯å‚è€ƒæºç ï¼š org.springframework.cloud.openfeign.FeignAutoConfiguration</p></blockquote><h6 id="å¼•å…¥ä¾èµ–-1" tabindex="-1"><a class="header-anchor" href="#å¼•å…¥ä¾èµ–-1" aria-hidden="true">#</a> å¼•å…¥ä¾èµ–</h6><div class="language-xml line-numbers-mode" data-ext="xml"><pre class="language-xml"><code>1 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
2     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>io.github.openfeign<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
3     <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>feignâ€okhttp<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
4 <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h6 id="ä¿®æ”¹yml" tabindex="-1"><a class="header-anchor" href="#ä¿®æ”¹yml" aria-hidden="true">#</a> ä¿®æ”¹yml</h6><p>å°† Feign çš„ HttpClient ç¦ç”¨ï¼Œå¯ç”¨ OkHttpï¼Œé…ç½®å¦‚ä¸‹ï¼š</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">1 feign</span><span class="token punctuation">:</span>
2  <span class="token comment">#feign ä½¿ç”¨ okhttp</span>
3  httpclient<span class="token punctuation">:</span>
4  enabled<span class="token punctuation">:</span> <span class="token boolean important">false</span>
5  okhttp<span class="token punctuation">:</span>
6  enabled<span class="token punctuation">:</span> <span class="token boolean important">true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="gzip-å‹ç¼©é…ç½®" tabindex="-1"><a class="header-anchor" href="#gzip-å‹ç¼©é…ç½®" aria-hidden="true">#</a> <strong>GZIP å‹ç¼©é…ç½®</strong></h4><blockquote><p>æ³¨æ„ï¼šåªæœ‰å½“ Feign çš„ Http Client <strong>ä¸æ˜¯ okhttp3 çš„æ—¶å€™ï¼Œå‹ç¼©æ‰ä¼šç”Ÿæ•ˆ</strong>ï¼Œé…ç½®æºç åœ¨FeignAcceptGzipEncodingAutoConfiguration</p></blockquote><p>å¼€å¯å‹ç¼©å¯ä»¥æœ‰æ•ˆèŠ‚çº¦ç½‘ç»œèµ„æºï¼Œæå‡æ¥å£æ€§èƒ½ï¼Œæˆ‘ä»¬å¯ä»¥é…ç½® GZIP æ¥å‹ç¼©æ•°æ®ï¼š</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">1 feign</span><span class="token punctuation">:</span>
2  <span class="token comment"># é…ç½® GZIP æ¥å‹ç¼©æ•°æ®</span>
3  compression<span class="token punctuation">:</span>
4  request<span class="token punctuation">:</span>
5  enabled<span class="token punctuation">:</span> <span class="token boolean important">true</span>
6  <span class="token comment"># é…ç½®å‹ç¼©çš„ç±»å‹</span>
7  mimeâ€types<span class="token punctuation">:</span> text/xml<span class="token punctuation">,</span>application/xml<span class="token punctuation">,</span>application/json
8  <span class="token comment"># æœ€å°å‹ç¼©å€¼</span>
å›¾çµè¯¾å ‚
9  minâ€requestâ€size<span class="token punctuation">:</span> <span class="token number">2048</span>
10  response<span class="token punctuation">:</span>
11  enabled<span class="token punctuation">:</span> <span class="token boolean important">true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h5 id="ä¸ºä»€ä¹ˆåœ¨okhttp3çš„æ—¶å€™ä¸ä¼šç”Ÿæ•ˆ" tabindex="-1"><a class="header-anchor" href="#ä¸ºä»€ä¹ˆåœ¨okhttp3çš„æ—¶å€™ä¸ä¼šç”Ÿæ•ˆ" aria-hidden="true">#</a> ä¸ºä»€ä¹ˆåœ¨okhttp3çš„æ—¶å€™ä¸ä¼šç”Ÿæ•ˆï¼Ÿ</h5><p>æ ¸å¿ƒä»£ç å°±æ˜¯ <code>@ConditionalOnMissingBeanï¼ˆtype=&quot;okhttp3.OkHttpClient&quot;ï¼‰</code>ï¼Œè¡¨ç¤º Spring BeanFactory ä¸­<strong>ä¸åŒ…å«</strong>æŒ‡å®šçš„ bean æ—¶æ¡ä»¶åŒ¹é…ï¼Œä¹Ÿå°±æ˜¯æ²¡æœ‰å¯ç”¨ okhttp3 æ—¶æ‰ä¼šè¿›è¡Œå‹ç¼©é…ç½®ã€‚</p><p>â€‹</p><h2 id="sentinel" tabindex="-1"><a class="header-anchor" href="#sentinel" aria-hidden="true">#</a> sentinel</h2><p><a href="https://github.com/alibaba/Sentinel/wiki/%E5%A6%82%E4%BD%95%E4%BD%BF%E7%94%A8" target="_blank" rel="noopener noreferrer">sentinelå¿«é€Ÿå¼€å§‹<span><svg class="external-link-icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg><span class="external-link-icon-sr-only">open in new window</span></span></a></p><blockquote><p>é»˜è®¤æ˜¯æ‡’åŠ è½½çš„ï¼Œå¿…é¡»å…ˆè®¿é—®ä¸€æ¬¡æœåŠ¡ä¹‹åæ‰ä¼šå‡ºç°åœ¨æ§åˆ¶å°ä¸Š</p><p>å¯ä»¥é€šè¿‡é…ç½®å–æ¶ˆæ‡’åŠ è½½</p><div class="language-yaml line-numbers-mode" data-ext="yml"><pre class="language-yaml"><code><span class="token key atrule">sentinel</span><span class="token punctuation">:</span>  
<span class="token key atrule">eager</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div></blockquote><h5 id="é™çº§" tabindex="-1"><a class="header-anchor" href="#é™çº§" aria-hidden="true">#</a> é™çº§</h5><p>å®šä¹‰é™çº§é€»è¾‘</p><p>ä¸¤ç§æ–¹æ³•ï¼š</p><p>1ï¼‰fallback</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@FeignClient</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;media-api&quot;</span><span class="token punctuation">,</span>configuration <span class="token operator">=</span> <span class="token class-name">MultipartSupportConfig</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>fallback <span class="token operator">=</span> <span class="token class-name">MediaServiceClientFallback</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/media&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">MediaServiceClient</span><span class="token punctuation">{</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å®šä¹‰ä¸€ä¸ªfallbackç±»MediaServiceClientFallbackï¼Œæ­¤ç±»å®ç°äº†MediaServiceClientæ¥å£ã€‚</p><p>è¿™ç§æ–¹æ³•<strong>æ— æ³•å–å‡ºç†”æ–­æ‰€æŠ›å‡ºçš„å¼‚å¸¸</strong>ï¼Œè€Œç¬¬äºŒç§æ–¹æ³•å®šä¹‰FallbackFactory å¯ä»¥è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p><p>2ï¼‰fallbackFactory</p><p>ç¬¬äºŒç§æ–¹æ³•åœ¨FeignClientä¸­æŒ‡å®šfallbackFactory ï¼Œå¦‚ä¸‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@FeignClient</span><span class="token punctuation">(</span>value <span class="token operator">=</span> <span class="token string">&quot;media-api&quot;</span><span class="token punctuation">,</span>
             configuration <span class="token operator">=</span> <span class="token class-name">M</span>  ultipartSupportConfig<span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span>
             fallbackFactory <span class="token operator">=</span> <span class="token class-name">MediaServiceClientFallbackFactory</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>å®šä¹‰MediaServiceClientFallbackFactoryå¦‚ä¸‹ï¼š</p><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token annotation punctuation">@Slf4j</span>
<span class="token annotation punctuation">@Component</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MediaServiceClientFallbackFactory</span> <span class="token keyword">implements</span> <span class="token class-name">FallbackFactory</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">MediaServiceClient</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">MediaServiceClient</span> <span class="token function">create</span><span class="token punctuation">(</span><span class="token class-name">Throwable</span> throwable<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">MediaServiceClient</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
            <span class="token annotation punctuation">@Override</span>
            <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">uploadFile</span><span class="token punctuation">(</span><span class="token class-name">MultipartFile</span> upload<span class="token punctuation">,</span> <span class="token class-name">String</span> objectName<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token comment">//é™çº§æ–¹æ³•</span>
                log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">&quot;è°ƒç”¨åª’èµ„ç®¡ç†æœåŠ¡ä¸Šä¼ æ–‡ä»¶æ—¶å‘ç”Ÿç†”æ–­ï¼Œå¼‚å¸¸ä¿¡æ¯:{}&quot;</span><span class="token punctuation">,</span>throwable<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>throwable<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>é™çº§å¤„ç†é€»è¾‘ï¼š</p><p>è¿”å›ä¸€ä¸ªnullå¯¹è±¡ï¼Œä¸Šæ¸¸æœåŠ¡è¯·æ±‚æ¥å£å¾—åˆ°ä¸€ä¸ªnullè¯´æ˜æ‰§è¡Œäº†é™çº§å¤„ç†ã€‚</p></div></div><footer class="page-meta"><div class="meta-item edit-link"><span class="xicon-container left meta-item-label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M2 26h28v2H2z" fill="currentColor"></path><path d="M25.4 9c.8-.8.8-2 0-2.8l-3.6-3.6c-.8-.8-2-.8-2.8 0l-15 15V24h6.4l15-15zm-5-5L24 7.6l-3 3L17.4 7l3-3zM6 22v-3.6l10-10l3.6 3.6l-10 10H6z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Edit this page<!--]--></span></span></div><div class="meta-item last-updated"><span class="xicon-container left meta-item-label"><!--[--><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 32 32" class="xicon-icon" style="width:20px;height:20px;font-size:20px;color:inherit;"><path d="M26 4h-4V2h-2v2h-8V2h-2v2H6c-1.1 0-2 .9-2 2v20c0 1.1.9 2 2 2h20c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 22H6V12h20v14zm0-16H6V6h4v2h2V6h8v2h2V6h4v4z" fill="currentColor"></path></svg><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->æœ€è¿‘æ›´æ–°æ—¶é—´ 11/3/2023, 4:29:16 PM<!--]--></span></span></div></footer><!----><!----></main><!--]--><div class="page-catalog-container"><h5 class="tip">ON THIS PAGE</h5><ul><!--[--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/note/blogs/SpringCloud/MyNote_SpringCloud.html#å¾®æœåŠ¡æ¶æ„æ¼”åŒ–" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="å¾®æœåŠ¡æ¶æ„æ¼”åŒ–"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->å¾®æœåŠ¡æ¶æ„æ¼”åŒ–<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/note/blogs/SpringCloud/MyNote_SpringCloud.html#ä»å•ä½“åˆ°å¾®æœåŠ¡" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="ä»å•ä½“åˆ°å¾®æœåŠ¡"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->ä»å•ä½“åˆ°å¾®æœåŠ¡<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/note/blogs/SpringCloud/MyNote_SpringCloud.html#å¾®æœåŠ¡æ¶æ„çš„é—®é¢˜ä»¥åŠè§£å†³æ–¹å¼" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="å¾®æœåŠ¡æ¶æ„çš„é—®é¢˜ä»¥åŠè§£å†³æ–¹å¼"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->å¾®æœåŠ¡æ¶æ„çš„é—®é¢˜ä»¥åŠè§£å†³æ–¹å¼<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/note/blogs/SpringCloud/MyNote_SpringCloud.html#eureka" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="Eureka"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Eureka<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/note/blogs/SpringCloud/MyNote_SpringCloud.html#é›†ç¾¤" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="é›†ç¾¤"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->é›†ç¾¤<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/note/blogs/SpringCloud/MyNote_SpringCloud.html#åˆ†å¸ƒå¼æ•°æ®ä¸€è‡´æ€§åè®®" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="åˆ†å¸ƒå¼æ•°æ®ä¸€è‡´æ€§åè®®"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->åˆ†å¸ƒå¼æ•°æ®ä¸€è‡´æ€§åè®®<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/note/blogs/SpringCloud/MyNote_SpringCloud.html#eureka-æ¦‚å¿µçš„ç†è§£" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="Eureka æ¦‚å¿µçš„ç†è§£"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Eureka æ¦‚å¿µçš„ç†è§£<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/note/blogs/SpringCloud/MyNote_SpringCloud.html#æœåŠ¡å‘ç°-æºå¤´" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="æœåŠ¡å‘ç°ï¼ˆæºå¤´ï¼‰"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->æœåŠ¡å‘ç°ï¼ˆæºå¤´ï¼‰<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/note/blogs/SpringCloud/MyNote_SpringCloud.html#resttemplateå‘é€åŒæ­¥restè¯·æ±‚" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="RestTemplateå‘é€åŒæ­¥RESTè¯·æ±‚"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->RestTemplateå‘é€åŒæ­¥RESTè¯·æ±‚<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/note/blogs/SpringCloud/MyNote_SpringCloud.html#ribbon" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="Ribbon"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Ribbon<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/note/blogs/SpringCloud/MyNote_SpringCloud.html#æ¦‚è¿°" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="æ¦‚è¿°"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->æ¦‚è¿°<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/note/blogs/SpringCloud/MyNote_SpringCloud.html#è´Ÿè½½å‡è¡¡" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="è´Ÿè½½å‡è¡¡"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->è´Ÿè½½å‡è¡¡<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/note/blogs/SpringCloud/MyNote_SpringCloud.html#å¸¸è§è´Ÿè½½å‡è¡¡ç®—æ³•" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="å¸¸è§è´Ÿè½½å‡è¡¡ç®—æ³•"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->å¸¸è§è´Ÿè½½å‡è¡¡ç®—æ³•<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/note/blogs/SpringCloud/MyNote_SpringCloud.html#å…¥é—¨ä½¿ç”¨" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="å…¥é—¨ä½¿ç”¨"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->å…¥é—¨ä½¿ç”¨<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/note/blogs/SpringCloud/MyNote_SpringCloud.html#ä¿®æ”¹é»˜è®¤è´Ÿè½½å‡è¡¡ç­–ç•¥" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="ä¿®æ”¹é»˜è®¤è´Ÿè½½å‡è¡¡ç­–ç•¥"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->ä¿®æ”¹é»˜è®¤è´Ÿè½½å‡è¡¡ç­–ç•¥<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/note/blogs/SpringCloud/MyNote_SpringCloud.html#è‡ªå®šä¹‰è´Ÿè½½å‡è¡¡ç­–ç•¥" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="è‡ªå®šä¹‰è´Ÿè½½å‡è¡¡ç­–ç•¥"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->è‡ªå®šä¹‰è´Ÿè½½å‡è¡¡ç­–ç•¥<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/note/blogs/SpringCloud/MyNote_SpringCloud.html#é¥¥é¥¿åŠ è½½" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="é¥¥é¥¿åŠ è½½"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->é¥¥é¥¿åŠ è½½<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/note/blogs/SpringCloud/MyNote_SpringCloud.html#nacos" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="Nacos"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Nacos<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/note/blogs/SpringCloud/MyNote_SpringCloud.html#æ˜¯ä»€ä¹ˆ" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="æ˜¯ä»€ä¹ˆ"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->æ˜¯ä»€ä¹ˆ<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/note/blogs/SpringCloud/MyNote_SpringCloud.html#æ‰§è¡Œè¿‡ç¨‹-æµç¨‹" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="æ‰§è¡Œè¿‡ç¨‹/æµç¨‹"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->æ‰§è¡Œè¿‡ç¨‹/æµç¨‹<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/note/blogs/SpringCloud/MyNote_SpringCloud.html#ä¸å…¶ä»–æ³¨å†Œä¸­å¿ƒå¯¹æ¯”" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="ä¸å…¶ä»–æ³¨å†Œä¸­å¿ƒå¯¹æ¯”"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->ä¸å…¶ä»–æ³¨å†Œä¸­å¿ƒå¯¹æ¯”<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/note/blogs/SpringCloud/MyNote_SpringCloud.html#æ ¸å¿ƒåŠŸèƒ½" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="æ ¸å¿ƒåŠŸèƒ½"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->æ ¸å¿ƒåŠŸèƒ½<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/note/blogs/SpringCloud/MyNote_SpringCloud.html#é…ç½®" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="é…ç½®"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->é…ç½®<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/note/blogs/SpringCloud/MyNote_SpringCloud.html#æ³¨å†Œä¸­å¿ƒ-å…¥é—¨ç”¨æ³•" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="æ³¨å†Œä¸­å¿ƒ-å…¥é—¨ç”¨æ³•"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->æ³¨å†Œä¸­å¿ƒ-å…¥é—¨ç”¨æ³•<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/note/blogs/SpringCloud/MyNote_SpringCloud.html#é…ç½®ä¸­å¿ƒ" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="é…ç½®ä¸­å¿ƒ"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->é…ç½®ä¸­å¿ƒ<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/note/blogs/SpringCloud/MyNote_SpringCloud.html#feign" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="Feign"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Feign<!--]--></span></span><!--[--><!--]--></a></li><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/note/blogs/SpringCloud/MyNote_SpringCloud.html#java-é¡¹ç›®ä¸­å¦‚ä½•å®ç°æ¥å£è°ƒç”¨" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="JAVA é¡¹ç›®ä¸­å¦‚ä½•å®ç°æ¥å£è°ƒç”¨ï¼Ÿ"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->JAVA é¡¹ç›®ä¸­å¦‚ä½•å®ç°æ¥å£è°ƒç”¨ï¼Ÿ<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/note/blogs/SpringCloud/MyNote_SpringCloud.html#ä»€ä¹ˆæ˜¯feign" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="ä»€ä¹ˆæ˜¯Feign"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->ä»€ä¹ˆæ˜¯Feign<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/note/blogs/SpringCloud/MyNote_SpringCloud.html#spring-cloud-alibabaå¿«é€Ÿæ•´åˆopenfeign-å››æ­¥" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="Spring Cloud Alibabaå¿«é€Ÿæ•´åˆOpenFeignï¼ˆå››æ­¥ï¼‰"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Spring Cloud Alibabaå¿«é€Ÿæ•´åˆOpenFeignï¼ˆå››æ­¥ï¼‰<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--[--><li class="page-catalog-menu-depth_3"><a aria-current="page" href="/note/blogs/SpringCloud/MyNote_SpringCloud.html#spring-cloud-feignçš„è‡ªå®šä¹‰é…ç½®åŠä½¿ç”¨" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="Spring Cloud Feignçš„è‡ªå®šä¹‰é…ç½®åŠä½¿ç”¨"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->Spring Cloud Feignçš„è‡ªå®šä¹‰é…ç½®åŠä½¿ç”¨<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--><!--[--><li class="page-catalog-menu-depth_2"><a aria-current="page" href="/note/blogs/SpringCloud/MyNote_SpringCloud.html#sentinel" class="router-link-active router-link-exact-active link page-catalog-item" aria-label="sentinel"><!--[--><!--]--><span class="xicon-container left"><!--[--><!----><!--]--><span class="xicon-content" style="color:inherit;font-size:14px;"><!--[-->sentinel<!--]--></span></span><!--[--><!--]--></a></li><!--]--><!--]--></ul></div></div></div><!----><!----><!--]--></div>
    <script type="module" src="/note/assets/app-55752f72.js" defer></script>
  </body>
</html>
